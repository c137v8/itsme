(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var h0={exports:{}},cu={},f0={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=Symbol.for("react.element"),YT=Symbol.for("react.portal"),KT=Symbol.for("react.fragment"),qT=Symbol.for("react.strict_mode"),ZT=Symbol.for("react.profiler"),QT=Symbol.for("react.provider"),JT=Symbol.for("react.context"),eE=Symbol.for("react.forward_ref"),tE=Symbol.for("react.suspense"),rE=Symbol.for("react.memo"),nE=Symbol.for("react.lazy"),fm=Symbol.iterator;function iE(t){return t===null||typeof t!="object"?null:(t=fm&&t[fm]||t["@@iterator"],typeof t=="function"?t:null)}var d0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p0=Object.assign,m0={};function cs(t,e,r){this.props=t,this.context=e,this.refs=m0,this.updater=r||d0}cs.prototype.isReactComponent={};cs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function g0(){}g0.prototype=cs.prototype;function _d(t,e,r){this.props=t,this.context=e,this.refs=m0,this.updater=r||d0}var wd=_d.prototype=new g0;wd.constructor=_d;p0(wd,cs.prototype);wd.isPureReactComponent=!0;var dm=Array.isArray,y0=Object.prototype.hasOwnProperty,Td={current:null},v0={key:!0,ref:!0,__self:!0,__source:!0};function x0(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)y0.call(e,n)&&!v0.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Vo,type:t,key:s,ref:o,props:i,_owner:Td.current}}function sE(t,e){return{$$typeof:Vo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ed(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vo}function oE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var pm=/\/+/g;function ju(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oE(""+t.key):e.toString(36)}function $a(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vo:case YT:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+ju(o,0):n,dm(i)?(r="",t!=null&&(r=t.replace(pm,"$&/")+"/"),$a(i,e,r,"",function(u){return u})):i!=null&&(Ed(i)&&(i=sE(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",dm(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+ju(s,a);o+=$a(s,e,r,l,i)}else if(l=iE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+ju(s,a++),o+=$a(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function na(t,e,r){if(t==null)return t;var n=[],i=0;return $a(t,n,"","",function(s){return e.call(r,s,i++)}),n}function aE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var at={current:null},Wa={transition:null},lE={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:Wa,ReactCurrentOwner:Td};function _0(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:na,forEach:function(t,e,r){na(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return na(t,function(){e++}),e},toArray:function(t){return na(t,function(e){return e})||[]},only:function(t){if(!Ed(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=cs;ee.Fragment=KT;ee.Profiler=ZT;ee.PureComponent=_d;ee.StrictMode=qT;ee.Suspense=tE;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lE;ee.act=_0;ee.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=p0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Td.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)y0.call(e,l)&&!v0.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Vo,type:t.type,key:i,ref:s,props:n,_owner:o}};ee.createContext=function(t){return t={$$typeof:JT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QT,_context:t},t.Consumer=t};ee.createElement=x0;ee.createFactory=function(t){var e=x0.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:eE,render:t}};ee.isValidElement=Ed;ee.lazy=function(t){return{$$typeof:nE,_payload:{_status:-1,_result:t},_init:aE}};ee.memo=function(t,e){return{$$typeof:rE,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=Wa.transition;Wa.transition={};try{t()}finally{Wa.transition=e}};ee.unstable_act=_0;ee.useCallback=function(t,e){return at.current.useCallback(t,e)};ee.useContext=function(t){return at.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return at.current.useDeferredValue(t)};ee.useEffect=function(t,e){return at.current.useEffect(t,e)};ee.useId=function(){return at.current.useId()};ee.useImperativeHandle=function(t,e,r){return at.current.useImperativeHandle(t,e,r)};ee.useInsertionEffect=function(t,e){return at.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return at.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return at.current.useMemo(t,e)};ee.useReducer=function(t,e,r){return at.current.useReducer(t,e,r)};ee.useRef=function(t){return at.current.useRef(t)};ee.useState=function(t){return at.current.useState(t)};ee.useSyncExternalStore=function(t,e,r){return at.current.useSyncExternalStore(t,e,r)};ee.useTransition=function(){return at.current.useTransition()};ee.version="18.3.1";f0.exports=ee;var $=f0.exports;const tn=xd($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE=$,cE=Symbol.for("react.element"),hE=Symbol.for("react.fragment"),fE=Object.prototype.hasOwnProperty,dE=uE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pE={key:!0,ref:!0,__self:!0,__source:!0};function w0(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)fE.call(e,n)&&!pE.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:cE,type:t,key:s,ref:o,props:i,_owner:dE.current}}cu.Fragment=hE;cu.jsx=w0;cu.jsxs=w0;h0.exports=cu;var z=h0.exports,wh={},T0={exports:{}},St={},E0={exports:{}},S0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,O){var A=I.length;I.push(O);e:for(;0<A;){var L=A-1>>>1,X=I[L];if(0<i(X,O))I[L]=O,I[A]=X,A=L;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var O=I[0],A=I.pop();if(A!==O){I[0]=A;e:for(var L=0,X=I.length,ne=X>>>1;L<ne;){var re=2*(L+1)-1,Se=I[re],le=re+1,ge=I[le];if(0>i(Se,A))le<X&&0>i(ge,Se)?(I[L]=ge,I[le]=A,L=le):(I[L]=Se,I[re]=A,L=re);else if(le<X&&0>i(ge,A))I[L]=ge,I[le]=A,L=le;else break e}}return O}function i(I,O){var A=I.sortIndex-O.sortIndex;return A!==0?A:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,p=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(I){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=I)n(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=r(u)}}function _(I){if(v=!1,m(I),!p)if(r(l)!==null)p=!0,Z(w);else{var O=r(u);O!==null&&k(_,O.startTime-I)}}function w(I,O){p=!1,v&&(v=!1,g(T),T=-1),d=!0;var A=f;try{for(m(O),h=r(l);h!==null&&(!(h.expirationTime>O)||I&&!M());){var L=h.callback;if(typeof L=="function"){h.callback=null,f=h.priorityLevel;var X=L(h.expirationTime<=O);O=t.unstable_now(),typeof X=="function"?h.callback=X:h===r(l)&&n(l),m(O)}else n(l);h=r(l)}if(h!==null)var ne=!0;else{var re=r(u);re!==null&&k(_,re.startTime-O),ne=!1}return ne}finally{h=null,f=A,d=!1}}var S=!1,E=null,T=-1,R=5,P=-1;function M(){return!(t.unstable_now()-P<R)}function F(){if(E!==null){var I=t.unstable_now();P=I;var O=!0;try{O=E(!0,I)}finally{O?C():(S=!1,E=null)}}else S=!1}var C;if(typeof y=="function")C=function(){y(F)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,W=b.port2;b.port1.onmessage=F,C=function(){W.postMessage(null)}}else C=function(){x(F,0)};function Z(I){E=I,S||(S=!0,C())}function k(I,O){T=x(function(){I(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,Z(w))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var A=f;f=O;try{return I()}finally{f=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var A=f;f=I;try{return O()}finally{f=A}},t.unstable_scheduleCallback=function(I,O,A){var L=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?L+A:L):A=L,I){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=A+X,I={id:c++,callback:O,priorityLevel:I,startTime:A,expirationTime:X,sortIndex:-1},A>L?(I.sortIndex=A,e(u,I),r(l)===null&&I===r(u)&&(v?(g(T),T=-1):v=!0,k(_,A-L))):(I.sortIndex=X,e(l,I),p||d||(p=!0,Z(w))),I},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(I){var O=f;return function(){var A=f;f=O;try{return I.apply(this,arguments)}finally{f=A}}}})(S0);E0.exports=S0;var mE=E0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE=$,Et=mE;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A0=new Set,lo={};function ni(t,e){qi(t,e),qi(t+"Capture",e)}function qi(t,e){for(lo[t]=e,t=0;t<e.length;t++)A0.add(e[t])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,yE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mm={},gm={};function vE(t){return Th.call(gm,t)?!0:Th.call(mm,t)?!1:yE.test(t)?gm[t]=!0:(mm[t]=!0,!1)}function xE(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _E(t,e,r,n){if(e===null||typeof e>"u"||xE(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sd=/[\-:]([a-z])/g;function Ad(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sd,Ad);Ze[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sd,Ad);Ze[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sd,Ad);Ze[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function bd(t,e,r,n){var i=Ze.hasOwnProperty(e)?Ze[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_E(e,r,i,n)&&(r=null),n||i===null?vE(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Gr=gE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ia=Symbol.for("react.element"),yi=Symbol.for("react.portal"),vi=Symbol.for("react.fragment"),Cd=Symbol.for("react.strict_mode"),Eh=Symbol.for("react.profiler"),b0=Symbol.for("react.provider"),C0=Symbol.for("react.context"),Pd=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),Ah=Symbol.for("react.suspense_list"),Id=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),P0=Symbol.for("react.offscreen"),ym=Symbol.iterator;function xs(t){return t===null||typeof t!="object"?null:(t=ym&&t[ym]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,Hu;function Bs(t){if(Hu===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Hu=e&&e[1]||""}return`
`+Hu+t}var $u=!1;function Wu(t,e){if(!t||$u)return"";$u=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$u=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Bs(t):""}function wE(t){switch(t.tag){case 5:return Bs(t.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return t=Wu(t.type,!1),t;case 11:return t=Wu(t.type.render,!1),t;case 1:return t=Wu(t.type,!0),t;default:return""}}function bh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vi:return"Fragment";case yi:return"Portal";case Eh:return"Profiler";case Cd:return"StrictMode";case Sh:return"Suspense";case Ah:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C0:return(t.displayName||"Context")+".Consumer";case b0:return(t._context.displayName||"Context")+".Provider";case Pd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Id:return e=t.displayName||null,e!==null?e:bh(t.type)||"Memo";case Xr:e=t._payload,t=t._init;try{return bh(t(e))}catch{}}return null}function TE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bh(e);case 8:return e===Cd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EE(t){var e=I0(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sa(t){t._valueTracker||(t._valueTracker=EE(t))}function R0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=I0(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function gl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ch(t,e){var r=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function vm(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M0(t,e){e=e.checked,e!=null&&bd(t,"checked",e,!1)}function Ph(t,e){M0(t,e);var r=fn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ih(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ih(t,e.type,fn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xm(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ih(t,e,r){(e!=="number"||gl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Fs=Array.isArray;function Li(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _m(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(D(92));if(Fs(r)){if(1<r.length)throw Error(D(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fn(r)}}function D0(t,e){var r=fn(e.value),n=fn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function wm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function k0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?k0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oa,B0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oa=oa||document.createElement("div"),oa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uo(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SE=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(t){SE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hs[e]=Hs[t]})});function F0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Hs.hasOwnProperty(t)&&Hs[t]?(""+e).trim():e+"px"}function O0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=F0(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var AE=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(t,e){if(e){if(AE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function kh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=null;function Rd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fh=null,Ni=null,Ui=null;function Tm(t){if(t=jo(t)){if(typeof Fh!="function")throw Error(D(280));var e=t.stateNode;e&&(e=mu(e),Fh(t.stateNode,t.type,e))}}function L0(t){Ni?Ui?Ui.push(t):Ui=[t]:Ni=t}function N0(){if(Ni){var t=Ni,e=Ui;if(Ui=Ni=null,Tm(t),e)for(t=0;t<e.length;t++)Tm(e[t])}}function U0(t,e){return t(e)}function V0(){}var Xu=!1;function G0(t,e,r){if(Xu)return t(e,r);Xu=!0;try{return U0(t,e,r)}finally{Xu=!1,(Ni!==null||Ui!==null)&&(V0(),N0())}}function co(t,e){var r=t.stateNode;if(r===null)return null;var n=mu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(D(231,e,typeof r));return r}var Oh=!1;if(Fr)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Oh=!1}function bE(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var $s=!1,yl=null,vl=!1,Lh=null,CE={onError:function(t){$s=!0,yl=t}};function PE(t,e,r,n,i,s,o,a,l){$s=!1,yl=null,bE.apply(CE,arguments)}function IE(t,e,r,n,i,s,o,a,l){if(PE.apply(this,arguments),$s){if($s){var u=yl;$s=!1,yl=null}else throw Error(D(198));vl||(vl=!0,Lh=u)}}function ii(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function z0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Em(t){if(ii(t)!==t)throw Error(D(188))}function RE(t){var e=t.alternate;if(!e){if(e=ii(t),e===null)throw Error(D(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Em(i),t;if(s===n)return Em(i),e;s=s.sibling}throw Error(D(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?t:e}function j0(t){return t=RE(t),t!==null?H0(t):null}function H0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=H0(t);if(e!==null)return e;t=t.sibling}return null}var $0=Et.unstable_scheduleCallback,Sm=Et.unstable_cancelCallback,ME=Et.unstable_shouldYield,DE=Et.unstable_requestPaint,Me=Et.unstable_now,kE=Et.unstable_getCurrentPriorityLevel,Md=Et.unstable_ImmediatePriority,W0=Et.unstable_UserBlockingPriority,xl=Et.unstable_NormalPriority,BE=Et.unstable_LowPriority,X0=Et.unstable_IdlePriority,hu=null,mr=null;function FE(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(hu,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:NE,OE=Math.log,LE=Math.LN2;function NE(t){return t>>>=0,t===0?32:31-(OE(t)/LE|0)|0}var aa=64,la=4194304;function Os(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _l(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Os(a):(s&=o,s!==0&&(n=Os(s)))}else o=r&~i,o!==0?n=Os(o):s!==0&&(n=Os(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Zt(e),i=1<<r,n|=t[r],e&=~i;return n}function UE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VE(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zt(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=UE(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Nh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Y0(){var t=aa;return aa<<=1,!(aa&4194240)&&(aa=64),t}function Yu(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Go(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=r}function GE(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Zt(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Dd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Zt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ae=0;function K0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q0,kd,Z0,Q0,J0,Uh=!1,ua=[],rn=null,nn=null,sn=null,ho=new Map,fo=new Map,Kr=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Am(t,e){switch(t){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":ho.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(e.pointerId)}}function ws(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=jo(e),e!==null&&kd(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jE(t,e,r,n,i){switch(e){case"focusin":return rn=ws(rn,t,e,r,n,i),!0;case"dragenter":return nn=ws(nn,t,e,r,n,i),!0;case"mouseover":return sn=ws(sn,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ho.set(s,ws(ho.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,fo.set(s,ws(fo.get(s)||null,t,e,r,n,i)),!0}return!1}function e1(t){var e=On(t.target);if(e!==null){var r=ii(e);if(r!==null){if(e=r.tag,e===13){if(e=z0(r),e!==null){t.blockedOn=e,J0(t.priority,function(){Z0(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Vh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Bh=n,r.target.dispatchEvent(n),Bh=null}else return e=jo(r),e!==null&&kd(e),t.blockedOn=r,!1;e.shift()}return!0}function bm(t,e,r){Xa(t)&&r.delete(e)}function HE(){Uh=!1,rn!==null&&Xa(rn)&&(rn=null),nn!==null&&Xa(nn)&&(nn=null),sn!==null&&Xa(sn)&&(sn=null),ho.forEach(bm),fo.forEach(bm)}function Ts(t,e){t.blockedOn===e&&(t.blockedOn=null,Uh||(Uh=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,HE)))}function po(t){function e(i){return Ts(i,t)}if(0<ua.length){Ts(ua[0],t);for(var r=1;r<ua.length;r++){var n=ua[r];n.blockedOn===t&&(n.blockedOn=null)}}for(rn!==null&&Ts(rn,t),nn!==null&&Ts(nn,t),sn!==null&&Ts(sn,t),ho.forEach(e),fo.forEach(e),r=0;r<Kr.length;r++)n=Kr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Kr.length&&(r=Kr[0],r.blockedOn===null);)e1(r),r.blockedOn===null&&Kr.shift()}var Vi=Gr.ReactCurrentBatchConfig,wl=!0;function $E(t,e,r,n){var i=ae,s=Vi.transition;Vi.transition=null;try{ae=1,Bd(t,e,r,n)}finally{ae=i,Vi.transition=s}}function WE(t,e,r,n){var i=ae,s=Vi.transition;Vi.transition=null;try{ae=4,Bd(t,e,r,n)}finally{ae=i,Vi.transition=s}}function Bd(t,e,r,n){if(wl){var i=Vh(t,e,r,n);if(i===null)ic(t,e,n,Tl,r),Am(t,n);else if(jE(i,t,e,r,n))n.stopPropagation();else if(Am(t,n),e&4&&-1<zE.indexOf(t)){for(;i!==null;){var s=jo(i);if(s!==null&&q0(s),s=Vh(t,e,r,n),s===null&&ic(t,e,n,Tl,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else ic(t,e,n,null,r)}}var Tl=null;function Vh(t,e,r,n){if(Tl=null,t=Rd(n),t=On(t),t!==null)if(e=ii(t),e===null)t=null;else if(r=e.tag,r===13){if(t=z0(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tl=t,null}function t1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kE()){case Md:return 1;case W0:return 4;case xl:case BE:return 16;case X0:return 536870912;default:return 16}default:return 16}}var Zr=null,Fd=null,Ya=null;function r1(){if(Ya)return Ya;var t,e=Fd,r=e.length,n,i="value"in Zr?Zr.value:Zr.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Ya=i.slice(t,1<n?1-n:void 0)}function Ka(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ca(){return!0}function Cm(){return!1}function At(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ca:Cm,this.isPropagationStopped=Cm,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),e}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Od=At(hs),zo=Te({},hs,{view:0,detail:0}),XE=At(zo),Ku,qu,Es,fu=Te({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Es&&(Es&&t.type==="mousemove"?(Ku=t.screenX-Es.screenX,qu=t.screenY-Es.screenY):qu=Ku=0,Es=t),Ku)},movementY:function(t){return"movementY"in t?t.movementY:qu}}),Pm=At(fu),YE=Te({},fu,{dataTransfer:0}),KE=At(YE),qE=Te({},zo,{relatedTarget:0}),Zu=At(qE),ZE=Te({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),QE=At(ZE),JE=Te({},hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eS=At(JE),tS=Te({},hs,{data:0}),Im=At(tS),rS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iS[t])?!!e[t]:!1}function Ld(){return sS}var oS=Te({},zo,{key:function(t){if(t.key){var e=rS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ka(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(t){return t.type==="keypress"?Ka(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ka(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aS=At(oS),lS=Te({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rm=At(lS),uS=Te({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),cS=At(uS),hS=Te({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),fS=At(hS),dS=Te({},fu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pS=At(dS),mS=[9,13,27,32],Nd=Fr&&"CompositionEvent"in window,Ws=null;Fr&&"documentMode"in document&&(Ws=document.documentMode);var gS=Fr&&"TextEvent"in window&&!Ws,n1=Fr&&(!Nd||Ws&&8<Ws&&11>=Ws),Mm=" ",Dm=!1;function i1(t,e){switch(t){case"keyup":return mS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xi=!1;function yS(t,e){switch(t){case"compositionend":return s1(e);case"keypress":return e.which!==32?null:(Dm=!0,Mm);case"textInput":return t=e.data,t===Mm&&Dm?null:t;default:return null}}function vS(t,e){if(xi)return t==="compositionend"||!Nd&&i1(t,e)?(t=r1(),Ya=Fd=Zr=null,xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return n1&&e.locale!=="ko"?null:e.data;default:return null}}var xS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xS[t.type]:e==="textarea"}function o1(t,e,r,n){L0(n),e=El(e,"onChange"),0<e.length&&(r=new Od("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Xs=null,mo=null;function _S(t){y1(t,0)}function du(t){var e=Ti(t);if(R0(e))return t}function wS(t,e){if(t==="change")return e}var a1=!1;if(Fr){var Qu;if(Fr){var Ju="oninput"in document;if(!Ju){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),Ju=typeof Bm.oninput=="function"}Qu=Ju}else Qu=!1;a1=Qu&&(!document.documentMode||9<document.documentMode)}function Fm(){Xs&&(Xs.detachEvent("onpropertychange",l1),mo=Xs=null)}function l1(t){if(t.propertyName==="value"&&du(mo)){var e=[];o1(e,mo,t,Rd(t)),G0(_S,e)}}function TS(t,e,r){t==="focusin"?(Fm(),Xs=e,mo=r,Xs.attachEvent("onpropertychange",l1)):t==="focusout"&&Fm()}function ES(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return du(mo)}function SS(t,e){if(t==="click")return du(e)}function AS(t,e){if(t==="input"||t==="change")return du(e)}function bS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:bS;function go(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Th.call(e,i)||!rr(t[i],e[i]))return!1}return!0}function Om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lm(t,e){var r=Om(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Om(r)}}function u1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function c1(){for(var t=window,e=gl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=gl(t.document)}return e}function Ud(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CS(t){var e=c1(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&u1(r.ownerDocument.documentElement,r)){if(n!==null&&Ud(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Lm(r,s);var o=Lm(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PS=Fr&&"documentMode"in document&&11>=document.documentMode,_i=null,Gh=null,Ys=null,zh=!1;function Nm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zh||_i==null||_i!==gl(n)||(n=_i,"selectionStart"in n&&Ud(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ys&&go(Ys,n)||(Ys=n,n=El(Gh,"onSelect"),0<n.length&&(e=new Od("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_i)))}function ha(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var wi={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionend:ha("Transition","TransitionEnd")},ec={},h1={};Fr&&(h1=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function pu(t){if(ec[t])return ec[t];if(!wi[t])return t;var e=wi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in h1)return ec[t]=e[r];return t}var f1=pu("animationend"),d1=pu("animationiteration"),p1=pu("animationstart"),m1=pu("transitionend"),g1=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(t,e){g1.set(t,e),ni(e,[t])}for(var tc=0;tc<Um.length;tc++){var rc=Um[tc],IS=rc.toLowerCase(),RS=rc[0].toUpperCase()+rc.slice(1);_n(IS,"on"+RS)}_n(f1,"onAnimationEnd");_n(d1,"onAnimationIteration");_n(p1,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(m1,"onTransitionEnd");qi("onMouseEnter",["mouseout","mouseover"]);qi("onMouseLeave",["mouseout","mouseover"]);qi("onPointerEnter",["pointerout","pointerover"]);qi("onPointerLeave",["pointerout","pointerover"]);ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function Vm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,IE(n,e,void 0,t),t.currentTarget=null}function y1(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Vm(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Vm(i,a,u),s=l}}}if(vl)throw t=Lh,vl=!1,Lh=null,t}function ce(t,e){var r=e[Xh];r===void 0&&(r=e[Xh]=new Set);var n=t+"__bubble";r.has(n)||(v1(e,t,2,!1),r.add(n))}function nc(t,e,r){var n=0;e&&(n|=4),v1(r,t,n,e)}var fa="_reactListening"+Math.random().toString(36).slice(2);function yo(t){if(!t[fa]){t[fa]=!0,A0.forEach(function(r){r!=="selectionchange"&&(MS.has(r)||nc(r,!1,t),nc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fa]||(e[fa]=!0,nc("selectionchange",!1,e))}}function v1(t,e,r,n){switch(t1(e)){case 1:var i=$E;break;case 4:i=WE;break;default:i=Bd}r=i.bind(null,e,r,t),i=void 0,!Oh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function ic(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=On(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}G0(function(){var u=s,c=Rd(r),h=[];e:{var f=g1.get(t);if(f!==void 0){var d=Od,p=t;switch(t){case"keypress":if(Ka(r)===0)break e;case"keydown":case"keyup":d=aS;break;case"focusin":p="focus",d=Zu;break;case"focusout":p="blur",d=Zu;break;case"beforeblur":case"afterblur":d=Zu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Pm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=KE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=cS;break;case f1:case d1:case p1:d=QE;break;case m1:d=fS;break;case"scroll":d=XE;break;case"wheel":d=pS;break;case"copy":case"cut":case"paste":d=eS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Rm}var v=(e&4)!==0,x=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=u,m;y!==null;){m=y;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,g!==null&&(_=co(y,g),_!=null&&v.push(vo(y,_,m)))),x)break;y=y.return}0<v.length&&(f=new d(f,p,null,r,c),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&r!==Bh&&(p=r.relatedTarget||r.fromElement)&&(On(p)||p[Or]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=u,p=p?On(p):null,p!==null&&(x=ii(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(v=Pm,_="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=Rm,_="onPointerLeave",g="onPointerEnter",y="pointer"),x=d==null?f:Ti(d),m=p==null?f:Ti(p),f=new v(_,y+"leave",d,r,c),f.target=x,f.relatedTarget=m,_=null,On(c)===u&&(v=new v(g,y+"enter",p,r,c),v.target=m,v.relatedTarget=x,_=v),x=_,d&&p)t:{for(v=d,g=p,y=0,m=v;m;m=ai(m))y++;for(m=0,_=g;_;_=ai(_))m++;for(;0<y-m;)v=ai(v),y--;for(;0<m-y;)g=ai(g),m--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=ai(v),g=ai(g)}v=null}else v=null;d!==null&&Gm(h,f,d,v,!1),p!==null&&x!==null&&Gm(h,x,p,v,!0)}}e:{if(f=u?Ti(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var w=wS;else if(km(f))if(a1)w=AS;else{w=ES;var S=TS}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=SS);if(w&&(w=w(t,u))){o1(h,w,r,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Ih(f,"number",f.value)}switch(S=u?Ti(u):window,t){case"focusin":(km(S)||S.contentEditable==="true")&&(_i=S,Gh=u,Ys=null);break;case"focusout":Ys=Gh=_i=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Nm(h,r,c);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":Nm(h,r,c)}var E;if(Nd)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else xi?i1(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(n1&&r.locale!=="ko"&&(xi||T!=="onCompositionStart"?T==="onCompositionEnd"&&xi&&(E=r1()):(Zr=c,Fd="value"in Zr?Zr.value:Zr.textContent,xi=!0)),S=El(u,T),0<S.length&&(T=new Im(T,t,null,r,c),h.push({event:T,listeners:S}),E?T.data=E:(E=s1(r),E!==null&&(T.data=E)))),(E=gS?yS(t,r):vS(t,r))&&(u=El(u,"onBeforeInput"),0<u.length&&(c=new Im("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=E))}y1(h,e)})}function vo(t,e,r){return{instance:t,listener:e,currentTarget:r}}function El(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=co(t,r),s!=null&&n.unshift(vo(t,s,i)),s=co(t,e),s!=null&&n.push(vo(t,s,i))),t=t.return}return n}function ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gm(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=co(r,s),l!=null&&o.unshift(vo(r,l,a))):i||(l=co(r,s),l!=null&&o.push(vo(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var DS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function zm(t){return(typeof t=="string"?t:""+t).replace(DS,`
`).replace(kS,"")}function da(t,e,r){if(e=zm(e),zm(t)!==e&&r)throw Error(D(425))}function Sl(){}var jh=null,Hh=null;function $h(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wh=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,FS=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(t){return jm.resolve(null).then(t).catch(OS)}:Wh;function OS(t){setTimeout(function(){throw t})}function sc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),po(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);po(e)}function on(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fs=Math.random().toString(36).slice(2),dr="__reactFiber$"+fs,xo="__reactProps$"+fs,Or="__reactContainer$"+fs,Xh="__reactEvents$"+fs,LS="__reactListeners$"+fs,NS="__reactHandles$"+fs;function On(t){var e=t[dr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Or]||r[dr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Hm(t);t!==null;){if(r=t[dr])return r;t=Hm(t)}return e}t=r,r=t.parentNode}return null}function jo(t){return t=t[dr]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ti(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function mu(t){return t[xo]||null}var Yh=[],Ei=-1;function wn(t){return{current:t}}function he(t){0>Ei||(t.current=Yh[Ei],Yh[Ei]=null,Ei--)}function ue(t,e){Ei++,Yh[Ei]=t.current,t.current=e}var dn={},nt=wn(dn),pt=wn(!1),Yn=dn;function Zi(t,e){var r=t.type.contextTypes;if(!r)return dn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mt(t){return t=t.childContextTypes,t!=null}function Al(){he(pt),he(nt)}function $m(t,e,r){if(nt.current!==dn)throw Error(D(168));ue(nt,e),ue(pt,r)}function x1(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(D(108,TE(t)||"Unknown",i));return Te({},r,n)}function bl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dn,Yn=nt.current,ue(nt,t),ue(pt,pt.current),!0}function Wm(t,e,r){var n=t.stateNode;if(!n)throw Error(D(169));r?(t=x1(t,e,Yn),n.__reactInternalMemoizedMergedChildContext=t,he(pt),he(nt),ue(nt,t)):he(pt),ue(pt,r)}var Pr=null,gu=!1,oc=!1;function _1(t){Pr===null?Pr=[t]:Pr.push(t)}function US(t){gu=!0,_1(t)}function Tn(){if(!oc&&Pr!==null){oc=!0;var t=0,e=ae;try{var r=Pr;for(ae=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Pr=null,gu=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),$0(Md,Tn),i}finally{ae=e,oc=!1}}return null}var Si=[],Ai=0,Cl=null,Pl=0,Pt=[],It=0,Kn=null,Ir=1,Rr="";function Pn(t,e){Si[Ai++]=Pl,Si[Ai++]=Cl,Cl=t,Pl=e}function w1(t,e,r){Pt[It++]=Ir,Pt[It++]=Rr,Pt[It++]=Kn,Kn=t;var n=Ir;t=Rr;var i=32-Zt(n)-1;n&=~(1<<i),r+=1;var s=32-Zt(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ir=1<<32-Zt(e)+i|r<<i|n,Rr=s+t}else Ir=1<<s|r<<i|n,Rr=t}function Vd(t){t.return!==null&&(Pn(t,1),w1(t,1,0))}function Gd(t){for(;t===Cl;)Cl=Si[--Ai],Si[Ai]=null,Pl=Si[--Ai],Si[Ai]=null;for(;t===Kn;)Kn=Pt[--It],Pt[It]=null,Rr=Pt[--It],Pt[It]=null,Ir=Pt[--It],Pt[It]=null}var Tt=null,wt=null,de=!1,Xt=null;function T1(t,e){var r=Rt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Xm(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tt=t,wt=on(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tt=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Kn!==null?{id:Ir,overflow:Rr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Rt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Tt=t,wt=null,!0):!1;default:return!1}}function Kh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qh(t){if(de){var e=wt;if(e){var r=e;if(!Xm(t,e)){if(Kh(t))throw Error(D(418));e=on(r.nextSibling);var n=Tt;e&&Xm(t,e)?T1(n,r):(t.flags=t.flags&-4097|2,de=!1,Tt=t)}}else{if(Kh(t))throw Error(D(418));t.flags=t.flags&-4097|2,de=!1,Tt=t}}}function Ym(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tt=t}function pa(t){if(t!==Tt)return!1;if(!de)return Ym(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$h(t.type,t.memoizedProps)),e&&(e=wt)){if(Kh(t))throw E1(),Error(D(418));for(;e;)T1(t,e),e=on(e.nextSibling)}if(Ym(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){wt=on(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=Tt?on(t.stateNode.nextSibling):null;return!0}function E1(){for(var t=wt;t;)t=on(t.nextSibling)}function Qi(){wt=Tt=null,de=!1}function zd(t){Xt===null?Xt=[t]:Xt.push(t)}var VS=Gr.ReactCurrentBatchConfig;function Ss(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,t))}return t}function ma(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Km(t){var e=t._init;return e(t._payload)}function S1(t){function e(g,y){if(t){var m=g.deletions;m===null?(g.deletions=[y],g.flags|=16):m.push(y)}}function r(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=cn(g,y),g.index=0,g.sibling=null,g}function s(g,y,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<y?(g.flags|=2,y):m):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,m,_){return y===null||y.tag!==6?(y=dc(m,g.mode,_),y.return=g,y):(y=i(y,m),y.return=g,y)}function l(g,y,m,_){var w=m.type;return w===vi?c(g,y,m.props.children,_,m.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Xr&&Km(w)===y.type)?(_=i(y,m.props),_.ref=Ss(g,y,m),_.return=g,_):(_=rl(m.type,m.key,m.props,null,g.mode,_),_.ref=Ss(g,y,m),_.return=g,_)}function u(g,y,m,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=pc(m,g.mode,_),y.return=g,y):(y=i(y,m.children||[]),y.return=g,y)}function c(g,y,m,_,w){return y===null||y.tag!==7?(y=jn(m,g.mode,_,w),y.return=g,y):(y=i(y,m),y.return=g,y)}function h(g,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=dc(""+y,g.mode,m),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ia:return m=rl(y.type,y.key,y.props,null,g.mode,m),m.ref=Ss(g,null,y),m.return=g,m;case yi:return y=pc(y,g.mode,m),y.return=g,y;case Xr:var _=y._init;return h(g,_(y._payload),m)}if(Fs(y)||xs(y))return y=jn(y,g.mode,m,null),y.return=g,y;ma(g,y)}return null}function f(g,y,m,_){var w=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return w!==null?null:a(g,y,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ia:return m.key===w?l(g,y,m,_):null;case yi:return m.key===w?u(g,y,m,_):null;case Xr:return w=m._init,f(g,y,w(m._payload),_)}if(Fs(m)||xs(m))return w!==null?null:c(g,y,m,_,null);ma(g,m)}return null}function d(g,y,m,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(m)||null,a(y,g,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ia:return g=g.get(_.key===null?m:_.key)||null,l(y,g,_,w);case yi:return g=g.get(_.key===null?m:_.key)||null,u(y,g,_,w);case Xr:var S=_._init;return d(g,y,m,S(_._payload),w)}if(Fs(_)||xs(_))return g=g.get(m)||null,c(y,g,_,w,null);ma(y,_)}return null}function p(g,y,m,_){for(var w=null,S=null,E=y,T=y=0,R=null;E!==null&&T<m.length;T++){E.index>T?(R=E,E=null):R=E.sibling;var P=f(g,E,m[T],_);if(P===null){E===null&&(E=R);break}t&&E&&P.alternate===null&&e(g,E),y=s(P,y,T),S===null?w=P:S.sibling=P,S=P,E=R}if(T===m.length)return r(g,E),de&&Pn(g,T),w;if(E===null){for(;T<m.length;T++)E=h(g,m[T],_),E!==null&&(y=s(E,y,T),S===null?w=E:S.sibling=E,S=E);return de&&Pn(g,T),w}for(E=n(g,E);T<m.length;T++)R=d(E,g,T,m[T],_),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?T:R.key),y=s(R,y,T),S===null?w=R:S.sibling=R,S=R);return t&&E.forEach(function(M){return e(g,M)}),de&&Pn(g,T),w}function v(g,y,m,_){var w=xs(m);if(typeof w!="function")throw Error(D(150));if(m=w.call(m),m==null)throw Error(D(151));for(var S=w=null,E=y,T=y=0,R=null,P=m.next();E!==null&&!P.done;T++,P=m.next()){E.index>T?(R=E,E=null):R=E.sibling;var M=f(g,E,P.value,_);if(M===null){E===null&&(E=R);break}t&&E&&M.alternate===null&&e(g,E),y=s(M,y,T),S===null?w=M:S.sibling=M,S=M,E=R}if(P.done)return r(g,E),de&&Pn(g,T),w;if(E===null){for(;!P.done;T++,P=m.next())P=h(g,P.value,_),P!==null&&(y=s(P,y,T),S===null?w=P:S.sibling=P,S=P);return de&&Pn(g,T),w}for(E=n(g,E);!P.done;T++,P=m.next())P=d(E,g,T,P.value,_),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?T:P.key),y=s(P,y,T),S===null?w=P:S.sibling=P,S=P);return t&&E.forEach(function(F){return e(g,F)}),de&&Pn(g,T),w}function x(g,y,m,_){if(typeof m=="object"&&m!==null&&m.type===vi&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ia:e:{for(var w=m.key,S=y;S!==null;){if(S.key===w){if(w=m.type,w===vi){if(S.tag===7){r(g,S.sibling),y=i(S,m.props.children),y.return=g,g=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Xr&&Km(w)===S.type){r(g,S.sibling),y=i(S,m.props),y.ref=Ss(g,S,m),y.return=g,g=y;break e}r(g,S);break}else e(g,S);S=S.sibling}m.type===vi?(y=jn(m.props.children,g.mode,_,m.key),y.return=g,g=y):(_=rl(m.type,m.key,m.props,null,g.mode,_),_.ref=Ss(g,y,m),_.return=g,g=_)}return o(g);case yi:e:{for(S=m.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){r(g,y.sibling),y=i(y,m.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else e(g,y);y=y.sibling}y=pc(m,g.mode,_),y.return=g,g=y}return o(g);case Xr:return S=m._init,x(g,y,S(m._payload),_)}if(Fs(m))return p(g,y,m,_);if(xs(m))return v(g,y,m,_);ma(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(r(g,y.sibling),y=i(y,m),y.return=g,g=y):(r(g,y),y=dc(m,g.mode,_),y.return=g,g=y),o(g)):r(g,y)}return x}var Ji=S1(!0),A1=S1(!1),Il=wn(null),Rl=null,bi=null,jd=null;function Hd(){jd=bi=Rl=null}function $d(t){var e=Il.current;he(Il),t._currentValue=e}function Zh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Gi(t,e){Rl=t,jd=bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ft=!0),t.firstContext=null)}function Bt(t){var e=t._currentValue;if(jd!==t)if(t={context:t,memoizedValue:e,next:null},bi===null){if(Rl===null)throw Error(D(308));bi=t,Rl.dependencies={lanes:0,firstContext:t}}else bi=bi.next=t;return e}var Ln=null;function Wd(t){Ln===null?Ln=[t]:Ln.push(t)}function b1(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Wd(e)):(r.next=i.next,i.next=r),e.interleaved=r,Lr(t,n)}function Lr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Yr=!1;function Xd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function an(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ie&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Lr(t,r)}return i=n.interleaved,i===null?(e.next=e,Wd(n)):(e.next=i.next,i.next=e),n.interleaved=e,Lr(t,r)}function qa(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Dd(t,r)}}function qm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ml(t,e,r,n){var i=t.updateQueue;Yr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(f=e,d=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=Te({},h,f);break e;case 2:Yr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zn|=o,t.lanes=o,t.memoizedState=h}}function Zm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(D(191,i));i.call(n)}}}var Ho={},gr=wn(Ho),_o=wn(Ho),wo=wn(Ho);function Nn(t){if(t===Ho)throw Error(D(174));return t}function Yd(t,e){switch(ue(wo,e),ue(_o,t),ue(gr,Ho),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mh(e,t)}he(gr),ue(gr,e)}function es(){he(gr),he(_o),he(wo)}function P1(t){Nn(wo.current);var e=Nn(gr.current),r=Mh(e,t.type);e!==r&&(ue(_o,t),ue(gr,r))}function Kd(t){_o.current===t&&(he(gr),he(_o))}var ve=wn(0);function Dl(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ac=[];function qd(){for(var t=0;t<ac.length;t++)ac[t]._workInProgressVersionPrimary=null;ac.length=0}var Za=Gr.ReactCurrentDispatcher,lc=Gr.ReactCurrentBatchConfig,qn=0,we=null,Ne=null,Ge=null,kl=!1,Ks=!1,To=0,GS=0;function Je(){throw Error(D(321))}function Zd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!rr(t[r],e[r]))return!1;return!0}function Qd(t,e,r,n,i,s){if(qn=s,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Za.current=t===null||t.memoizedState===null?$S:WS,t=r(n,i),Ks){s=0;do{if(Ks=!1,To=0,25<=s)throw Error(D(301));s+=1,Ge=Ne=null,e.updateQueue=null,Za.current=XS,t=r(n,i)}while(Ks)}if(Za.current=Bl,e=Ne!==null&&Ne.next!==null,qn=0,Ge=Ne=we=null,kl=!1,e)throw Error(D(300));return t}function Jd(){var t=To!==0;return To=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?we.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Ft(){if(Ne===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=Ge===null?we.memoizedState:Ge.next;if(e!==null)Ge=e,Ne=t;else{if(t===null)throw Error(D(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ge===null?we.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Eo(t,e){return typeof e=="function"?e(t):e}function uc(t){var e=Ft(),r=e.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=t;var n=Ne,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((qn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,we.lanes|=c,Zn|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,rr(n,e.memoizedState)||(ft=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,we.lanes|=s,Zn|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function cc(t){var e=Ft(),r=e.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);rr(s,e.memoizedState)||(ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function I1(){}function R1(t,e){var r=we,n=Ft(),i=e(),s=!rr(n.memoizedState,i);if(s&&(n.memoizedState=i,ft=!0),n=n.queue,ep(k1.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,So(9,D1.bind(null,r,n,i,e),void 0,null),ze===null)throw Error(D(349));qn&30||M1(r,e,i)}return i}function M1(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function D1(t,e,r,n){e.value=r,e.getSnapshot=n,B1(e)&&F1(t)}function k1(t,e,r){return r(function(){B1(e)&&F1(t)})}function B1(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!rr(t,r)}catch{return!0}}function F1(t){var e=Lr(t,1);e!==null&&Qt(e,t,1,-1)}function Qm(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:t},e.queue=t,t=t.dispatch=HS.bind(null,we,t),[e.memoizedState,t]}function So(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function O1(){return Ft().memoizedState}function Qa(t,e,r,n){var i=ur();we.flags|=t,i.memoizedState=So(1|e,r,void 0,n===void 0?null:n)}function yu(t,e,r,n){var i=Ft();n=n===void 0?null:n;var s=void 0;if(Ne!==null){var o=Ne.memoizedState;if(s=o.destroy,n!==null&&Zd(n,o.deps)){i.memoizedState=So(e,r,s,n);return}}we.flags|=t,i.memoizedState=So(1|e,r,s,n)}function Jm(t,e){return Qa(8390656,8,t,e)}function ep(t,e){return yu(2048,8,t,e)}function L1(t,e){return yu(4,2,t,e)}function N1(t,e){return yu(4,4,t,e)}function U1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V1(t,e,r){return r=r!=null?r.concat([t]):null,yu(4,4,U1.bind(null,e,t),r)}function tp(){}function G1(t,e){var r=Ft();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Zd(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function z1(t,e){var r=Ft();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Zd(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function j1(t,e,r){return qn&21?(rr(r,e)||(r=Y0(),we.lanes|=r,Zn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=r)}function zS(t,e){var r=ae;ae=r!==0&&4>r?r:4,t(!0);var n=lc.transition;lc.transition={};try{t(!1),e()}finally{ae=r,lc.transition=n}}function H1(){return Ft().memoizedState}function jS(t,e,r){var n=un(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$1(t))W1(e,r);else if(r=b1(t,e,r,n),r!==null){var i=ot();Qt(r,t,n,i),X1(r,e,n)}}function HS(t,e,r){var n=un(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($1(t))W1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,rr(a,o)){var l=e.interleaved;l===null?(i.next=i,Wd(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=b1(t,e,i,n),r!==null&&(i=ot(),Qt(r,t,n,i),X1(r,e,n))}}function $1(t){var e=t.alternate;return t===we||e!==null&&e===we}function W1(t,e){Ks=kl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function X1(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Dd(t,r)}}var Bl={readContext:Bt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},$S={readContext:Bt,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:Bt,useEffect:Jm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Qa(4194308,4,U1.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Qa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qa(4,2,t,e)},useMemo:function(t,e){var r=ur();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ur();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=jS.bind(null,we,t),[n.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:Qm,useDebugValue:tp,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=Qm(!1),e=t[0];return t=zS.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=we,i=ur();if(de){if(r===void 0)throw Error(D(407));r=r()}else{if(r=e(),ze===null)throw Error(D(349));qn&30||M1(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Jm(k1.bind(null,n,s,t),[t]),n.flags|=2048,So(9,D1.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ur(),e=ze.identifierPrefix;if(de){var r=Rr,n=Ir;r=(n&~(1<<32-Zt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=To++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=GS++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WS={readContext:Bt,useCallback:G1,useContext:Bt,useEffect:ep,useImperativeHandle:V1,useInsertionEffect:L1,useLayoutEffect:N1,useMemo:z1,useReducer:uc,useRef:O1,useState:function(){return uc(Eo)},useDebugValue:tp,useDeferredValue:function(t){var e=Ft();return j1(e,Ne.memoizedState,t)},useTransition:function(){var t=uc(Eo)[0],e=Ft().memoizedState;return[t,e]},useMutableSource:I1,useSyncExternalStore:R1,useId:H1,unstable_isNewReconciler:!1},XS={readContext:Bt,useCallback:G1,useContext:Bt,useEffect:ep,useImperativeHandle:V1,useInsertionEffect:L1,useLayoutEffect:N1,useMemo:z1,useReducer:cc,useRef:O1,useState:function(){return cc(Eo)},useDebugValue:tp,useDeferredValue:function(t){var e=Ft();return Ne===null?e.memoizedState=t:j1(e,Ne.memoizedState,t)},useTransition:function(){var t=cc(Eo)[0],e=Ft().memoizedState;return[t,e]},useMutableSource:I1,useSyncExternalStore:R1,useId:H1,unstable_isNewReconciler:!1};function Ht(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Qh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Te({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vu={isMounted:function(t){return(t=t._reactInternals)?ii(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ot(),i=un(t),s=kr(n,i);s.payload=e,r!=null&&(s.callback=r),e=an(t,s,i),e!==null&&(Qt(e,t,i,n),qa(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ot(),i=un(t),s=kr(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=an(t,s,i),e!==null&&(Qt(e,t,i,n),qa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ot(),n=un(t),i=kr(r,n);i.tag=2,e!=null&&(i.callback=e),e=an(t,i,n),e!==null&&(Qt(e,t,n,r),qa(e,t,n))}};function eg(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!go(r,n)||!go(i,s):!0}function Y1(t,e,r){var n=!1,i=dn,s=e.contextType;return typeof s=="object"&&s!==null?s=Bt(s):(i=mt(e)?Yn:nt.current,n=e.contextTypes,s=(n=n!=null)?Zi(t,i):dn),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&vu.enqueueReplaceState(e,e.state,null)}function Jh(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Xd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Bt(s):(s=mt(e)?Yn:nt.current,i.context=Zi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qh(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vu.enqueueReplaceState(i,i.state,null),Ml(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ts(t,e){try{var r="",n=e;do r+=wE(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ef(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var YS=typeof WeakMap=="function"?WeakMap:Map;function K1(t,e,r){r=kr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ol||(Ol=!0,hf=n),ef(t,e)},r}function q1(t,e,r){r=kr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ef(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ef(t,e),typeof n!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function rg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new YS;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=lA.bind(null,t,e,r),e.then(t,t))}function ng(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ig(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=kr(-1,1),e.tag=2,an(r,e,1))),r.lanes|=1),t)}var KS=Gr.ReactCurrentOwner,ft=!1;function it(t,e,r,n){e.child=t===null?A1(e,null,r,n):Ji(e,t.child,r,n)}function sg(t,e,r,n,i){r=r.render;var s=e.ref;return Gi(e,i),n=Qd(t,e,r,n,s,i),r=Jd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nr(t,e,i)):(de&&r&&Vd(e),e.flags|=1,it(t,e,n,i),e.child)}function og(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!up(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Z1(t,e,s,n,i)):(t=rl(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:go,r(o,n)&&t.ref===e.ref)return Nr(t,e,i)}return e.flags|=1,t=cn(s,n),t.ref=e.ref,t.return=e,e.child=t}function Z1(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(go(s,n)&&t.ref===e.ref)if(ft=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ft=!0);else return e.lanes=t.lanes,Nr(t,e,i)}return tf(t,e,r,n,i)}function Q1(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Pi,_t),_t|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(Pi,_t),_t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ue(Pi,_t),_t|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ue(Pi,_t),_t|=n;return it(t,e,i,r),e.child}function J1(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function tf(t,e,r,n,i){var s=mt(r)?Yn:nt.current;return s=Zi(e,s),Gi(e,i),r=Qd(t,e,r,n,s,i),n=Jd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nr(t,e,i)):(de&&n&&Vd(e),e.flags|=1,it(t,e,r,i),e.child)}function ag(t,e,r,n,i){if(mt(r)){var s=!0;bl(e)}else s=!1;if(Gi(e,i),e.stateNode===null)Ja(t,e),Y1(e,r,n),Jh(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bt(u):(u=mt(r)?Yn:nt.current,u=Zi(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&tg(e,o,n,u),Yr=!1;var f=e.memoizedState;o.state=f,Ml(e,n,o,i),l=e.memoizedState,a!==n||f!==l||pt.current||Yr?(typeof c=="function"&&(Qh(e,r,c,n),l=e.memoizedState),(a=Yr||eg(e,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,C1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ht(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Bt(l):(l=mt(r)?Yn:nt.current,l=Zi(e,l));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&tg(e,o,n,l),Yr=!1,f=e.memoizedState,o.state=f,Ml(e,n,o,i);var p=e.memoizedState;a!==h||f!==p||pt.current||Yr?(typeof d=="function"&&(Qh(e,r,d,n),p=e.memoizedState),(u=Yr||eg(e,r,u,n,f,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return rf(t,e,r,n,s,i)}function rf(t,e,r,n,i,s){J1(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Wm(e,r,!1),Nr(t,e,s);n=e.stateNode,KS.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ji(e,t.child,null,s),e.child=Ji(e,null,a,s)):it(t,e,a,s),e.memoizedState=n.state,i&&Wm(e,r,!0),e.child}function ex(t){var e=t.stateNode;e.pendingContext?$m(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$m(t,e.context,!1),Yd(t,e.containerInfo)}function lg(t,e,r,n,i){return Qi(),zd(i),e.flags|=256,it(t,e,r,n),e.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function sf(t){return{baseLanes:t,cachePool:null,transitions:null}}function tx(t,e,r){var n=e.pendingProps,i=ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ue(ve,i&1),t===null)return qh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wu(o,n,0,null),t=jn(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sf(r),e.memoizedState=nf,t):rp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return qS(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=cn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=cn(a,s):(s=jn(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?sf(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=nf,n}return s=t.child,t=s.sibling,n=cn(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function rp(t,e){return e=wu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ga(t,e,r,n){return n!==null&&zd(n),Ji(e,t.child,null,r),t=rp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qS(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=hc(Error(D(422))),ga(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=wu({mode:"visible",children:n.children},i,0,null),s=jn(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ji(e,t.child,null,o),e.child.memoizedState=sf(o),e.memoizedState=nf,s);if(!(e.mode&1))return ga(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(D(419)),n=hc(s,n,void 0),ga(t,e,o,n)}if(a=(o&t.childLanes)!==0,ft||a){if(n=ze,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Lr(t,i),Qt(n,t,i,-1))}return lp(),n=hc(Error(D(421))),ga(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wt=on(i.nextSibling),Tt=e,de=!0,Xt=null,t!==null&&(Pt[It++]=Ir,Pt[It++]=Rr,Pt[It++]=Kn,Ir=t.id,Rr=t.overflow,Kn=e),e=rp(e,n.children),e.flags|=4096,e)}function ug(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zh(t.return,e,r)}function fc(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function rx(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(it(t,e,n.children,r),n=ve.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ug(t,r,e);else if(t.tag===19)ug(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ue(ve,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Dl(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),fc(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dl(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}fc(e,!0,r,null,s);break;case"together":fc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ja(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Zn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,r=cn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=cn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ZS(t,e,r){switch(e.tag){case 3:ex(e),Qi();break;case 5:P1(e);break;case 1:mt(e.type)&&bl(e);break;case 4:Yd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ue(Il,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ue(ve,ve.current&1),e.flags|=128,null):r&e.child.childLanes?tx(t,e,r):(ue(ve,ve.current&1),t=Nr(t,e,r),t!==null?t.sibling:null);ue(ve,ve.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return rx(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(ve,ve.current),n)break;return null;case 22:case 23:return e.lanes=0,Q1(t,e,r)}return Nr(t,e,r)}var nx,of,ix,sx;nx=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};of=function(){};ix=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Nn(gr.current);var s=null;switch(r){case"input":i=Ch(t,i),n=Ch(t,n),s=[];break;case"select":i=Te({},i,{value:void 0}),n=Te({},n,{value:void 0}),s=[];break;case"textarea":i=Rh(t,i),n=Rh(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Sl)}Dh(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};sx=function(t,e,r,n){r!==n&&(e.flags|=4)};function As(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function et(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function QS(t,e,r){var n=e.pendingProps;switch(Gd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(e),null;case 1:return mt(e.type)&&Al(),et(e),null;case 3:return n=e.stateNode,es(),he(pt),he(nt),qd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xt!==null&&(pf(Xt),Xt=null))),of(t,e),et(e),null;case 5:Kd(e);var i=Nn(wo.current);if(r=e.type,t!==null&&e.stateNode!=null)ix(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(D(166));return et(e),null}if(t=Nn(gr.current),pa(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[dr]=e,n[xo]=s,t=(e.mode&1)!==0,r){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(i=0;i<Ls.length;i++)ce(Ls[i],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":vm(n,s),ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ce("invalid",n);break;case"textarea":_m(n,s),ce("invalid",n)}Dh(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&da(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&da(n.textContent,a,t),i=["children",""+a]):lo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",n)}switch(r){case"input":sa(n),xm(n,s,!0);break;case"textarea":sa(n),wm(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Sl)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=k0(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[dr]=e,t[xo]=n,nx(t,e,!1,!1),e.stateNode=t;e:{switch(o=kh(r,n),r){case"dialog":ce("cancel",t),ce("close",t),i=n;break;case"iframe":case"object":case"embed":ce("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ls.length;i++)ce(Ls[i],t);i=n;break;case"source":ce("error",t),i=n;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=n;break;case"details":ce("toggle",t),i=n;break;case"input":vm(t,n),i=Ch(t,n),ce("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Te({},n,{value:void 0}),ce("invalid",t);break;case"textarea":_m(t,n),i=Rh(t,n),ce("invalid",t);break;default:i=n}Dh(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?O0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B0(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&uo(t,l):typeof l=="number"&&uo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ce("scroll",t):l!=null&&bd(t,s,l,o))}switch(r){case"input":sa(t),xm(t,n,!1);break;case"textarea":sa(t),wm(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fn(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Li(t,!!n.multiple,s,!1):n.defaultValue!=null&&Li(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return et(e),null;case 6:if(t&&e.stateNode!=null)sx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(D(166));if(r=Nn(wo.current),Nn(gr.current),pa(e)){if(n=e.stateNode,r=e.memoizedProps,n[dr]=e,(s=n.nodeValue!==r)&&(t=Tt,t!==null))switch(t.tag){case 3:da(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&da(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dr]=e,e.stateNode=n}return et(e),null;case 13:if(he(ve),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&wt!==null&&e.mode&1&&!(e.flags&128))E1(),Qi(),e.flags|=98560,s=!1;else if(s=pa(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[dr]=e}else Qi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;et(e),s=!1}else Xt!==null&&(pf(Xt),Xt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?Ue===0&&(Ue=3):lp())),e.updateQueue!==null&&(e.flags|=4),et(e),null);case 4:return es(),of(t,e),t===null&&yo(e.stateNode.containerInfo),et(e),null;case 10:return $d(e.type._context),et(e),null;case 17:return mt(e.type)&&Al(),et(e),null;case 19:if(he(ve),s=e.memoizedState,s===null)return et(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)As(s,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dl(t),o!==null){for(e.flags|=128,As(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ue(ve,ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&Me()>rs&&(e.flags|=128,n=!0,As(s,!1),e.lanes=4194304)}else{if(!n)if(t=Dl(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),As(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!de)return et(e),null}else 2*Me()-s.renderingStartTime>rs&&r!==1073741824&&(e.flags|=128,n=!0,As(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Me(),e.sibling=null,r=ve.current,ue(ve,n?r&1|2:r&1),e):(et(e),null);case 22:case 23:return ap(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?_t&1073741824&&(et(e),e.subtreeFlags&6&&(e.flags|=8192)):et(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function JS(t,e){switch(Gd(e),e.tag){case 1:return mt(e.type)&&Al(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return es(),he(pt),he(nt),qd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kd(e),null;case 13:if(he(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Qi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(ve),null;case 4:return es(),null;case 10:return $d(e.type._context),null;case 22:case 23:return ap(),null;case 24:return null;default:return null}}var ya=!1,tt=!1,eA=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ci(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ce(t,e,n)}else r.current=null}function af(t,e,r){try{r()}catch(n){Ce(t,e,n)}}var cg=!1;function tA(t,e){if(jh=wl,t=c1(),Ud(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===r&&++u===i&&(a=o),f===s&&++c===n&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hh={focusedElem:t,selectionRange:r},wl=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,x=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ht(e.type,v),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(_){Ce(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return p=cg,cg=!1,p}function qs(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&af(e,r,s)}i=i.next}while(i!==n)}}function xu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function lf(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ox(t){var e=t.alternate;e!==null&&(t.alternate=null,ox(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[xo],delete e[Xh],delete e[LS],delete e[NS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ax(t){return t.tag===5||t.tag===3||t.tag===4}function hg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ax(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Sl));else if(n!==4&&(t=t.child,t!==null))for(uf(t,e,r),t=t.sibling;t!==null;)uf(t,e,r),t=t.sibling}function cf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(cf(t,e,r),t=t.sibling;t!==null;)cf(t,e,r),t=t.sibling}var He=null,Wt=!1;function Hr(t,e,r){for(r=r.child;r!==null;)lx(t,e,r),r=r.sibling}function lx(t,e,r){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(hu,r)}catch{}switch(r.tag){case 5:tt||Ci(r,e);case 6:var n=He,i=Wt;He=null,Hr(t,e,r),He=n,Wt=i,He!==null&&(Wt?(t=He,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):He.removeChild(r.stateNode));break;case 18:He!==null&&(Wt?(t=He,r=r.stateNode,t.nodeType===8?sc(t.parentNode,r):t.nodeType===1&&sc(t,r),po(t)):sc(He,r.stateNode));break;case 4:n=He,i=Wt,He=r.stateNode.containerInfo,Wt=!0,Hr(t,e,r),He=n,Wt=i;break;case 0:case 11:case 14:case 15:if(!tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&af(r,e,o),i=i.next}while(i!==n)}Hr(t,e,r);break;case 1:if(!tt&&(Ci(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ce(r,e,a)}Hr(t,e,r);break;case 21:Hr(t,e,r);break;case 22:r.mode&1?(tt=(n=tt)||r.memoizedState!==null,Hr(t,e,r),tt=n):Hr(t,e,r);break;default:Hr(t,e,r)}}function fg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new eA),e.forEach(function(n){var i=cA.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Lt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:He=a.stateNode,Wt=!1;break e;case 3:He=a.stateNode.containerInfo,Wt=!0;break e;case 4:He=a.stateNode.containerInfo,Wt=!0;break e}a=a.return}if(He===null)throw Error(D(160));lx(s,o,i),He=null,Wt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ce(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ux(e,t),e=e.sibling}function ux(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lt(e,t),or(t),n&4){try{qs(3,t,t.return),xu(3,t)}catch(v){Ce(t,t.return,v)}try{qs(5,t,t.return)}catch(v){Ce(t,t.return,v)}}break;case 1:Lt(e,t),or(t),n&512&&r!==null&&Ci(r,r.return);break;case 5:if(Lt(e,t),or(t),n&512&&r!==null&&Ci(r,r.return),t.flags&32){var i=t.stateNode;try{uo(i,"")}catch(v){Ce(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&M0(i,s),kh(a,o);var u=kh(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?O0(i,h):c==="dangerouslySetInnerHTML"?B0(i,h):c==="children"?uo(i,h):bd(i,c,h,u)}switch(a){case"input":Ph(i,s);break;case"textarea":D0(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Li(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Li(i,!!s.multiple,s.defaultValue,!0):Li(i,!!s.multiple,s.multiple?[]:"",!1))}i[xo]=s}catch(v){Ce(t,t.return,v)}}break;case 6:if(Lt(e,t),or(t),n&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ce(t,t.return,v)}}break;case 3:if(Lt(e,t),or(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{po(e.containerInfo)}catch(v){Ce(t,t.return,v)}break;case 4:Lt(e,t),or(t);break;case 13:Lt(e,t),or(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sp=Me())),n&4&&fg(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(tt=(u=tt)||c,Lt(e,t),tt=u):Lt(e,t),or(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(V=t,c=t.child;c!==null;){for(h=V=c;V!==null;){switch(f=V,d=f.child,f.tag){case 0:case 11:case 14:case 15:qs(4,f,f.return);break;case 1:Ci(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){Ce(n,r,v)}}break;case 5:Ci(f,f.return);break;case 22:if(f.memoizedState!==null){pg(h);continue}}d!==null?(d.return=f,V=d):pg(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=F0("display",o))}catch(v){Ce(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ce(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Lt(e,t),or(t),n&4&&fg(t);break;case 21:break;default:Lt(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ax(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(uo(i,""),n.flags&=-33);var s=hg(t);cf(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=hg(t);uf(t,a,o);break;default:throw Error(D(161))}}catch(l){Ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rA(t,e,r){V=t,cx(t)}function cx(t,e,r){for(var n=(t.mode&1)!==0;V!==null;){var i=V,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ya;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tt;a=ya;var u=tt;if(ya=o,(tt=l)&&!u)for(V=i;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?mg(i):l!==null?(l.return=o,V=l):mg(i);for(;s!==null;)V=s,cx(s),s=s.sibling;V=i,ya=a,tt=u}dg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,V=s):dg(t)}}function dg(t){for(;V!==null;){var e=V;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tt||xu(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!tt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ht(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zm(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Zm(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&po(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}tt||e.flags&512&&lf(e)}catch(f){Ce(e,e.return,f)}}if(e===t){V=null;break}if(r=e.sibling,r!==null){r.return=e.return,V=r;break}V=e.return}}function pg(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var r=e.sibling;if(r!==null){r.return=e.return,V=r;break}V=e.return}}function mg(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{xu(4,e)}catch(l){Ce(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ce(e,i,l)}}var s=e.return;try{lf(e)}catch(l){Ce(e,s,l)}break;case 5:var o=e.return;try{lf(e)}catch(l){Ce(e,o,l)}}}catch(l){Ce(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var nA=Math.ceil,Fl=Gr.ReactCurrentDispatcher,np=Gr.ReactCurrentOwner,Dt=Gr.ReactCurrentBatchConfig,ie=0,ze=null,Be=null,Ke=0,_t=0,Pi=wn(0),Ue=0,Ao=null,Zn=0,_u=0,ip=0,Zs=null,ct=null,sp=0,rs=1/0,br=null,Ol=!1,hf=null,ln=null,va=!1,Qr=null,Ll=0,Qs=0,ff=null,el=-1,tl=0;function ot(){return ie&6?Me():el!==-1?el:el=Me()}function un(t){return t.mode&1?ie&2&&Ke!==0?Ke&-Ke:VS.transition!==null?(tl===0&&(tl=Y0()),tl):(t=ae,t!==0||(t=window.event,t=t===void 0?16:t1(t.type)),t):1}function Qt(t,e,r,n){if(50<Qs)throw Qs=0,ff=null,Error(D(185));Go(t,r,n),(!(ie&2)||t!==ze)&&(t===ze&&(!(ie&2)&&(_u|=r),Ue===4&&qr(t,Ke)),gt(t,n),r===1&&ie===0&&!(e.mode&1)&&(rs=Me()+500,gu&&Tn()))}function gt(t,e){var r=t.callbackNode;VE(t,e);var n=_l(t,t===ze?Ke:0);if(n===0)r!==null&&Sm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Sm(r),e===1)t.tag===0?US(gg.bind(null,t)):_1(gg.bind(null,t)),FS(function(){!(ie&6)&&Tn()}),r=null;else{switch(K0(n)){case 1:r=Md;break;case 4:r=W0;break;case 16:r=xl;break;case 536870912:r=X0;break;default:r=xl}r=vx(r,hx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function hx(t,e){if(el=-1,tl=0,ie&6)throw Error(D(327));var r=t.callbackNode;if(zi()&&t.callbackNode!==r)return null;var n=_l(t,t===ze?Ke:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Nl(t,n);else{e=n;var i=ie;ie|=2;var s=dx();(ze!==t||Ke!==e)&&(br=null,rs=Me()+500,zn(t,e));do try{oA();break}catch(a){fx(t,a)}while(!0);Hd(),Fl.current=s,ie=i,Be!==null?e=0:(ze=null,Ke=0,e=Ue)}if(e!==0){if(e===2&&(i=Nh(t),i!==0&&(n=i,e=df(t,i))),e===1)throw r=Ao,zn(t,0),qr(t,n),gt(t,Me()),r;if(e===6)qr(t,n);else{if(i=t.current.alternate,!(n&30)&&!iA(i)&&(e=Nl(t,n),e===2&&(s=Nh(t),s!==0&&(n=s,e=df(t,s))),e===1))throw r=Ao,zn(t,0),qr(t,n),gt(t,Me()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(D(345));case 2:In(t,ct,br);break;case 3:if(qr(t,n),(n&130023424)===n&&(e=sp+500-Me(),10<e)){if(_l(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wh(In.bind(null,t,ct,br),e);break}In(t,ct,br);break;case 4:if(qr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Zt(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Me()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nA(n/1960))-n,10<n){t.timeoutHandle=Wh(In.bind(null,t,ct,br),n);break}In(t,ct,br);break;case 5:In(t,ct,br);break;default:throw Error(D(329))}}}return gt(t,Me()),t.callbackNode===r?hx.bind(null,t):null}function df(t,e){var r=Zs;return t.current.memoizedState.isDehydrated&&(zn(t,e).flags|=256),t=Nl(t,e),t!==2&&(e=ct,ct=r,e!==null&&pf(e)),t}function pf(t){ct===null?ct=t:ct.push.apply(ct,t)}function iA(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!rr(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e){for(e&=~ip,e&=~_u,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Zt(e),n=1<<r;t[r]=-1,e&=~n}}function gg(t){if(ie&6)throw Error(D(327));zi();var e=_l(t,0);if(!(e&1))return gt(t,Me()),null;var r=Nl(t,e);if(t.tag!==0&&r===2){var n=Nh(t);n!==0&&(e=n,r=df(t,n))}if(r===1)throw r=Ao,zn(t,0),qr(t,e),gt(t,Me()),r;if(r===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,In(t,ct,br),gt(t,Me()),null}function op(t,e){var r=ie;ie|=1;try{return t(e)}finally{ie=r,ie===0&&(rs=Me()+500,gu&&Tn())}}function Qn(t){Qr!==null&&Qr.tag===0&&!(ie&6)&&zi();var e=ie;ie|=1;var r=Dt.transition,n=ae;try{if(Dt.transition=null,ae=1,t)return t()}finally{ae=n,Dt.transition=r,ie=e,!(ie&6)&&Tn()}}function ap(){_t=Pi.current,he(Pi)}function zn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,BS(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(Gd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Al();break;case 3:es(),he(pt),he(nt),qd();break;case 5:Kd(n);break;case 4:es();break;case 13:he(ve);break;case 19:he(ve);break;case 10:$d(n.type._context);break;case 22:case 23:ap()}r=r.return}if(ze=t,Be=t=cn(t.current,null),Ke=_t=e,Ue=0,Ao=null,ip=_u=Zn=0,ct=Zs=null,Ln!==null){for(e=0;e<Ln.length;e++)if(r=Ln[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Ln=null}return t}function fx(t,e){do{var r=Be;try{if(Hd(),Za.current=Bl,kl){for(var n=we.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kl=!1}if(qn=0,Ge=Ne=we=null,Ks=!1,To=0,np.current=null,r===null||r.return===null){Ue=1,Ao=e,Be=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=Ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=ng(o);if(d!==null){d.flags&=-257,ig(d,o,a,s,e),d.mode&1&&rg(s,u,e),e=d,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){rg(s,u,e),lp();break e}l=Error(D(426))}}else if(de&&a.mode&1){var x=ng(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ig(x,o,a,s,e),zd(ts(l,a));break e}}s=l=ts(l,a),Ue!==4&&(Ue=2),Zs===null?Zs=[s]:Zs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=K1(s,l,e);qm(s,g);break e;case 1:a=l;var y=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ln===null||!ln.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=q1(s,a,e);qm(s,_);break e}}s=s.return}while(s!==null)}mx(r)}catch(w){e=w,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function dx(){var t=Fl.current;return Fl.current=Bl,t===null?Bl:t}function lp(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),ze===null||!(Zn&268435455)&&!(_u&268435455)||qr(ze,Ke)}function Nl(t,e){var r=ie;ie|=2;var n=dx();(ze!==t||Ke!==e)&&(br=null,zn(t,e));do try{sA();break}catch(i){fx(t,i)}while(!0);if(Hd(),ie=r,Fl.current=n,Be!==null)throw Error(D(261));return ze=null,Ke=0,Ue}function sA(){for(;Be!==null;)px(Be)}function oA(){for(;Be!==null&&!ME();)px(Be)}function px(t){var e=yx(t.alternate,t,_t);t.memoizedProps=t.pendingProps,e===null?mx(t):Be=e,np.current=null}function mx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=JS(r,e),r!==null){r.flags&=32767,Be=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Be=null;return}}else if(r=QS(r,e,_t),r!==null){Be=r;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);Ue===0&&(Ue=5)}function In(t,e,r){var n=ae,i=Dt.transition;try{Dt.transition=null,ae=1,aA(t,e,r,n)}finally{Dt.transition=i,ae=n}return null}function aA(t,e,r,n){do zi();while(Qr!==null);if(ie&6)throw Error(D(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(GE(t,s),t===ze&&(Be=ze=null,Ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||va||(va=!0,vx(xl,function(){return zi(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Dt.transition,Dt.transition=null;var o=ae;ae=1;var a=ie;ie|=4,np.current=null,tA(t,r),ux(r,t),CS(Hh),wl=!!jh,Hh=jh=null,t.current=r,rA(r),DE(),ie=a,ae=o,Dt.transition=s}else t.current=r;if(va&&(va=!1,Qr=t,Ll=i),s=t.pendingLanes,s===0&&(ln=null),FE(r.stateNode),gt(t,Me()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ol)throw Ol=!1,t=hf,hf=null,t;return Ll&1&&t.tag!==0&&zi(),s=t.pendingLanes,s&1?t===ff?Qs++:(Qs=0,ff=t):Qs=0,Tn(),null}function zi(){if(Qr!==null){var t=K0(Ll),e=Dt.transition,r=ae;try{if(Dt.transition=null,ae=16>t?16:t,Qr===null)var n=!1;else{if(t=Qr,Qr=null,Ll=0,ie&6)throw Error(D(331));var i=ie;for(ie|=4,V=t.current;V!==null;){var s=V,o=s.child;if(V.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(V=u;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:qs(8,c,s)}var h=c.child;if(h!==null)h.return=c,V=h;else for(;V!==null;){c=V;var f=c.sibling,d=c.return;if(ox(c),c===u){V=null;break}if(f!==null){f.return=d,V=f;break}V=d}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}V=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qs(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break e}V=s.return}}var y=t.current;for(V=y;V!==null;){o=V;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,V=m;else e:for(o=y;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xu(9,a)}}catch(w){Ce(a,a.return,w)}if(a===o){V=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,V=_;break e}V=a.return}}if(ie=i,Tn(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(hu,t)}catch{}n=!0}return n}finally{ae=r,Dt.transition=e}}return!1}function yg(t,e,r){e=ts(r,e),e=K1(t,e,1),t=an(t,e,1),e=ot(),t!==null&&(Go(t,1,e),gt(t,e))}function Ce(t,e,r){if(t.tag===3)yg(t,t,r);else for(;e!==null;){if(e.tag===3){yg(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ln===null||!ln.has(n))){t=ts(r,t),t=q1(e,t,1),e=an(e,t,1),t=ot(),e!==null&&(Go(e,1,t),gt(e,t));break}}e=e.return}}function lA(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ot(),t.pingedLanes|=t.suspendedLanes&r,ze===t&&(Ke&r)===r&&(Ue===4||Ue===3&&(Ke&130023424)===Ke&&500>Me()-sp?zn(t,0):ip|=r),gt(t,e)}function gx(t,e){e===0&&(t.mode&1?(e=la,la<<=1,!(la&130023424)&&(la=4194304)):e=1);var r=ot();t=Lr(t,e),t!==null&&(Go(t,e,r),gt(t,r))}function uA(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),gx(t,r)}function cA(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(e),gx(t,r)}var yx;yx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ft=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ft=!1,ZS(t,e,r);ft=!!(t.flags&131072)}else ft=!1,de&&e.flags&1048576&&w1(e,Pl,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ja(t,e),t=e.pendingProps;var i=Zi(e,nt.current);Gi(e,r),i=Qd(null,e,n,t,i,r);var s=Jd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(n)?(s=!0,bl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xd(e),i.updater=vu,e.stateNode=i,i._reactInternals=e,Jh(e,n,t,r),e=rf(null,e,n,!0,s,r)):(e.tag=0,de&&s&&Vd(e),it(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ja(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=fA(n),t=Ht(n,t),i){case 0:e=tf(null,e,n,t,r);break e;case 1:e=ag(null,e,n,t,r);break e;case 11:e=sg(null,e,n,t,r);break e;case 14:e=og(null,e,n,Ht(n.type,t),r);break e}throw Error(D(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ht(n,i),tf(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ht(n,i),ag(t,e,n,i,r);case 3:e:{if(ex(e),t===null)throw Error(D(387));n=e.pendingProps,s=e.memoizedState,i=s.element,C1(t,e),Ml(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ts(Error(D(423)),e),e=lg(t,e,n,r,i);break e}else if(n!==i){i=ts(Error(D(424)),e),e=lg(t,e,n,r,i);break e}else for(wt=on(e.stateNode.containerInfo.firstChild),Tt=e,de=!0,Xt=null,r=A1(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qi(),n===i){e=Nr(t,e,r);break e}it(t,e,n,r)}e=e.child}return e;case 5:return P1(e),t===null&&qh(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$h(n,i)?o=null:s!==null&&$h(n,s)&&(e.flags|=32),J1(t,e),it(t,e,o,r),e.child;case 6:return t===null&&qh(e),null;case 13:return tx(t,e,r);case 4:return Yd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ji(e,null,n,r):it(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ht(n,i),sg(t,e,n,i,r);case 7:return it(t,e,e.pendingProps,r),e.child;case 8:return it(t,e,e.pendingProps.children,r),e.child;case 12:return it(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ue(Il,n._currentValue),n._currentValue=o,s!==null)if(rr(s.value,o)){if(s.children===i.children&&!pt.current){e=Nr(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=kr(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Zh(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Zh(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}it(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Gi(e,r),i=Bt(i),n=n(i),e.flags|=1,it(t,e,n,r),e.child;case 14:return n=e.type,i=Ht(n,e.pendingProps),i=Ht(n.type,i),og(t,e,n,i,r);case 15:return Z1(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ht(n,i),Ja(t,e),e.tag=1,mt(n)?(t=!0,bl(e)):t=!1,Gi(e,r),Y1(e,n,i),Jh(e,n,i,r),rf(null,e,n,!0,t,r);case 19:return rx(t,e,r);case 22:return Q1(t,e,r)}throw Error(D(156,e.tag))};function vx(t,e){return $0(t,e)}function hA(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(t,e,r,n){return new hA(t,e,r,n)}function up(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fA(t){if(typeof t=="function")return up(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pd)return 11;if(t===Id)return 14}return 2}function cn(t,e){var r=t.alternate;return r===null?(r=Rt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function rl(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")up(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vi:return jn(r.children,i,s,e);case Cd:o=8,i|=8;break;case Eh:return t=Rt(12,r,e,i|2),t.elementType=Eh,t.lanes=s,t;case Sh:return t=Rt(13,r,e,i),t.elementType=Sh,t.lanes=s,t;case Ah:return t=Rt(19,r,e,i),t.elementType=Ah,t.lanes=s,t;case P0:return wu(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b0:o=10;break e;case C0:o=9;break e;case Pd:o=11;break e;case Id:o=14;break e;case Xr:o=16,n=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Rt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function jn(t,e,r,n){return t=Rt(7,t,n,e),t.lanes=r,t}function wu(t,e,r,n){return t=Rt(22,t,n,e),t.elementType=P0,t.lanes=r,t.stateNode={isHidden:!1},t}function dc(t,e,r){return t=Rt(6,t,null,e),t.lanes=r,t}function pc(t,e,r){return e=Rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dA(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yu(0),this.expirationTimes=Yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cp(t,e,r,n,i,s,o,a,l){return t=new dA(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xd(s),t}function pA(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function xx(t){if(!t)return dn;t=t._reactInternals;e:{if(ii(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var r=t.type;if(mt(r))return x1(t,r,e)}return e}function _x(t,e,r,n,i,s,o,a,l){return t=cp(r,n,!0,t,i,s,o,a,l),t.context=xx(null),r=t.current,n=ot(),i=un(r),s=kr(n,i),s.callback=e??null,an(r,s,i),t.current.lanes=i,Go(t,i,n),gt(t,n),t}function Tu(t,e,r,n){var i=e.current,s=ot(),o=un(i);return r=xx(r),e.context===null?e.context=r:e.pendingContext=r,e=kr(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=an(i,e,o),t!==null&&(Qt(t,i,o,s),qa(t,i,o)),o}function Ul(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function hp(t,e){vg(t,e),(t=t.alternate)&&vg(t,e)}function mA(){return null}var wx=typeof reportError=="function"?reportError:function(t){console.error(t)};function fp(t){this._internalRoot=t}Eu.prototype.render=fp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Tu(t,e,null,null)};Eu.prototype.unmount=fp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qn(function(){Tu(null,t,null,null)}),e[Or]=null}};function Eu(t){this._internalRoot=t}Eu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q0();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Kr.length&&e!==0&&e<Kr[r].priority;r++);Kr.splice(r,0,t),r===0&&e1(t)}};function dp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Su(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xg(){}function gA(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Ul(o);s.call(u)}}var o=_x(e,n,t,0,null,!1,!1,"",xg);return t._reactRootContainer=o,t[Or]=o.current,yo(t.nodeType===8?t.parentNode:t),Qn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Ul(l);a.call(u)}}var l=cp(t,0,!1,null,null,!1,!1,"",xg);return t._reactRootContainer=l,t[Or]=l.current,yo(t.nodeType===8?t.parentNode:t),Qn(function(){Tu(e,l,r,n)}),l}function Au(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ul(o);a.call(l)}}Tu(e,o,t,i)}else o=gA(r,e,t,i,n);return Ul(o)}q0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Os(e.pendingLanes);r!==0&&(Dd(e,r|1),gt(e,Me()),!(ie&6)&&(rs=Me()+500,Tn()))}break;case 13:Qn(function(){var n=Lr(t,1);if(n!==null){var i=ot();Qt(n,t,1,i)}}),hp(t,1)}};kd=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var r=ot();Qt(e,t,134217728,r)}hp(t,134217728)}};Z0=function(t){if(t.tag===13){var e=un(t),r=Lr(t,e);if(r!==null){var n=ot();Qt(r,t,e,n)}hp(t,e)}};Q0=function(){return ae};J0=function(t,e){var r=ae;try{return ae=t,e()}finally{ae=r}};Fh=function(t,e,r){switch(e){case"input":if(Ph(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=mu(n);if(!i)throw Error(D(90));R0(n),Ph(n,i)}}}break;case"textarea":D0(t,r);break;case"select":e=r.value,e!=null&&Li(t,!!r.multiple,e,!1)}};U0=op;V0=Qn;var yA={usingClientEntryPoint:!1,Events:[jo,Ti,mu,L0,N0,op]},bs={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vA={bundleType:bs.bundleType,version:bs.version,rendererPackageName:bs.rendererPackageName,rendererConfig:bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j0(t),t===null?null:t.stateNode},findFiberByHostInstance:bs.findFiberByHostInstance||mA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{hu=xa.inject(vA),mr=xa}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yA;St.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dp(e))throw Error(D(200));return pA(t,e,null,r)};St.createRoot=function(t,e){if(!dp(t))throw Error(D(299));var r=!1,n="",i=wx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cp(t,1,!1,null,null,r,!1,n,i),t[Or]=e.current,yo(t.nodeType===8?t.parentNode:t),new fp(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=j0(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return Qn(t)};St.hydrate=function(t,e,r){if(!Su(e))throw Error(D(200));return Au(null,t,e,!0,r)};St.hydrateRoot=function(t,e,r){if(!dp(t))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=wx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=_x(e,null,t,1,r??null,i,!1,s,o),t[Or]=e.current,yo(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Eu(e)};St.render=function(t,e,r){if(!Su(e))throw Error(D(200));return Au(null,t,e,!1,r)};St.unmountComponentAtNode=function(t){if(!Su(t))throw Error(D(40));return t._reactRootContainer?(Qn(function(){Au(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};St.unstable_batchedUpdates=op;St.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Su(r))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Au(t,e,r,!1,n)};St.version="18.3.1-next-f1338f8080-20240426";function Tx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tx)}catch(t){console.error(t)}}Tx(),T0.exports=St;var xA=T0.exports,_g=xA;wh.createRoot=_g.createRoot,wh.hydrateRoot=_g.hydrateRoot;const Ex=$.createContext({});function _A(t){const e=$.useRef(null);return e.current===null&&(e.current=t()),e.current}const pp=typeof window<"u",wA=pp?$.useLayoutEffect:$.useEffect,mp=$.createContext(null);function gp(t,e){t.indexOf(e)===-1&&t.push(e)}function yp(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Ur=(t,e,r)=>r>e?e:r<t?t:r;let vp=()=>{};const Vr={},Sx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ax(t){return typeof t=="object"&&t!==null}const bx=t=>/^0[^.\s]+$/u.test(t);function xp(t){let e;return()=>(e===void 0&&(e=t()),e)}const kt=t=>t,TA=(t,e)=>r=>e(t(r)),$o=(...t)=>t.reduce(TA),bo=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class _p{constructor(){this.subscriptions=[]}add(e){return gp(this.subscriptions,e),()=>yp(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yr=t=>t*1e3,vr=t=>t/1e3;function Cx(t,e){return e?t*(1e3/e):0}const Px=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,EA=1e-7,SA=12;function AA(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=Px(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>EA&&++a<SA);return o}function Wo(t,e,r,n){if(t===e&&r===n)return kt;const i=s=>AA(s,0,1,t,r);return s=>s===0||s===1?s:Px(i(s),e,n)}const Ix=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Rx=t=>e=>1-t(1-e),Mx=Wo(.33,1.53,.69,.99),wp=Rx(Mx),Dx=Ix(wp),kx=t=>(t*=2)<1?.5*wp(t):.5*(2-Math.pow(2,-10*(t-1))),Tp=t=>1-Math.sin(Math.acos(t)),Bx=Rx(Tp),Fx=Ix(Tp),bA=Wo(.42,0,1,1),CA=Wo(0,0,.58,1),Ox=Wo(.42,0,.58,1),PA=t=>Array.isArray(t)&&typeof t[0]!="number",Lx=t=>Array.isArray(t)&&typeof t[0]=="number",IA={linear:kt,easeIn:bA,easeInOut:Ox,easeOut:CA,circIn:Tp,circInOut:Fx,circOut:Bx,backIn:wp,backInOut:Dx,backOut:Mx,anticipate:kx},RA=t=>typeof t=="string",wg=t=>{if(Lx(t)){vp(t.length===4);const[e,r,n,i]=t;return Wo(e,r,n,i)}else if(RA(t))return IA[t];return t},_a=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function MA(t,e){let r=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),t()),c(a)}const u={schedule:(c,h=!1,f=!1)=>{const p=f&&i?r:n;return h&&o.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),o.delete(c)},process:c=>{if(a=c,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,u.process(c))}};return u}const DA=40;function Nx(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=_a.reduce((m,_)=>(m[_]=MA(s),m),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:f,render:d,postRender:p}=o,v=()=>{const m=Vr.useManualTiming?i.timestamp:performance.now();r=!1,Vr.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(m-i.timestamp,DA),1)),i.timestamp=m,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),h.process(i),f.process(i),d.process(i),p.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(v))},x=()=>{r=!0,n=!0,i.isProcessing||t(v)};return{schedule:_a.reduce((m,_)=>{const w=o[_];return m[_]=(S,E=!1,T=!1)=>(r||x(),w.schedule(S,E,T)),m},{}),cancel:m=>{for(let _=0;_<_a.length;_++)o[_a[_]].cancel(m)},state:i,steps:o}}const{schedule:pe,cancel:pn,state:$e,steps:mc}=Nx(typeof requestAnimationFrame<"u"?requestAnimationFrame:kt,!0);let nl;function kA(){nl=void 0}const dt={now:()=>(nl===void 0&&dt.set($e.isProcessing||Vr.useManualTiming?$e.timestamp:performance.now()),nl),set:t=>{nl=t,queueMicrotask(kA)}},Ux=t=>e=>typeof e=="string"&&e.startsWith(t),Ep=Ux("--"),BA=Ux("var(--"),Sp=t=>BA(t)?FA.test(t.split("/*")[0].trim()):!1,FA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ds={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Co={...ds,transform:t=>Ur(0,1,t)},wa={...ds,default:1},Js=t=>Math.round(t*1e5)/1e5,Ap=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OA(t){return t==null}const LA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bp=(t,e)=>r=>!!(typeof r=="string"&&LA.test(r)&&r.startsWith(t)||e&&!OA(r)&&Object.prototype.hasOwnProperty.call(r,e)),Vx=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,a]=n.match(Ap);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},NA=t=>Ur(0,255,t),gc={...ds,transform:t=>Math.round(NA(t))},Un={test:bp("rgb","red"),parse:Vx("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+gc.transform(t)+", "+gc.transform(e)+", "+gc.transform(r)+", "+Js(Co.transform(n))+")"};function UA(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const mf={test:bp("#"),parse:UA,transform:Un.transform},Xo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wr=Xo("deg"),xr=Xo("%"),q=Xo("px"),VA=Xo("vh"),GA=Xo("vw"),Tg={...xr,parse:t=>xr.parse(t)/100,transform:t=>xr.transform(t*100)},Ii={test:bp("hsl","hue"),parse:Vx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+xr.transform(Js(e))+", "+xr.transform(Js(r))+", "+Js(Co.transform(n))+")"},ke={test:t=>Un.test(t)||mf.test(t)||Ii.test(t),parse:t=>Un.test(t)?Un.parse(t):Ii.test(t)?Ii.parse(t):mf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Un.transform(t):Ii.transform(t),getAnimatableNone:t=>{const e=ke.parse(t);return e.alpha=0,ke.transform(e)}},zA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jA(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ap))==null?void 0:e.length)||0)+(((r=t.match(zA))==null?void 0:r.length)||0)>0}const Gx="number",zx="color",HA="var",$A="var(",Eg="${}",WA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Po(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(WA,l=>(ke.test(l)?(n.color.push(s),i.push(zx),r.push(ke.parse(l))):l.startsWith($A)?(n.var.push(s),i.push(HA),r.push(l)):(n.number.push(s),i.push(Gx),r.push(parseFloat(l))),++s,Eg)).split(Eg);return{values:r,split:a,indexes:n,types:i}}function jx(t){return Po(t).values}function Hx(t){const{split:e,types:r}=Po(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const a=r[o];a===Gx?s+=Js(i[o]):a===zx?s+=ke.transform(i[o]):s+=i[o]}return s}}const XA=t=>typeof t=="number"?0:ke.test(t)?ke.getAnimatableNone(t):t;function YA(t){const e=jx(t);return Hx(t)(e.map(XA))}const mn={test:jA,parse:jx,createTransformer:Hx,getAnimatableNone:YA};function yc(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function KA({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;i=yc(l,a,t+1/3),s=yc(l,a,t),o=yc(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function Vl(t,e){return r=>r>0?e:t}const xe=(t,e,r)=>t+(e-t)*r,vc=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},qA=[mf,Un,Ii],ZA=t=>qA.find(e=>e.test(t));function Sg(t){const e=ZA(t);if(!e)return!1;let r=e.parse(t);return e===Ii&&(r=KA(r)),r}const Ag=(t,e)=>{const r=Sg(t),n=Sg(e);if(!r||!n)return Vl(t,e);const i={...r};return s=>(i.red=vc(r.red,n.red,s),i.green=vc(r.green,n.green,s),i.blue=vc(r.blue,n.blue,s),i.alpha=xe(r.alpha,n.alpha,s),Un.transform(i))},gf=new Set(["none","hidden"]);function QA(t,e){return gf.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function JA(t,e){return r=>xe(t,e,r)}function Cp(t){return typeof t=="number"?JA:typeof t=="string"?Sp(t)?Vl:ke.test(t)?Ag:rb:Array.isArray(t)?$x:typeof t=="object"?ke.test(t)?Ag:eb:Vl}function $x(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>Cp(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function eb(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=Cp(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function tb(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][n[s]],a=t.values[o]??0;r[i]=a,n[s]++}return r}const rb=(t,e)=>{const r=mn.createTransformer(e),n=Po(t),i=Po(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?gf.has(t)&&!i.values.length||gf.has(e)&&!n.values.length?QA(t,e):$o($x(tb(n,i),i.values),r):Vl(t,e)};function Wx(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?xe(t,e,r):Cp(t)(t,e)}const nb=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>pe.update(e,r),stop:()=>pn(e),now:()=>$e.isProcessing?$e.timestamp:dt.now()}},Xx=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Gl=2e4;function Pp(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Gl;)e+=r,n=t.next(e);return e>=Gl?1/0:e}function ib(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(Pp(n),Gl);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:vr(i)}}const sb=5;function Yx(t,e,r){const n=Math.max(e-sb,0);return Cx(r-t(n),e-n)}const be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xc=.001;function ob({duration:t=be.duration,bounce:e=be.bounce,velocity:r=be.velocity,mass:n=be.mass}){let i,s,o=1-e;o=Ur(be.minDamping,be.maxDamping,o),t=Ur(be.minDuration,be.maxDuration,vr(t)),o<1?(i=u=>{const c=u*o,h=c*t,f=c-r,d=yf(u,o),p=Math.exp(-h);return xc-f/d*p},s=u=>{const h=u*o*t,f=h*r+r,d=Math.pow(o,2)*Math.pow(u,2)*t,p=Math.exp(-h),v=yf(Math.pow(u,2),o);return(-i(u)+xc>0?-1:1)*((f-d)*p)/v}):(i=u=>{const c=Math.exp(-u*t),h=(u-r)*t+1;return-xc+c*h},s=u=>{const c=Math.exp(-u*t),h=(r-u)*(t*t);return c*h});const a=5/t,l=lb(i,s,a);if(t=yr(t),isNaN(l))return{stiffness:be.stiffness,damping:be.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const ab=12;function lb(t,e,r){let n=r;for(let i=1;i<ab;i++)n=n-t(n)/e(n);return n}function yf(t,e){return t*Math.sqrt(1-e*e)}const ub=["duration","bounce"],cb=["stiffness","damping","mass"];function bg(t,e){return e.some(r=>t[r]!==void 0)}function hb(t){let e={velocity:be.velocity,stiffness:be.stiffness,damping:be.damping,mass:be.mass,isResolvedFromDuration:!1,...t};if(!bg(t,cb)&&bg(t,ub))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Ur(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:be.mass,stiffness:i,damping:s}}else{const r=ob(t);e={...e,...r,mass:be.mass},e.isResolvedFromDuration=!0}return e}function zl(t=be.visualDuration,e=be.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:h,velocity:f,isResolvedFromDuration:d}=hb({...r,velocity:-vr(r.velocity||0)}),p=f||0,v=u/(2*Math.sqrt(l*c)),x=o-s,g=vr(Math.sqrt(l/c)),y=Math.abs(x)<5;n||(n=y?be.restSpeed.granular:be.restSpeed.default),i||(i=y?be.restDelta.granular:be.restDelta.default);let m;if(v<1){const w=yf(g,v);m=S=>{const E=Math.exp(-v*g*S);return o-E*((p+v*g*x)/w*Math.sin(w*S)+x*Math.cos(w*S))}}else if(v===1)m=w=>o-Math.exp(-g*w)*(x+(p+g*x)*w);else{const w=g*Math.sqrt(v*v-1);m=S=>{const E=Math.exp(-v*g*S),T=Math.min(w*S,300);return o-E*((p+v*g*x)*Math.sinh(T)+w*x*Math.cosh(T))/w}}const _={calculatedDuration:d&&h||null,next:w=>{const S=m(w);if(d)a.done=w>=h;else{let E=w===0?p:0;v<1&&(E=w===0?yr(p):Yx(m,w,S));const T=Math.abs(E)<=n,R=Math.abs(o-S)<=i;a.done=T&&R}return a.value=a.done?o:S,a},toString:()=>{const w=Math.min(Pp(_),Gl),S=Xx(E=>_.next(w*E).value,w,30);return w+"ms "+S},toTransition:()=>{}};return _}zl.applyToOptions=t=>{const e=ib(t,100,zl);return t.ease=e.ease,t.duration=yr(e.duration),t.type="keyframes",t};function vf({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],f={done:!1,value:h},d=T=>a!==void 0&&T<a||l!==void 0&&T>l,p=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=r*e;const x=h+v,g=o===void 0?x:o(x);g!==x&&(v=g-h);const y=T=>-v*Math.exp(-T/n),m=T=>g+y(T),_=T=>{const R=y(T),P=m(T);f.done=Math.abs(R)<=u,f.value=f.done?g:P};let w,S;const E=T=>{d(f.value)&&(w=T,S=zl({keyframes:[f.value,p(f.value)],velocity:Yx(m,T,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:T=>{let R=!1;return!S&&w===void 0&&(R=!0,_(T),E(T)),w!==void 0&&T>=w?S.next(T-w):(!R&&_(T),f)}}}function fb(t,e,r){const n=[],i=r||Vr.mix||Wx,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||kt:e;a=$o(l,a)}n.push(a)}return n}function db(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(vp(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=fb(e,n,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const f=bo(t[h],t[h+1],c);return a[h](f)};return r?c=>u(Ur(t[0],t[s-1],c)):u}function pb(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=bo(0,e,n);t.push(xe(r,1,i))}}function mb(t){const e=[0];return pb(e,t.length-1),e}function gb(t,e){return t.map(r=>r*e)}function yb(t,e){return t.map(()=>e||Ox).splice(0,t.length-1)}function eo({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=PA(n)?n.map(wg):wg(n),s={done:!1,value:e[0]},o=gb(r&&r.length===e.length?r:mb(e),t),a=db(o,e,{ease:Array.isArray(i)?i:yb(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const vb=t=>t!==null;function Ip(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(vb),a=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const xb={decay:vf,inertia:vf,tween:eo,keyframes:eo,spring:zl};function Kx(t){typeof t.type=="string"&&(t.type=xb[t.type])}class Rp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const _b=t=>t/100;class Mp extends Rp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==dt.now()&&this.tick(dt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Kx(e);const{type:r=eo,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=r||eo;l!==eo&&typeof a[0]!="number"&&(this.mixKeyframes=$o(_b,Wx(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Pp(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:c,repeat:h,repeatType:f,repeatDelay:d,type:p,onUpdate:v,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let m=this.currentTime,_=n;if(h){const T=Math.min(this.currentTime,i)/a;let R=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(f==="reverse"?(P=1-P,d&&(P-=d/a)):f==="mirror"&&(_=o)),m=Ur(0,1,P)*a}const w=y?{done:!1,value:c[0]}:_.next(m);s&&(w.value=s(w.value));let{done:S}=w;!y&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return E&&p!==vf&&(w.value=Ip(c,this.options,x,this.speed)),v&&v(w.value),E&&this.finish(),w}then(e,r){return this.finished.then(e,r)}get duration(){return vr(this.calculatedDuration)}get time(){return vr(this.currentTime)}set time(e){var r;e=yr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(dt.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=vr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=nb,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function wb(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Vn=t=>t*180/Math.PI,xf=t=>{const e=Vn(Math.atan2(t[1],t[0]));return _f(e)},Tb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:xf,rotateZ:xf,skewX:t=>Vn(Math.atan(t[1])),skewY:t=>Vn(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_f=t=>(t=t%360,t<0&&(t+=360),t),Cg=xf,Pg=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ig=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Eb={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Pg,scaleY:Ig,scale:t=>(Pg(t)+Ig(t))/2,rotateX:t=>_f(Vn(Math.atan2(t[6],t[5]))),rotateY:t=>_f(Vn(Math.atan2(-t[2],t[0]))),rotateZ:Cg,rotate:Cg,skewX:t=>Vn(Math.atan(t[4])),skewY:t=>Vn(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function wf(t){return t.includes("scale")?1:0}function Tf(t,e){if(!t||t==="none")return wf(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Eb,i=r;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Tb,i=a}if(!i)return wf(e);const s=n[e],o=i[1].split(",").map(Ab);return typeof s=="function"?s(o):o[s]}const Sb=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Tf(r,e)};function Ab(t){return parseFloat(t.trim())}const ps=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ms=new Set(ps),Rg=t=>t===ds||t===q,bb=new Set(["x","y","z"]),Cb=ps.filter(t=>!bb.has(t));function Pb(t){const e=[];return Cb.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Hn={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Tf(e,"x"),y:(t,{transform:e})=>Tf(e,"y")};Hn.translateX=Hn.x;Hn.translateY=Hn.y;const $n=new Set;let Ef=!1,Sf=!1,Af=!1;function qx(){if(Sf){const t=Array.from($n).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Pb(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var a;(a=n.getValue(s))==null||a.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Sf=!1,Ef=!1,$n.forEach(t=>t.complete(Af)),$n.clear()}function Zx(){$n.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Sf=!0)})}function Ib(){Af=!0,Zx(),qx(),Af=!1}class Dp{constructor(e,r,n,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?($n.add(this),Ef||(Ef=!0,pe.read(Zx),pe.resolveKeyframes(qx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const a=n.readValue(r,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}wb(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$n.delete(this)}cancel(){this.state==="scheduled"&&($n.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Rb=t=>t.startsWith("--");function Mb(t,e,r){Rb(e)?t.style.setProperty(e,r):t.style[e]=r}const Db=xp(()=>window.ScrollTimeline!==void 0),kb={};function Bb(t,e){const r=xp(t);return()=>kb[e]??r()}const Qx=Bb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ns=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,Mg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ns([0,.65,.55,1]),circOut:Ns([.55,0,1,.45]),backIn:Ns([.31,.01,.66,-.59]),backOut:Ns([.33,1.53,.69,.99])};function Jx(t,e){if(t)return typeof t=="function"?Qx()?Xx(t,e):"ease-out":Lx(t)?Ns(t):Array.isArray(t)?t.map(r=>Jx(r,e)||Mg.easeOut):Mg[t]}function Fb(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:r};l&&(c.offset=l);const h=Jx(a,i);Array.isArray(h)&&(c.easing=h);const f={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(c,f)}function e_(t){return typeof t=="function"&&"applyToOptions"in t}function Ob({type:t,...e}){return e_(t)&&Qx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Lb extends Rp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,vp(typeof e.type!="string");const u=Ob(e);this.animation=Fb(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=Ip(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):Mb(r,n,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return vr(Number(e))}get time(){return vr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=yr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Db()?(this.animation.timeline=e,kt):r(this)}}const t_={anticipate:kx,backInOut:Dx,circInOut:Fx};function Nb(t){return t in t_}function Ub(t){typeof t.ease=="string"&&Nb(t.ease)&&(t.ease=t_[t.ease])}const Dg=10;class Vb extends Lb{constructor(e){Ub(e),Kx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const a=new Mp({...o,autoplay:!1}),l=yr(this.finishedTime??this.time);r.setWithVelocity(a.sample(l-Dg).value,a.sample(l).value,Dg),a.stop()}}const kg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mn.test(t)||t==="0")&&!t.startsWith("url("));function Gb(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function zb(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=kg(i,e),a=kg(s,e);return!o||!a?!1:Gb(t)||(r==="spring"||e_(r))&&n}function bf(t){t.duration=0,t.type}const jb=new Set(["opacity","clipPath","filter","transform"]),Hb=xp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $b(t){var c;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return Hb()&&r&&jb.has(r)&&(r!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&s!==0&&o!=="inertia"}const Wb=40;class Xb extends Rp{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...h}){var p;super(),this.stop=()=>{var v,x;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=dt.now();const f={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...h},d=(c==null?void 0:c.KeyframeResolver)||Dp;this.keyframeResolver=new d(a,(v,x,g)=>this.onKeyframesResolved(v,x,f,!g),l,u,c),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=n;this.resolvedAt=dt.now(),zb(e,s,o,a)||((Vr.instantAnimations||!l)&&(c==null||c(Ip(e,n,r))),e[0]=e[e.length-1],bf(n),n.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Wb?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},d=!u&&$b(f)?new Vb({...f,element:f.motionValue.owner.current}):new Mp(f);d.finished.then(()=>this.notifyFinished()).catch(kt),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Ib()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Yb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kb(t){const e=Yb.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function r_(t,e,r=1){const[n,i]=Kb(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return Sx(o)?parseFloat(o):o}return Sp(i)?r_(i,e,r+1):i}function kp(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const n_=new Set(["width","height","top","left","right","bottom",...ps]),qb={test:t=>t==="auto",parse:t=>t},i_=t=>e=>e.test(t),s_=[ds,q,xr,Wr,GA,VA,qb],Bg=t=>s_.find(i_(t));function Zb(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bx(t):!0}const Qb=new Set(["brightness","contrast","saturate","opacity"]);function Jb(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Ap)||[];if(!n)return t;const i=r.replace(n,"");let s=Qb.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const eC=/\b([a-z-]*)\(.*?\)/gu,Cf={...mn,getAnimatableNone:t=>{const e=t.match(eC);return e?e.map(Jb).join(" "):t}},Fg={...ds,transform:Math.round},tC={rotate:Wr,rotateX:Wr,rotateY:Wr,rotateZ:Wr,scale:wa,scaleX:wa,scaleY:wa,scaleZ:wa,skew:Wr,skewX:Wr,skewY:Wr,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:Co,originX:Tg,originY:Tg,originZ:q},Bp={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,backgroundPositionX:q,backgroundPositionY:q,...tC,zIndex:Fg,fillOpacity:Co,strokeOpacity:Co,numOctaves:Fg},rC={...Bp,color:ke,backgroundColor:ke,outlineColor:ke,fill:ke,stroke:ke,borderColor:ke,borderTopColor:ke,borderRightColor:ke,borderBottomColor:ke,borderLeftColor:ke,filter:Cf,WebkitFilter:Cf},o_=t=>rC[t];function a_(t,e){let r=o_(t);return r!==Cf&&(r=mn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const nC=new Set(["auto","none","0"]);function iC(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!nC.has(s)&&Po(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=a_(r,i)}class sC extends Dp{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Sp(u))){const c=r_(u,r.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!n_.has(n)||e.length!==2)return;const[i,s]=e,o=Bg(i),a=Bg(s);if(o!==a)if(Rg(o)&&Rg(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Hn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||Zb(e[i]))&&n.push(i);n.length&&iC(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=Hn[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function oC(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const l_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function aC(t){return Ax(t)&&"offsetHeight"in t}const Og=30,lC=t=>!isNaN(parseFloat(t));class uC{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=dt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=dt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new _p);const n=this.events[e].add(r);return e==="change"?()=>{n(),pe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Og)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Og);return Cx(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ns(t,e){return new uC(t,e)}const{schedule:Fp}=Nx(queueMicrotask,!1),zt={x:!1,y:!1};function u_(){return zt.x||zt.y}function cC(t){return t==="x"||t==="y"?zt[t]?null:(zt[t]=!0,()=>{zt[t]=!1}):zt.x||zt.y?null:(zt.x=zt.y=!0,()=>{zt.x=zt.y=!1})}function c_(t,e){const r=oC(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function Lg(t){return!(t.pointerType==="touch"||u_())}function hC(t,e,r={}){const[n,i,s]=c_(t,r),o=a=>{if(!Lg(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=h=>{Lg(h)&&(u(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const h_=(t,e)=>e?t===e?!0:h_(t,e.parentElement):!1,Op=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,fC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dC(t){return fC.has(t.tagName)||t.tabIndex!==-1}const il=new WeakSet;function Ng(t){return e=>{e.key==="Enter"&&t(e)}}function _c(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pC=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=Ng(()=>{if(il.has(r))return;_c(r,"down");const i=Ng(()=>{_c(r,"up")}),s=()=>_c(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function Ug(t){return Op(t)&&!u_()}function mC(t,e,r={}){const[n,i,s]=c_(t,r),o=a=>{const l=a.currentTarget;if(!Ug(a))return;il.add(l);const u=e(l,a),c=(d,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),il.has(l)&&il.delete(l),Ug(d)&&typeof u=="function"&&u(d,{success:p})},h=d=>{c(d,l===window||l===document||r.useGlobalTarget||h_(l,d.target))},f=d=>{c(d,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return n.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),aC(a)&&(a.addEventListener("focus",u=>pC(u,i)),!dC(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function f_(t){return Ax(t)&&"ownerSVGElement"in t}function gC(t){return f_(t)&&t.tagName==="svg"}const rt=t=>!!(t&&t.getVelocity),yC=[...s_,ke,mn],vC=t=>yC.find(i_(t)),d_=$.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xC(t=!0){const e=$.useContext(mp);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=$.useId();$.useEffect(()=>{if(t)return i(s)},[t]);const o=$.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const p_=$.createContext({strict:!1}),Vg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},is={};for(const t in Vg)is[t]={isEnabled:e=>Vg[t].some(r=>!!e[r])};function _C(t){for(const e in t)is[e]={...is[e],...t[e]}}const wC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wC.has(t)}let m_=t=>!jl(t);function TC(t){typeof t=="function"&&(m_=e=>e.startsWith("on")?!jl(e):t(e))}try{TC(require("@emotion/is-prop-valid").default)}catch{}function EC(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(m_(i)||r===!0&&jl(i)||!e&&!jl(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const bu=$.createContext({});function Cu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Io(t){return typeof t=="string"||Array.isArray(t)}const Lp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Np=["initial",...Lp];function Pu(t){return Cu(t.animate)||Np.some(e=>Io(t[e]))}function g_(t){return!!(Pu(t)||t.variants)}function SC(t,e){if(Pu(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Io(r)?r:void 0,animate:Io(n)?n:void 0}}return t.inherit!==!1?e:{}}function AC(t){const{initial:e,animate:r}=SC(t,$.useContext(bu));return $.useMemo(()=>({initial:e,animate:r}),[Gg(e),Gg(r)])}function Gg(t){return Array.isArray(t)?t.join(" "):t}const Ro={};function bC(t){for(const e in t)Ro[e]=t[e],Ep(e)&&(Ro[e].isCSSVariable=!0)}function y_(t,{layout:e,layoutId:r}){return ms.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Ro[t]||t==="opacity")}const CC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PC=ps.length;function IC(t,e,r){let n="",i=!0;for(let s=0;s<PC;s++){const o=ps[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const u=l_(a,Bp[o]);if(!l){i=!1;const c=CC[o]||o;n+=`${c}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function Up(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(ms.has(l)){o=!0;continue}else if(Ep(l)){i[l]=u;continue}else{const c=l_(u,Bp[l]);l.startsWith("origin")?(a=!0,s[l]=c):n[l]=c}}if(e.transform||(o||r?n.transform=IC(e,t.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;n.transformOrigin=`${l} ${u} ${c}`}}const Vp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function v_(t,e,r){for(const n in e)!rt(e[n])&&!y_(n,r)&&(t[n]=e[n])}function RC({transformTemplate:t},e){return $.useMemo(()=>{const r=Vp();return Up(r,e,t),Object.assign({},r.vars,r.style)},[e])}function MC(t,e){const r=t.style||{},n={};return v_(n,r,t),Object.assign(n,RC(t,e)),n}function DC(t,e){const r={},n=MC(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const kC={offset:"stroke-dashoffset",array:"stroke-dasharray"},BC={offset:"strokeDashoffset",array:"strokeDasharray"};function FC(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?kC:BC;t[s.offset]=q.transform(-n);const o=q.transform(e),a=q.transform(r);t[s.array]=`${o} ${a}`}function x_(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(Up(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),i!==void 0&&FC(h,i,s,o,!1)}const __=()=>({...Vp(),attrs:{}}),w_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OC(t,e,r,n){const i=$.useMemo(()=>{const s=__();return x_(s,e,w_(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};v_(s,t.style,t),i.style={...s,...i.style}}return i}const LC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gp(t){return typeof t!="string"||t.includes("-")?!1:!!(LC.indexOf(t)>-1||/[A-Z]/u.test(t))}function NC(t,e,r,{latestValues:n},i,s=!1){const a=(Gp(t)?OC:DC)(e,n,i,t),l=EC(e,typeof t=="string",s),u=t!==$.Fragment?{...l,...a,ref:r}:{},{children:c}=e,h=$.useMemo(()=>rt(c)?c.get():c,[c]);return $.createElement(t,{...u,children:h})}function zg(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function zp(t,e,r,n){if(typeof e=="function"){const[i,s]=zg(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=zg(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function sl(t){return rt(t)?t.get():t}function UC({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:VC(r,n,i,t),renderState:e()}}function VC(t,e,r,n){const i={},s=n(t,{});for(const f in s)i[f]=sl(s[f]);let{initial:o,animate:a}=t;const l=Pu(t),u=g_(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=r?r.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!Cu(h)){const f=Array.isArray(h)?h:[h];for(let d=0;d<f.length;d++){const p=zp(t,f[d]);if(p){const{transitionEnd:v,transition:x,...g}=p;for(const y in g){let m=g[y];if(Array.isArray(m)){const _=c?m.length-1:0;m=m[_]}m!==null&&(i[y]=m)}for(const y in v)i[y]=v[y]}}}return i}const T_=t=>(e,r)=>{const n=$.useContext(bu),i=$.useContext(mp),s=()=>UC(t,e,n,i);return r?s():_A(s)};function jp(t,e,r){var s;const{style:n}=t,i={};for(const o in n)(rt(n[o])||e.style&&rt(e.style[o])||y_(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const GC=T_({scrapeMotionValuesFromProps:jp,createRenderState:Vp});function E_(t,e,r){const n=jp(t,e,r);for(const i in t)if(rt(t[i])||rt(e[i])){const s=ps.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const zC=T_({scrapeMotionValuesFromProps:E_,createRenderState:__}),jC=Symbol.for("motionComponentSymbol");function Ri(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HC(t,e,r){return $.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Ri(r)&&(r.current=n))},[e])}const Hp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$C="framerAppearId",S_="data-"+Hp($C),A_=$.createContext({});function WC(t,e,r,n,i){var v,x;const{visualElement:s}=$.useContext(bu),o=$.useContext(p_),a=$.useContext(mp),l=$.useContext(d_).reducedMotion,u=$.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,h=$.useContext(A_);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&XC(u.current,r,i,h);const f=$.useRef(!1);$.useInsertionEffect(()=>{c&&f.current&&c.update(r,a)});const d=r[S_],p=$.useRef(!!d&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,d))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,d)));return wA(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),$.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,d)}),p.current=!1),c.enteringChildren=void 0)}),c}function XC(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:b_(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ri(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:l,layoutRoot:u})}function b_(t){if(t)return t.options.allowProjection!==!1?t.projection:b_(t.parent)}function wc(t,{forwardMotionProps:e=!1}={},r,n){r&&_C(r);const i=Gp(t)?zC:GC;function s(a,l){let u;const c={...$.useContext(d_),...a,layoutId:YC(a)},{isStatic:h}=c,f=AC(a),d=i(a,h);if(!h&&pp){KC();const p=qC(c);u=p.MeasureLayout,f.visualElement=WC(t,d,c,n,p.ProjectionNode)}return z.jsxs(bu.Provider,{value:f,children:[u&&f.visualElement?z.jsx(u,{visualElement:f.visualElement,...c}):null,NC(t,a,HC(d,f.visualElement,l),d,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=$.forwardRef(s);return o[jC]=t,o}function YC({layoutId:t}){const e=$.useContext(Ex).id;return e&&t!==void 0?e+"-"+t:t}function KC(t,e){$.useContext(p_).strict}function qC(t){const{drag:e,layout:r}=is;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function ZC(t,e){if(typeof Proxy>"u")return wc;const r=new Map,n=(s,o)=>wc(s,o,t,e),i=(s,o)=>n(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,wc(o,void 0,t,e)),r.get(o))})}function C_({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function QC({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JC(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Tc(t){return t===void 0||t===1}function Pf({scale:t,scaleX:e,scaleY:r}){return!Tc(t)||!Tc(e)||!Tc(r)}function Rn(t){return Pf(t)||P_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function P_(t){return jg(t.x)||jg(t.y)}function jg(t){return t&&t!=="0%"}function Hl(t,e,r){const n=t-r,i=e*n;return r+i}function Hg(t,e,r,n,i){return i!==void 0&&(t=Hl(t,i,n)),Hl(t,r,n)+e}function If(t,e=0,r=1,n,i){t.min=Hg(t.min,e,r,n,i),t.max=Hg(t.max,e,r,n,i)}function I_(t,{x:e,y:r}){If(t.x,e.translate,e.scale,e.originPoint),If(t.y,r.translate,r.scale,r.originPoint)}const $g=.999999999999,Wg=1.0000000000001;function e2(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Di(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,I_(t,o)),n&&Rn(s.latestValues)&&Di(t,s.latestValues))}e.x<Wg&&e.x>$g&&(e.x=1),e.y<Wg&&e.y>$g&&(e.y=1)}function Mi(t,e){t.min=t.min+e,t.max=t.max+e}function Xg(t,e,r,n,i=.5){const s=xe(t.min,t.max,i);If(t,e,r,s,n)}function Di(t,e){Xg(t.x,e.x,e.scaleX,e.scale,e.originX),Xg(t.y,e.y,e.scaleY,e.scale,e.originY)}function R_(t,e){return C_(JC(t.getBoundingClientRect(),e))}function t2(t,e,r){const n=R_(t,r),{scroll:i}=e;return i&&(Mi(n.x,i.offset.x),Mi(n.y,i.offset.y)),n}const Yg=()=>({translate:0,scale:1,origin:0,originPoint:0}),ki=()=>({x:Yg(),y:Yg()}),Kg=()=>({min:0,max:0}),Ie=()=>({x:Kg(),y:Kg()}),Rf={current:null},M_={current:!1};function r2(){if(M_.current=!0,!!pp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rf.current=t.matches;t.addEventListener("change",e),e()}else Rf.current=!1}const n2=new WeakMap;function i2(t,e,r){for(const n in e){const i=e[n],s=r[n];if(rt(i))t.addValue(n,i);else if(rt(s))t.addValue(n,ns(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,ns(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const qg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s2{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=dt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,pe.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Pu(r),this.isVariantNode=g_(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const d=h[f];l[f]!==void 0&&rt(d)&&d.set(l[f])}}mount(e){var r;this.current=e,n2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),M_.current||r2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rf.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),pn(this.notifyUpdate),pn(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ms.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&pe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in is){const r=is[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ie()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<qg.length;n++){const i=qg[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=i2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ns(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Sx(n)||bx(n))?n=parseFloat(n):!vC(n)&&mn.test(r)&&(n=a_(e,r)),this.setBaseTarget(e,rt(n)?n.get():n)),rt(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=zp(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!rt(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new _p),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Fp.render(this.render)}}class D_ extends s2{constructor(){super(...arguments),this.KeyframeResolver=sC}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function k_(t,{style:e,vars:r},n,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function o2(t){return window.getComputedStyle(t)}class a2 extends D_{constructor(){super(...arguments),this.type="html",this.renderInstance=k_}readValueFromInstance(e,r){var n;if(ms.has(r))return(n=this.projection)!=null&&n.isProjecting?wf(r):Sb(e,r);{const i=o2(e),s=(Ep(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return R_(e,r)}build(e,r,n){Up(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return jp(e,r,n)}}const B_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l2(t,e,r,n){k_(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(B_.has(i)?i:Hp(i),e.attrs[i])}class u2 extends D_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ie}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ms.has(r)){const n=o_(r);return n&&n.default||0}return r=B_.has(r)?r:Hp(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return E_(e,r,n)}build(e,r,n){x_(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){l2(e,r,n,i)}mount(e){this.isSVGTag=w_(e.tagName),super.mount(e)}}const c2=(t,e)=>Gp(t)?new u2(e):new a2(e,{allowProjection:t!==$.Fragment});function ji(t,e,r){const n=t.getProps();return zp(n,e,r!==void 0?r:n.custom,t)}const Mf=t=>Array.isArray(t);function h2(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ns(r))}function f2(t){return Mf(t)?t[t.length-1]||0:t}function d2(t,e){const r=ji(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const a=f2(s[o]);h2(t,o,a)}}function p2(t){return!!(rt(t)&&t.add)}function Df(t,e){const r=t.getValue("willChange");if(p2(r))return r.add(e);if(!r&&Vr.WillChange){const n=new Vr.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function F_(t){return t.props[S_]}const m2=t=>t!==null;function g2(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(m2),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const y2={type:"spring",stiffness:500,damping:25,restSpeed:10},v2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),x2={type:"keyframes",duration:.8},_2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},w2=(t,{keyframes:e})=>e.length>2?x2:ms.has(t)?t.startsWith("scale")?v2(e[1]):y2:_2;function T2({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const $p=(t,e,r,n={},i,s)=>o=>{const a=kp(n,t)||{},l=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-yr(l);const c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};T2(a)||Object.assign(c,w2(t,c)),c.duration&&(c.duration=yr(c.duration)),c.repeatDelay&&(c.repeatDelay=yr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(bf(c),c.delay===0&&(h=!0)),(Vr.instantAnimations||Vr.skipAnimations)&&(h=!0,bf(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=g2(c.keyframes,a);if(f!==void 0){pe.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new Mp(c):new Xb(c)};function E2({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function O_(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;n&&(s=n);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const h=t.getValue(c,t.latestValues[c]??null),f=a[c];if(f===void 0||u&&E2(u,c))continue;const d={delay:r,...kp(s||{},c)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!d.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=F_(t);if(g){const y=window.MotionHandoffAnimation(g,c,pe);y!==null&&(d.startTime=y,v=!0)}}Df(t,c),h.start($p(c,h,f,t.shouldReduceMotion&&n_.has(c)?{type:!1}:d,t,v));const x=h.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{pe.update(()=>{o&&d2(t,o)})}),l}function L_(t,e,r,n=0,i=1){const s=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),o=t.size,a=(o-1)*n;return typeof r=="function"?r(s,o):i===1?s*n:a-s*n}function kf(t,e,r={}){var l;const n=ji(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(O_(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=i;return S2(t,e,u,c,h,f,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(r.delay)])}function S2(t,e,r=0,n=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(kf(l,e,{...o,delay:r+(typeof n=="function"?0:n)+L_(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function A2(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>kf(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=kf(t,e,r);else{const i=typeof e=="function"?ji(t,e,r.custom):e;n=Promise.all(O_(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function N_(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const b2=Np.length;function U_(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?U_(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<b2;r++){const n=Np[r],i=t.props[n];(Io(i)||i===!1)&&(e[n]=i)}return e}const C2=[...Lp].reverse(),P2=Lp.length;function I2(t){return e=>Promise.all(e.map(({animation:r,options:n})=>A2(t,r,n)))}function R2(t){let e=I2(t),r=Zg(),n=!0;const i=l=>(u,c)=>{var f;const h=ji(t,c,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:d,transitionEnd:p,...v}=h;u={...u,...v,...p}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=U_(t.parent)||{},h=[],f=new Set;let d={},p=1/0;for(let x=0;x<P2;x++){const g=C2[x],y=r[g],m=u[g]!==void 0?u[g]:c[g],_=Io(m),w=g===l?y.isActive:null;w===!1&&(p=x);let S=m===c[g]&&m!==u[g]&&_;if(S&&n&&t.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...d},!y.isActive&&w===null||!m&&!y.prevProp||Cu(m)||typeof m=="boolean")continue;const E=M2(y.prevProp,m);let T=E||g===l&&y.isActive&&!S&&_||x>p&&_,R=!1;const P=Array.isArray(m)?m:[m];let M=P.reduce(i(g),{});w===!1&&(M={});const{prevResolvedValues:F={}}=y,C={...F,...M},b=k=>{T=!0,f.has(k)&&(R=!0,f.delete(k)),y.needsAnimating[k]=!0;const I=t.getValue(k);I&&(I.liveStyle=!1)};for(const k in C){const I=M[k],O=F[k];if(d.hasOwnProperty(k))continue;let A=!1;Mf(I)&&Mf(O)?A=!N_(I,O):A=I!==O,A?I!=null?b(k):f.add(k):I!==void 0&&f.has(k)?b(k):y.protectedKeys[k]=!0}y.prevProp=m,y.prevResolvedValues=M,y.isActive&&(d={...d,...M}),n&&t.blockInitialAnimation&&(T=!1);const W=S&&E;T&&(!W||R)&&h.push(...P.map(k=>{const I={type:g};if(typeof k=="string"&&n&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:O}=t,A=ji(O,k);if(O.enteringChildren&&A){const{delayChildren:L}=A.transition||{};I.delay=L_(O.enteringChildren,t,L)}}return{animation:k,options:I}}))}if(f.size){const x={};if(typeof u.initial!="boolean"){const g=ji(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(x.transition=g.transition)}f.forEach(g=>{const y=t.getBaseTarget(g),m=t.getValue(g);m&&(m.liveStyle=!0),x[g]=y??null}),h.push({animation:x})}let v=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(h):Promise.resolve()}function a(l,u){var h;if(r[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var d;return(d=f.animationState)==null?void 0:d.setActive(l,u)}),r[l].isActive=u;const c=o(l);for(const f in r)r[f].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r,reset:()=>{r=Zg(),n=!0}}}function M2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!N_(e,t):!1}function An(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zg(){return{animate:An(!0),whileInView:An(),whileHover:An(),whileTap:An(),whileDrag:An(),whileFocus:An(),exit:An()}}class En{constructor(e){this.isMounted=!1,this.node=e}update(){}}class D2 extends En{constructor(e){super(e),e.animationState||(e.animationState=R2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let k2=0;class B2 extends En{constructor(){super(...arguments),this.id=k2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const F2={animation:{Feature:D2},exit:{Feature:B2}};function Mo(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Yo(t){return{point:{x:t.pageX,y:t.pageY}}}const O2=t=>e=>Op(e)&&t(e,Yo(e));function to(t,e,r,n){return Mo(t,e,O2(r),n)}const V_=1e-4,L2=1-V_,N2=1+V_,G_=.01,U2=0-G_,V2=0+G_;function st(t){return t.max-t.min}function G2(t,e,r){return Math.abs(t-e)<=r}function Qg(t,e,r,n=.5){t.origin=n,t.originPoint=xe(e.min,e.max,t.origin),t.scale=st(r)/st(e),t.translate=xe(r.min,r.max,t.origin)-t.originPoint,(t.scale>=L2&&t.scale<=N2||isNaN(t.scale))&&(t.scale=1),(t.translate>=U2&&t.translate<=V2||isNaN(t.translate))&&(t.translate=0)}function ro(t,e,r,n){Qg(t.x,e.x,r.x,n?n.originX:void 0),Qg(t.y,e.y,r.y,n?n.originY:void 0)}function Jg(t,e,r){t.min=r.min+e.min,t.max=t.min+st(e)}function z2(t,e,r){Jg(t.x,e.x,r.x),Jg(t.y,e.y,r.y)}function ey(t,e,r){t.min=e.min-r.min,t.max=t.min+st(e)}function no(t,e,r){ey(t.x,e.x,r.x),ey(t.y,e.y,r.y)}function Ct(t){return[t("x"),t("y")]}const z_=({current:t})=>t?t.ownerDocument.defaultView:null,ty=(t,e)=>Math.abs(t-e);function j2(t,e){const r=ty(t.x,e.x),n=ty(t.y,e.y);return Math.sqrt(r**2+n**2)}class j_{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Sc(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=j2(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!d&&!p)return;const{point:v}=f,{timestamp:x}=$e;this.history.push({...v,timestamp:x});const{onStart:g,onMove:y}=this.handlers;d||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ec(d,this.transformPagePoint),pe.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Sc(f.type==="pointercancel"?this.lastMoveEventInfo:Ec(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,g),v&&v(f,g)},!Op(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const a=Yo(e),l=Ec(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=$e;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=r;h&&h(e,Sc(l,this.history)),this.removeListeners=$o(to(this.contextWindow,"pointermove",this.handlePointerMove),to(this.contextWindow,"pointerup",this.handlePointerUp),to(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pn(this.updatePoint)}}function Ec(t,e){return e?{point:e(t.point)}:t}function ry(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sc({point:t},e){return{point:t,delta:ry(t,H_(e)),offset:ry(t,H2(e)),velocity:$2(e,.1)}}function H2(t){return t[0]}function H_(t){return t[t.length-1]}function $2(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=H_(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>yr(e)));)r--;if(!n)return{x:0,y:0};const s=vr(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function W2(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?xe(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?xe(r,t,n.max):Math.min(t,r)),t}function ny(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function X2(t,{top:e,left:r,bottom:n,right:i}){return{x:ny(t.x,r,i),y:ny(t.y,e,n)}}function iy(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Y2(t,e){return{x:iy(t.x,e.x),y:iy(t.y,e.y)}}function K2(t,e){let r=.5;const n=st(t),i=st(e);return i>n?r=bo(e.min,e.max-n,t.min):n>i&&(r=bo(t.min,t.max-i,e.min)),Ur(0,1,r)}function q2(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Bf=.35;function Z2(t=Bf){return t===!1?t=0:t===!0&&(t=Bf),{x:sy(t,"left","right"),y:sy(t,"top","bottom")}}function sy(t,e,r){return{min:oy(t,e),max:oy(t,r)}}function oy(t,e){return typeof t=="number"?t:t[e]||0}const Q2=new WeakMap;class J2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ie(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Yo(h).point)},o=(h,f)=>{const{drag:d,dragPropagation:p,onDragStart:v}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cC(d),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ct(g=>{let y=this.getAxisMotionValue(g).get()||0;if(xr.test(y)){const{projection:m}=this.visualElement;if(m&&m.layout){const _=m.layout.layoutBox[g];_&&(y=st(_)*(parseFloat(y)/100))}}this.originPoint[g]=y}),v&&pe.postRender(()=>v(h,f)),Df(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:v,onDrag:x}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:g}=f;if(p&&this.currentDirection===null){this.currentDirection=eP(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),x&&x(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ct(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new j_(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:z_(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&pe.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Ta(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=W2(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ri(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=X2(n.layoutBox,e):this.constraints=!1,this.elastic=Z2(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ct(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=q2(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ri(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=t2(n,i.root,this.visualElement.getTransformPagePoint());let o=Y2(i.layout.layoutBox,s);if(r){const a=r(QC(o));this.hasMutatedConstraints=!!a,a&&(o=C_(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ct(c=>{if(!Ta(c,r,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const f=i?200:1e6,d=i?40:1e7,p={type:"inertia",velocity:n?e[c]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Df(this.visualElement,e),n.start($p(e,n,0,r,this.visualElement,!1))}stopAnimation(){Ct(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ct(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ct(r=>{const{drag:n}=this.getProps();if(!Ta(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-xe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ri(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ct(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=K2({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ct(o=>{if(!Ta(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(xe(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Q2.set(this.visualElement,this);const e=this.visualElement.current,r=to(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Ri(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),pe.read(n);const o=Mo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ct(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Bf,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ta(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function eP(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class tP extends En{constructor(e){super(e),this.removeGroupControls=kt,this.removeListeners=kt,this.controls=new J2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ay=t=>(e,r)=>{t&&pe.postRender(()=>t(e,r))};class rP extends En{constructor(){super(...arguments),this.removePointerDownListener=kt}onPointerDown(e){this.session=new j_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:ay(e),onStart:ay(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&pe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=to(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ol={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ly(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(q.test(t))t=parseFloat(t);else return t;const r=ly(t,e.target.x),n=ly(t,e.target.y);return`${r}% ${n}%`}},nP={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=mn.parse(t);if(i.length>5)return n;const s=mn.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=xe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let Ac=!1;class iP extends $.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;bC(sP),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Ac&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ol.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,Ac=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||pe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;Ac=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $_(t){const[e,r]=xC(),n=$.useContext(Ex);return z.jsx(iP,{...t,layoutGroup:n,switchLayoutGroup:$.useContext(A_),isPresent:e,safeToRemove:r})}const sP={borderRadius:{...Cs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cs,borderTopRightRadius:Cs,borderBottomLeftRadius:Cs,borderBottomRightRadius:Cs,boxShadow:nP};function oP(t,e,r){const n=rt(t)?t:ns(t);return n.start($p("",n,e,r)),n.animation}const aP=(t,e)=>t.depth-e.depth;class lP{constructor(){this.children=[],this.isDirty=!1}add(e){gp(this.children,e),this.isDirty=!0}remove(e){yp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aP),this.isDirty=!1,this.children.forEach(e)}}function uP(t,e){const r=dt.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(pn(n),t(s-e))};return pe.setup(n,!0),()=>pn(n)}const W_=["TopLeft","TopRight","BottomLeft","BottomRight"],cP=W_.length,uy=t=>typeof t=="string"?parseFloat(t):t,cy=t=>typeof t=="number"||q.test(t);function hP(t,e,r,n,i,s){i?(t.opacity=xe(0,r.opacity??1,fP(n)),t.opacityExit=xe(e.opacity??1,0,dP(n))):s&&(t.opacity=xe(e.opacity??1,r.opacity??1,n));for(let o=0;o<cP;o++){const a=`border${W_[o]}Radius`;let l=hy(e,a),u=hy(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||cy(l)===cy(u)?(t[a]=Math.max(xe(uy(l),uy(u),n),0),(xr.test(u)||xr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||r.rotate)&&(t.rotate=xe(e.rotate||0,r.rotate||0,n))}function hy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const fP=X_(0,.5,Bx),dP=X_(.5,.95,kt);function X_(t,e,r){return n=>n<t?0:n>e?1:r(bo(t,e,n))}function fy(t,e){t.min=e.min,t.max=e.max}function bt(t,e){fy(t.x,e.x),fy(t.y,e.y)}function dy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function py(t,e,r,n,i){return t-=e,t=Hl(t,1/r,n),i!==void 0&&(t=Hl(t,1/i,n)),t}function pP(t,e=0,r=1,n=.5,i,s=t,o=t){if(xr.test(e)&&(e=parseFloat(e),e=xe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=xe(s.min,s.max,n);t===s&&(a-=e),t.min=py(t.min,e,r,a,i),t.max=py(t.max,e,r,a,i)}function my(t,e,[r,n,i],s,o){pP(t,e[r],e[n],e[i],e.scale,s,o)}const mP=["x","scaleX","originX"],gP=["y","scaleY","originY"];function gy(t,e,r,n){my(t.x,e,mP,r?r.x:void 0,n?n.x:void 0),my(t.y,e,gP,r?r.y:void 0,n?n.y:void 0)}function yy(t){return t.translate===0&&t.scale===1}function Y_(t){return yy(t.x)&&yy(t.y)}function vy(t,e){return t.min===e.min&&t.max===e.max}function yP(t,e){return vy(t.x,e.x)&&vy(t.y,e.y)}function xy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function K_(t,e){return xy(t.x,e.x)&&xy(t.y,e.y)}function _y(t){return st(t.x)/st(t.y)}function wy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vP{constructor(){this.members=[]}add(e){gp(this.members,e),e.scheduleRender()}remove(e){if(yp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xP(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:f,skewX:d,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),c&&(n+=`rotate(${c}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),d&&(n+=`skewX(${d}deg) `),p&&(n+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const bc=["","X","Y","Z"],_P=1e3;let wP=0;function Cc(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function q_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=F_(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",pe,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&q_(n)}function Z_({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=wP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SP),this.nodes.forEach(PP),this.nodes.forEach(IP),this.nodes.forEach(AP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lP)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _p),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=f_(o)&&!gC(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,h=0;const f=()=>this.root.updateBlockedByResize=!1;pe.read(()=>{h=window.innerWidth}),t(o,()=>{const d=window.innerWidth;d!==h&&(h=d,this.root.updateBlockedByResize=!0,c&&c(),c=uP(f,250),ol.hasAnimatedSinceResize&&(ol.hasAnimatedSinceResize=!1,this.nodes.forEach(Sy)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||BP,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=u.getProps(),g=!this.targetLayout||!K_(this.targetLayout,d),y=!h&&f;if(this.options.layoutRoot||this.resumeFrom||y||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const m={...kp(p,"layout"),onPlay:v,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(m.delay=0,m.type=!1),this.startAnimation(m),this.setAnimationOrigin(c,y)}else h||Sy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&q_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ty);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ey);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CP),this.nodes.forEach(TP),this.nodes.forEach(EP)):this.nodes.forEach(Ey),this.clearAllSnapshots();const a=dt.now();$e.delta=Ur(0,1e3/60,a-$e.timestamp),$e.timestamp=a,$e.isProcessing=!0,mc.update.process($e),mc.preRender.process($e),mc.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bP),this.sharedNodes.forEach(MP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!st(this.snapshot.measuredBox.x)&&!st(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ie(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Y_(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Rn(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),FP(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ie();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(OP))){const{scroll:c}=this.root;c&&(Mi(a.x,c.offset.x),Mi(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=Ie();if(bt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:f}=c;c!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&bt(a,o),Mi(a.x,h.offset.x),Mi(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Ie();bt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Di(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Rn(c.latestValues)&&Di(l,c.latestValues)}return Rn(this.latestValues)&&Di(l,this.latestValues),l}removeTransform(o){const a=Ie();bt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Rn(u.latestValues))continue;Pf(u.latestValues)&&u.updateSnapshot();const c=Ie(),h=u.measurePageBox();bt(c,h),gy(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Rn(this.latestValues)&&gy(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),no(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ie(),this.targetWithTransforms=Ie()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),z2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bt(this.target,this.layout.layoutBox),I_(this.target,this.targetDelta)):bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),no(this.relativeTargetOrigin,this.target,d.target),bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Pf(this.parent.latestValues)||P_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;bt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;e2(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ie());const{target:d}=o;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dy(this.prevProjectionDelta.x,this.projectionDelta.x),dy(this.prevProjectionDelta.y,this.projectionDelta.y)),ro(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!wy(this.projectionDelta.x,this.prevProjectionDelta.x)||!wy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ki(),this.projectionDelta=ki(),this.projectionDeltaWithTransform=ki()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=ki();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ie(),d=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=d!==p,x=this.getStack(),g=!x||x.members.length<=1,y=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(kP));this.animationProgress=0;let m;this.mixTargetDelta=_=>{const w=_/1e3;Ay(h.x,o.x,w),Ay(h.y,o.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(no(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DP(this.relativeTarget,this.relativeTargetOrigin,f,w),m&&yP(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=Ie()),bt(m,this.relativeTarget)),v&&(this.animationValues=c,hP(c,u,this.latestValues,w,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(pn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pe.update(()=>{ol.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ns(0)),this.currentAnimation=oP(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_P),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Q_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ie();const h=st(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=st(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}bt(a,l),Di(a,c),ro(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new vP),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Cc("z",o,u,this.animationValues);for(let c=0;c<bc.length;c++)Cc(`rotate${bc[c]}`,o,u,this.animationValues),Cc(`skew${bc[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=sl(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=sl(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Rn(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=xP(this.projectionDeltaWithTransform,this.treeScale,c);l&&(h=l(c,h)),o.transform=h;const{x:f,y:d}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${d.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in Ro){if(c[p]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:g}=Ro[p],y=h==="none"?c[p]:v(c[p],u);if(x){const m=x.length;for(let _=0;_<m;_++)o[x[_]]=y}else g?this.options.visualElement.renderState.vars[p]=y:o[p]=y}this.options.layoutId&&(o.pointerEvents=u===this?sl(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Ty),this.root.sharedNodes.clear()}}}function TP(t){t.updateLayout()}function EP(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Ct(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],d=st(f);f.min=n[h].min,f.max=f.min+d}):Q_(s,e.layoutBox,n)&&Ct(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],d=st(n[h]);f.max=f.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+d)});const a=ki();ro(a,n,e.layoutBox);const l=ki();o?ro(l,t.applyTransform(i,!0),e.measuredBox):ro(l,n,e.layoutBox);const u=!Y_(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:d}=h;if(f&&d){const p=Ie();no(p,e.layoutBox,f.layoutBox);const v=Ie();no(v,n,d.layoutBox),K_(p,v)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function SP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function AP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function bP(t){t.clearSnapshot()}function Ty(t){t.clearMeasurements()}function Ey(t){t.isLayoutDirty=!1}function CP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Sy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function PP(t){t.resolveTargetDelta()}function IP(t){t.calcProjection()}function RP(t){t.resetSkewAndRotation()}function MP(t){t.removeLeadSnapshot()}function Ay(t,e,r){t.translate=xe(e.translate,0,r),t.scale=xe(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function by(t,e,r,n){t.min=xe(e.min,r.min,n),t.max=xe(e.max,r.max,n)}function DP(t,e,r,n){by(t.x,e.x,r.x,n),by(t.y,e.y,r.y,n)}function kP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const BP={duration:.45,ease:[.4,0,.1,1]},Cy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Py=Cy("applewebkit/")&&!Cy("chrome/")?Math.round:kt;function Iy(t){t.min=Py(t.min),t.max=Py(t.max)}function FP(t){Iy(t.x),Iy(t.y)}function Q_(t,e,r){return t==="position"||t==="preserve-aspect"&&!G2(_y(e),_y(r),.2)}function OP(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const LP=Z_({attachResizeListener:(t,e)=>Mo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pc={current:void 0},J_=Z_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Pc.current){const t=new LP({});t.mount(window),t.setOptions({layoutScroll:!0}),Pc.current=t}return Pc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NP={pan:{Feature:rP},drag:{Feature:tP,ProjectionNode:J_,MeasureLayout:$_}};function Ry(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&pe.postRender(()=>s(e,Yo(e)))}class UP extends En{mount(){const{current:e}=this.node;e&&(this.unmount=hC(e,(r,n)=>(Ry(this.node,n,"Start"),i=>Ry(this.node,i,"End"))))}unmount(){}}class VP extends En{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$o(Mo(this.node.current,"focus",()=>this.onFocus()),Mo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function My(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&pe.postRender(()=>s(e,Yo(e)))}class GP extends En{mount(){const{current:e}=this.node;e&&(this.unmount=mC(e,(r,n)=>(My(this.node,n,"Start"),(i,{success:s})=>My(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ff=new WeakMap,Ic=new WeakMap,zP=t=>{const e=Ff.get(t.target);e&&e(t)},jP=t=>{t.forEach(zP)};function HP({root:t,...e}){const r=t||document;Ic.has(r)||Ic.set(r,{});const n=Ic.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(jP,{root:t,...e})),n[i]}function $P(t,e,r){const n=HP(e);return Ff.set(t,r),n.observe(t),()=>{Ff.delete(t),n.unobserve(t)}}const WP={some:0,all:1};class XP extends En{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:WP[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return $P(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(YP(e,r))&&this.startObserver()}unmount(){}}function YP({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const KP={inView:{Feature:XP},tap:{Feature:GP},focus:{Feature:VP},hover:{Feature:UP}},qP={layout:{ProjectionNode:J_,MeasureLayout:$_}},ZP={...F2,...KP,...NP,...qP},$l=ZC(ZP,c2);var ew={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dy=tn.createContext&&tn.createContext(ew),QP=["attr","size","title"];function JP(t,e){if(t==null)return{};var r=eI(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eI(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wl.apply(this,arguments)}function ky(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ky(Object(r),!0).forEach(function(n){tI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ky(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tI(t,e,r){return e=rI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rI(t){var e=nI(t,"string");return typeof e=="symbol"?e:e+""}function nI(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tw(t){return t&&t.map((e,r)=>tn.createElement(e.tag,Xl({key:r},e.attr),tw(e.child)))}function zr(t){return e=>tn.createElement(iI,Wl({attr:Xl({},t.attr)},e),tw(t.child))}function iI(t){var e=r=>{var{attr:n,size:i,title:s}=t,o=JP(t,QP),a=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),tn.createElement("svg",Wl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:Xl(Xl({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&tn.createElement("title",null,s),t.children)};return Dy!==void 0?tn.createElement(Dy.Consumer,null,r=>e(r)):e(ew)}function sI(t){return zr({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function oI(t){return zr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function aI(t){return zr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function lI(t){return zr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z"},child:[]}]})(t)}function uI(t){return zr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"},child:[]}]})(t)}function cI(t){return zr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(t)}function hI(t){return zr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M498.11,206.4,445.31,14.72,248.2,66.08,219,116.14l-59.2-.43L15.54,256,159.82,396.32l59.17-.43,29.24,50,197.08,51.36,52.8-191.62-30-49.63ZM223.77,124.2,374.55,86.51,288,232.33H114.87Zm0,263.63L114.87,279.71H288l86.55,145.81Zm193,14L330.17,256l86.58-145.84L458.56,256Z"},child:[]}]})(t)}function fI(t){return zr({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.5921 9.1962s-.354-3.298-3.627-3.39c-3.2741-.09-4.9552 2.474-4.9552 6.14 0 3.6651 1.858 6.5972 5.0451 6.5972 3.184 0 3.5381-3.665 3.5381-3.665l6.1041.365s.36 3.31-2.196 5.836c-2.552 2.5241-5.6901 2.9371-7.8762 2.9201-2.19-.017-5.2261.034-8.1602-2.97-2.938-3.0101-3.436-5.9302-3.436-8.8002 0-2.8701.556-6.6702 4.047-9.5502C7.444.72 9.849 0 12.254 0c10.0422 0 10.7172 9.2602 10.7172 9.2602z"},child:[]}]})(t)}function dI(t){return zr({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.394 6c-.167-.29-.398-.543-.652-.69L12.926.22c-.509-.294-1.34-.294-1.848 0L2.26 5.31c-.508.293-.923 1.013-.923 1.6v10.18c0 .294.104.62.271.91.167.29.398.543.652.69l8.816 5.09c.508.293 1.34.293 1.848 0l8.816-5.09c.254-.147.485-.4.652-.69.167-.29.27-.616.27-.91V6.91c.003-.294-.1-.62-.268-.91zM12 19.11c-3.92 0-7.109-3.19-7.109-7.11 0-3.92 3.19-7.11 7.11-7.11a7.133 7.133 0 016.156 3.553l-3.076 1.78a3.567 3.567 0 00-3.08-1.78A3.56 3.56 0 008.444 12 3.56 3.56 0 0012 15.555a3.57 3.57 0 003.08-1.778l3.078 1.78A7.135 7.135 0 0112 19.11zm7.11-6.715h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79zm2.962 0h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79z"},child:[]}]})(t)}function Iu({children:t}){const e=$.useRef(null),[r,n]=$.useState(!1);return $.useEffect(()=>{const i=new IntersectionObserver(([s])=>n(s.isIntersecting),{threshold:.2});return e.current&&i.observe(e.current),()=>e.current&&i.unobserve(e.current)},[]),z.jsx($l.div,{ref:e,initial:{opacity:0,y:50},animate:r?{opacity:1,y:0}:{},transition:{duration:.8,ease:"easeOut"},children:t})}function pI(){const t=["About","Projects","Skills","Contact"];return z.jsx("nav",{className:"fixed top-0 left-0 w-full bg-/80 backdrop-blur z-50 flex justify-center gap-8 py-4 text-lg",children:t.map(e=>z.jsx("a",{href:`#${e.toLowerCase()}`,className:"hover:text-purple-400 transition-colors",children:e},e))})}function mI(){return z.jsx("section",{id:"about",className:"h-screen flex flex-col justify-center items-center px-6",children:z.jsx(Iu,{children:z.jsxs("div",{className:"flex flex-col items-center text-center bg-black/50 backdrop-blur-md p-8 rounded-xl",children:[z.jsx("h1",{className:"text-6xl font-bold mb-4",children:"I am Ibrahim"}),z.jsx("p",{className:"max-w-lg text-gray-300 text-lg",children:"Engineering Student | Developer | Musician"})]})})})}function gI({repos:t,loading:e,error:r}){return z.jsx("section",{id:"projects",className:"min-h-screen flex flex-col justify-center items-center px-6 py-20",children:z.jsx(Iu,{children:z.jsxs("div",{className:"bg-black/50 backdrop-blur-md p-8 rounded-xl",children:[z.jsx("h1",{className:"text-4xl font-bold mb-10 text-center",children:"Top Starred Projects"}),e?z.jsx("p",{className:"text-gray-400",children:"Loading projects..."}):r?z.jsx("p",{className:"text-red-400",children:"Failed to load projects. Please try again later."}):t.length===0?z.jsx("p",{className:"text-gray-400",children:"No projects found."}):z.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 w-full max-w-6xl",children:t.map(n=>z.jsxs("a",{href:n.html_url,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-900 rounded-lg overflow-hidden shadow-lg hover:shadow-purple-500/50 transition-shadow group",children:[z.jsx("img",{src:n.preview_image||"https://static.vecteezy.com/system/resources/previews/005/746/378/non_2x/digital-project-management-gradient-icon-for-dark-theme-organising-resources-managing-online-projects-thin-line-color-symbol-modern-style-pictogram-isolated-outline-drawing-vector.jpg",alt:n.name,className:"w-full h-48 object-cover filter grayscale group-hover:grayscale-0 transition"}),z.jsxs("div",{className:"p-4",children:[z.jsxs("h2",{className:"text-purple-300 group-hover:text-purple-400 font-semibold text-lg",children:[n.name,"  ",n.stargazers_count]}),z.jsx("p",{className:"text-gray-400 text-sm mt-2",children:n.description||"No description available."})]})]},n.id))})]})})})}function yI(){const t=[{icon:z.jsx(hI,{}),name:"Unity"},{icon:z.jsx(dI,{}),name:"C++"},{icon:z.jsx(uI,{}),name:"Python"},{icon:z.jsx(fI,{}),name:"C"},{icon:z.jsx(cI,{}),name:"React"},{icon:z.jsx(lI,{}),name:"Node.js"}];return z.jsx("section",{id:"skills",className:"min-h-screen flex flex-col justify-center items-center px-6 py-20",children:z.jsx(Iu,{children:z.jsxs("div",{className:"bg-black/50 backdrop-blur-md p-8 rounded-xl",children:[z.jsx("h1",{className:"text-4xl font-bold mb-10 text-center",children:"Skills"}),z.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-8 text-6xl place-items-center",children:t.map(({icon:e,name:r},n)=>z.jsx($l.div,{whileHover:{scale:1.2,rotate:5},transition:{type:"spring",stiffness:200},title:r,className:"text-white-300 hover:text-white-400 cursor-pointer",children:e},n))})]})})})}function vI(){const t=[{icon:z.jsx(sI,{}),url:"https://github.com/c137v8"},{icon:z.jsx(aI,{}),url:"https://linkedin.com/in/cv8"},{icon:z.jsx(oI,{}),url:"https://instagram.com/raidmaar"}];return z.jsx("section",{id:"contact",className:"h-screen flex flex-col justify-center items-center px-6",children:z.jsx(Iu,{children:z.jsxs("div",{className:"bg-black/50 backdrop-blur-md p-8 rounded-xl",children:[z.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Contact"}),z.jsx("div",{className:"flex gap-6 text-3xl",children:t.map(({icon:e,url:r},n)=>z.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-white-300 hover:text-white-400 transition-colors",children:e},n))})]})})})}function xI(){const[t,e]=$.useState([]),[r,n]=$.useState(!0),[i,s]=$.useState(!1);return $.useEffect(()=>{async function o(){try{n(!0);const a=await fetch("https://api.github.com/users/c137v8/repos?sort=stars&per_page=6");if(!a.ok)throw new Error("GitHub API error");const l=await a.json(),u=await Promise.all(l.map(async c=>{try{const h=await fetch(`https://api.github.com/repos/${c.owner.login}/${c.name}/contents/`);if(!h.ok)throw new Error;const d=(await h.json()).find(p=>p.type==="file"&&/\.(png|jpg|jpeg|gif|webp)$/i.test(p.name));return{...c,preview_image:d?d.download_url:null}}catch{return{...c,preview_image:null}}}));e(u),s(!1)}catch{s(!0)}finally{n(!1)}}o()},[]),z.jsxs("div",{className:"relative bg-black text-white font-sans scroll-smooth",children:[z.jsx("div",{className:"fixed inset-0 bg-cover bg-center blur-lg opacity-30 -z-500",style:{backgroundImage:"url('https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/bb981944-ae42-4e55-9f97-03c790303beb/dk4xst9-ae4e8a22-2b99-425b-8d3a-edfaf8490a49.png/v1/fill/w_1182,h_676,q_70,strp/trickling_esoterica_by_paigecompositor_dk4xst9-pre.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9NzMyIiwicGF0aCI6IlwvZlwvYmI5ODE5NDQtYWU0Mi00ZTU1LTlmOTctMDNjNzkwMzAzYmViXC9kazR4c3Q5LWFlNGU4YTIyLTJiOTktNDI1Yi04ZDNhLWVkZmFmODQ5MGE0OS5wbmciLCJ3aWR0aCI6Ijw9MTI4MCJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.Yb6Au-EE-d_VPNGS2SuVLAnhXZEwdCwO-H16nIXdky8')"}}),z.jsx(pI,{}),z.jsx(mI,{}),z.jsx(gI,{repos:t,loading:r,error:i}),z.jsx(yI,{}),z.jsx(vI,{})]})}var si=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(si||{}),rw=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(rw||{}),Of=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Of||{}),K=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(K||{}),pr=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(pr||{}),B=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(B||{}),Hi=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Hi||{}),Y=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Y||{}),Lf=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Lf||{}),Mr=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Mr||{}),hn=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(hn||{}),Tr=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Tr||{}),nr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(nr||{}),hr=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(hr||{}),Wp=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Wp||{}),Mt=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Mt||{}),Le=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Le||{}),Pe=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Pe||{}),_r=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(_r||{});const _I={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},U={ADAPTER:_I,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Rc=/iPhone/i,By=/iPod/i,Fy=/iPad/i,Oy=/\biOS-universal(?:.+)Mac\b/i,Mc=/\bAndroid(?:.+)Mobile\b/i,Ly=/Android/i,li=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ea=/Silk/i,Sr=/Windows Phone/i,Ny=/\bWindows(?:.+)ARM\b/i,Uy=/BlackBerry/i,Vy=/BB10/i,Gy=/Opera Mini/i,zy=/\b(CriOS|Chrome)(?:.+)Mobile/i,jy=/Mobile(?:.+)Firefox\b/i,Hy=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function wI(t){return function(e){return e.test(t)}}function TI(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=wI(r),s={apple:{phone:i(Rc)&&!i(Sr),ipod:i(By),tablet:!i(Rc)&&(i(Fy)||Hy(e))&&!i(Sr),universal:i(Oy),device:(i(Rc)||i(By)||i(Fy)||i(Oy)||Hy(e))&&!i(Sr)},amazon:{phone:i(li),tablet:!i(li)&&i(Ea),device:i(li)||i(Ea)},android:{phone:!i(Sr)&&i(li)||!i(Sr)&&i(Mc),tablet:!i(Sr)&&!i(li)&&!i(Mc)&&(i(Ea)||i(Ly)),device:!i(Sr)&&(i(li)||i(Ea)||i(Mc)||i(Ly))||i(/\bokhttp\b/i)},windows:{phone:i(Sr),tablet:i(Ny),device:i(Sr)||i(Ny)},other:{blackberry:i(Uy),blackberry10:i(Vy),opera:i(Gy),firefox:i(jy),chrome:i(zy),device:i(Uy)||i(Vy)||i(Gy)||i(jy)||i(zy)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Dr=TI(globalThis.navigator);U.RETINA_PREFIX=/@([0-9\.]+)x/;U.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var nw={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,h||l,f),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=r?r+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,d=h.length,p=new Array(d);f<d;f++)p[f]=h[f].fn;return p},a.prototype.listenerCount=function(u){var c=r?r+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,f,d,p){var v=r?r+u:u;if(!this._events[v])return!1;var x=this._events[v],g=arguments.length,y,m;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,h),!0;case 4:return x.fn.call(x.context,c,h,f),!0;case 5:return x.fn.call(x.context,c,h,f,d),!0;case 6:return x.fn.call(x.context,c,h,f,d,p),!0}for(m=1,y=new Array(g-1);m<g;m++)y[m-1]=arguments[m];x.fn.apply(x.context,y)}else{var _=x.length,w;for(m=0;m<_;m++)switch(x[m].once&&this.removeListener(u,x[m].fn,void 0,!0),g){case 1:x[m].fn.call(x[m].context);break;case 2:x[m].fn.call(x[m].context,c);break;case 3:x[m].fn.call(x[m].context,c,h);break;case 4:x[m].fn.call(x[m].context,c,h,f);break;default:if(!y)for(w=1,y=new Array(g-1);w<g;w++)y[w-1]=arguments[w];x[m].fn.apply(x[m].context,y)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,f){var d=r?r+u:u;if(!this._events[d])return this;if(!c)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===c&&(!f||p.once)&&(!h||p.context===h)&&o(this,d);else{for(var v=0,x=[],g=p.length;v<g;v++)(p[v].fn!==c||f&&!p[v].once||h&&p[v].context!==h)&&x.push(p[v]);x.length?this._events[d]=x.length===1?x[0]:x:o(this,d)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(nw);var EI=nw.exports;const Ko=xd(EI);var Xp={exports:{}};Xp.exports=Ru;Xp.exports.default=Ru;function Ru(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=iw(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,c,h,f,d;if(n&&(s=PI(t,e,s,r)),t.length>80*r){a=u=t[0],l=c=t[1];for(var p=r;p<i;p+=r)h=t[p],f=t[p+1],h<a&&(a=h),f<l&&(l=f),h>u&&(u=h),f>c&&(c=f);d=Math.max(u-a,c-l),d=d!==0?32767/d:0}return Do(s,o,r,a,l,d,0),o}function iw(t,e,r,n,i){var s,o;if(i===Vf(t,e,r,n)>0)for(s=e;s<r;s+=n)o=$y(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=$y(s,t[s],t[s+1],o);return o&&Mu(o,o.next)&&(Bo(o),o=o.next),o}function Jn(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Mu(r,r.next)||_e(r.prev,r,r.next)===0)){if(Bo(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Do(t,e,r,n,i,s,o){if(t){!o&&s&&kI(t,n,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?AI(t,n,i,s):SI(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),Bo(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=bI(Jn(t),e,r),Do(t,e,r,n,i,s,2)):o===2&&CI(t,e,r,n,i,s):Do(Jn(t),e,r,n,i,s,1);break}}}}function SI(t){var e=t.prev,r=t,n=t.next;if(_e(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,c=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,f=i>s?i>o?i:o:s>o?s:o,d=a>l?a>u?a:u:l>u?l:u,p=n.next;p!==e;){if(p.x>=c&&p.x<=f&&p.y>=h&&p.y<=d&&Bi(i,a,s,l,o,u,p.x,p.y)&&_e(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function AI(t,e,r,n){var i=t.prev,s=t,o=t.next;if(_e(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,c=i.y,h=s.y,f=o.y,d=a<l?a<u?a:u:l<u?l:u,p=c<h?c<f?c:f:h<f?h:f,v=a>l?a>u?a:u:l>u?l:u,x=c>h?c>f?c:f:h>f?h:f,g=Nf(d,p,e,r,n),y=Nf(v,x,e,r,n),m=t.prevZ,_=t.nextZ;m&&m.z>=g&&_&&_.z<=y;){if(m.x>=d&&m.x<=v&&m.y>=p&&m.y<=x&&m!==i&&m!==o&&Bi(a,c,l,h,u,f,m.x,m.y)&&_e(m.prev,m,m.next)>=0||(m=m.prevZ,_.x>=d&&_.x<=v&&_.y>=p&&_.y<=x&&_!==i&&_!==o&&Bi(a,c,l,h,u,f,_.x,_.y)&&_e(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;m&&m.z>=g;){if(m.x>=d&&m.x<=v&&m.y>=p&&m.y<=x&&m!==i&&m!==o&&Bi(a,c,l,h,u,f,m.x,m.y)&&_e(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;_&&_.z<=y;){if(_.x>=d&&_.x<=v&&_.y>=p&&_.y<=x&&_!==i&&_!==o&&Bi(a,c,l,h,u,f,_.x,_.y)&&_e(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function bI(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Mu(i,s)&&sw(i,n,n.next,s)&&ko(i,s)&&ko(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Bo(n),Bo(n.next),n=t=s),n=n.next}while(n!==t);return Jn(n)}function CI(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&OI(o,a)){var l=ow(o,a);o=Jn(o,o.next),l=Jn(l,l.next),Do(o,e,r,n,i,s,0),Do(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function PI(t,e,r,n){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,u=iw(t,a,l,n,!1),u===u.next&&(u.steiner=!0),i.push(FI(u));for(i.sort(II),s=0;s<i.length;s++)r=RI(i[s],r);return r}function II(t,e){return t.x-e.x}function RI(t,e){var r=MI(t,e);if(!r)return e;var n=ow(r,t);return Jn(n,n.next),Jn(r,r.next)}function MI(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,c=o.y,h=1/0,f;r=o;do n>=r.x&&r.x>=u&&n!==r.x&&Bi(i<c?n:s,i,u,c,i<c?s:n,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(n-r.x),ko(r,t)&&(f<h||f===h&&(r.x>o.x||r.x===o.x&&DI(o,r)))&&(o=r,h=f)),r=r.next;while(r!==l);return o}function DI(t,e){return _e(t.prev,t,e.prev)<0&&_e(e.next,t,t.next)<0}function kI(t,e,r,n){var i=t;do i.z===0&&(i.z=Nf(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,BI(i)}function BI(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ,!!n);e++);for(l=u;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1);return t}function Nf(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function FI(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Bi(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function OI(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!LI(t,e)&&(ko(t,e)&&ko(e,t)&&NI(t,e)&&(_e(t.prev,t,e.prev)||_e(t,e.prev,e))||Mu(t,e)&&_e(t.prev,t,t.next)>0&&_e(e.prev,e,e.next)>0)}function _e(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Mu(t,e){return t.x===e.x&&t.y===e.y}function sw(t,e,r,n){var i=Aa(_e(t,e,r)),s=Aa(_e(t,e,n)),o=Aa(_e(r,n,t)),a=Aa(_e(r,n,e));return!!(i!==s&&o!==a||i===0&&Sa(t,r,e)||s===0&&Sa(t,n,e)||o===0&&Sa(r,t,n)||a===0&&Sa(r,e,n))}function Sa(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Aa(t){return t>0?1:t<0?-1:0}function LI(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&sw(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function ko(t,e){return _e(t.prev,t,t.next)<0?_e(t,e,t.next)>=0&&_e(t,t.prev,e)>=0:_e(t,e,t.prev)<0||_e(t,t.next,e)<0}function NI(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function ow(t,e){var r=new Uf(t.i,t.x,t.y),n=new Uf(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function $y(t,e,r,n){var i=new Uf(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Bo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Uf(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ru.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Vf(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,c=a<l-1?e[a+1]*r:t.length;o-=Math.abs(Vf(t,u,c,r))}var h=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function Vf(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Ru.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var UI=Xp.exports;const VI=xd(UI);var Yl={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Yl.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof js=="object"&&js;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,c=26,h=38,f=700,d=72,p=128,v="-",x=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=l-u,w=Math.floor,S=String.fromCharCode,E;function T(A){throw new RangeError(m[A])}function R(A,L){for(var X=A.length,ne=[];X--;)ne[X]=L(A[X]);return ne}function P(A,L){var X=A.split("@"),ne="";X.length>1&&(ne=X[0]+"@",A=X[1]),A=A.replace(y,".");var re=A.split("."),Se=R(re,L).join(".");return ne+Se}function M(A){for(var L=[],X=0,ne=A.length,re,Se;X<ne;)re=A.charCodeAt(X++),re>=55296&&re<=56319&&X<ne?(Se=A.charCodeAt(X++),(Se&64512)==56320?L.push(((re&1023)<<10)+(Se&1023)+65536):(L.push(re),X--)):L.push(re);return L}function F(A){return R(A,function(L){var X="";return L>65535&&(L-=65536,X+=S(L>>>10&1023|55296),L=56320|L&1023),X+=S(L),X}).join("")}function C(A){return A-48<10?A-22:A-65<26?A-65:A-97<26?A-97:l}function b(A,L){return A+22+75*(A<26)-((L!=0)<<5)}function W(A,L,X){var ne=0;for(A=X?w(A/f):A>>1,A+=w(A/L);A>_*c>>1;ne+=l)A=w(A/_);return w(ne+(_+1)*A/(A+h))}function Z(A){var L=[],X=A.length,ne,re=0,Se=p,le=d,ge,Qe,yt,je,fe,De,Fe,ir,sr;for(ge=A.lastIndexOf(v),ge<0&&(ge=0),Qe=0;Qe<ge;++Qe)A.charCodeAt(Qe)>=128&&T("not-basic"),L.push(A.charCodeAt(Qe));for(yt=ge>0?ge+1:0;yt<X;){for(je=re,fe=1,De=l;yt>=X&&T("invalid-input"),Fe=C(A.charCodeAt(yt++)),(Fe>=l||Fe>w((a-re)/fe))&&T("overflow"),re+=Fe*fe,ir=De<=le?u:De>=le+c?c:De-le,!(Fe<ir);De+=l)sr=l-ir,fe>w(a/sr)&&T("overflow"),fe*=sr;ne=L.length+1,le=W(re-je,ne,je==0),w(re/ne)>a-Se&&T("overflow"),Se+=w(re/ne),re%=ne,L.splice(re++,0,Se)}return F(L)}function k(A){var L,X,ne,re,Se,le,ge,Qe,yt,je,fe,De=[],Fe,ir,sr,vs;for(A=M(A),Fe=A.length,L=p,X=0,Se=d,le=0;le<Fe;++le)fe=A[le],fe<128&&De.push(S(fe));for(ne=re=De.length,re&&De.push(v);ne<Fe;){for(ge=a,le=0;le<Fe;++le)fe=A[le],fe>=L&&fe<ge&&(ge=fe);for(ir=ne+1,ge-L>w((a-X)/ir)&&T("overflow"),X+=(ge-L)*ir,L=ge,le=0;le<Fe;++le)if(fe=A[le],fe<L&&++X>a&&T("overflow"),fe==L){for(Qe=X,yt=l;je=yt<=Se?u:yt>=Se+c?c:yt-Se,!(Qe<je);yt+=l)vs=Qe-je,sr=l-je,De.push(S(b(je+vs%sr,0))),Qe=w(vs/sr);De.push(S(b(Qe,0))),Se=W(X,ir,ne==re),X=0,++ne}++X,++L}return De.join("")}function I(A){return P(A,function(L){return x.test(L)?Z(L.slice(4).toLowerCase()):L})}function O(A){return P(A,function(L){return g.test(L)?"xn--"+k(L):L})}if(o={version:"1.4.1",ucs2:{decode:M,encode:F},decode:Z,encode:k,toASCII:O,toUnicode:I},n&&i)if(t.exports==n)i.exports=o;else for(E in o)o.hasOwnProperty(E)&&(n[E]=o[E]);else r.punycode=o})(js)})(Yl,Yl.exports);var GI=Yl.exports,gs=TypeError;const zI={},jI=Object.freeze(Object.defineProperty({__proto__:null,default:zI},Symbol.toStringTag,{value:"Module"})),HI=XT(jI);var Yp=typeof Map=="function"&&Map.prototype,Dc=Object.getOwnPropertyDescriptor&&Yp?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Kl=Yp&&Dc&&typeof Dc.get=="function"?Dc.get:null,Wy=Yp&&Map.prototype.forEach,Kp=typeof Set=="function"&&Set.prototype,kc=Object.getOwnPropertyDescriptor&&Kp?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ql=Kp&&kc&&typeof kc.get=="function"?kc.get:null,Xy=Kp&&Set.prototype.forEach,$I=typeof WeakMap=="function"&&WeakMap.prototype,io=$I?WeakMap.prototype.has:null,WI=typeof WeakSet=="function"&&WeakSet.prototype,so=WI?WeakSet.prototype.has:null,XI=typeof WeakRef=="function"&&WeakRef.prototype,Yy=XI?WeakRef.prototype.deref:null,YI=Boolean.prototype.valueOf,KI=Object.prototype.toString,qI=Function.prototype.toString,ZI=String.prototype.match,qp=String.prototype.slice,Jr=String.prototype.replace,QI=String.prototype.toUpperCase,Ky=String.prototype.toLowerCase,aw=RegExp.prototype.test,qy=Array.prototype.concat,fr=Array.prototype.join,JI=Array.prototype.slice,Zy=Math.floor,Gf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Bc=Object.getOwnPropertySymbols,zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ss=typeof Symbol=="function"&&typeof Symbol.iterator=="object",oo=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ss||!0)?Symbol.toStringTag:null,lw=Object.prototype.propertyIsEnumerable,Qy=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Jy(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||aw.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Zy(-t):Zy(t);if(n!==t){var i=String(n),s=qp.call(e,i.length+1);return Jr.call(i,r,"$&_")+"."+Jr.call(Jr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Jr.call(e,r,"$&_")}var jf=HI,ev=jf.custom,tv=hw(ev)?ev:null,uw={__proto__:null,double:'"',single:"'"},eR={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Du=function t(e,r,n,i){var s=r||{};if(Cr(s,"quoteStyle")&&!Cr(uw,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Cr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Cr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Cr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Cr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return dw(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Jy(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?Jy(e,u):u}var c=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return Hf(e)?"[Array]":"[Object]";var h=vR(s,n);if(typeof i>"u")i=[];else if(fw(i,e)>=0)return"[Circular]";function f(C,b,W){if(b&&(i=JI.call(i),i.push(b)),W){var Z={depth:s.depth};return Cr(s,"quoteStyle")&&(Z.quoteStyle=s.quoteStyle),t(C,Z,n+1,i)}return t(C,s,n+1,i)}if(typeof e=="function"&&!rv(e)){var d=uR(e),p=ba(e,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+fr.call(p,", ")+" }":"")}if(hw(e)){var v=ss?Jr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):zf.call(e);return typeof e=="object"&&!ss?Ps(v):v}if(mR(e)){for(var x="<"+Ky.call(String(e.nodeName)),g=e.attributes||[],y=0;y<g.length;y++)x+=" "+g[y].name+"="+cw(tR(g[y].value),"double",s);return x+=">",e.childNodes&&e.childNodes.length&&(x+="..."),x+="</"+Ky.call(String(e.nodeName))+">",x}if(Hf(e)){if(e.length===0)return"[]";var m=ba(e,f);return h&&!yR(m)?"["+$f(m,h)+"]":"[ "+fr.call(m,", ")+" ]"}if(nR(e)){var _=ba(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!lw.call(e,"cause")?"{ ["+String(e)+"] "+fr.call(qy.call("[cause]: "+f(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+fr.call(_,", ")+" }"}if(typeof e=="object"&&o){if(tv&&typeof e[tv]=="function"&&jf)return jf(e,{depth:c-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(cR(e)){var w=[];return Wy&&Wy.call(e,function(C,b){w.push(f(b,e,!0)+" => "+f(C,e))}),nv("Map",Kl.call(e),w,h)}if(dR(e)){var S=[];return Xy&&Xy.call(e,function(C){S.push(f(C,e))}),nv("Set",ql.call(e),S,h)}if(hR(e))return Fc("WeakMap");if(pR(e))return Fc("WeakSet");if(fR(e))return Fc("WeakRef");if(sR(e))return Ps(f(Number(e)));if(aR(e))return Ps(f(Gf.call(e)));if(oR(e))return Ps(YI.call(e));if(iR(e))return Ps(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof js<"u"&&e===js)return"{ [object globalThis] }";if(!rR(e)&&!rv(e)){var E=ba(e,f),T=Qy?Qy(e)===Object.prototype:e instanceof Object||e.constructor===Object,R=e instanceof Object?"":"null prototype",P=!T&&oo&&Object(e)===e&&oo in e?qp.call(Sn(e),8,-1):R?"Object":"",M=T||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",F=M+(P||R?"["+fr.call(qy.call([],P||[],R||[]),": ")+"] ":"");return E.length===0?F+"{}":h?F+"{"+$f(E,h)+"}":F+"{ "+fr.call(E,", ")+" }"}return String(e)};function cw(t,e,r){var n=r.quoteStyle||e,i=uw[n];return i+t+i}function tR(t){return Jr.call(String(t),/"/g,"&quot;")}function oi(t){return!oo||!(typeof t=="object"&&(oo in t||typeof t[oo]<"u"))}function Hf(t){return Sn(t)==="[object Array]"&&oi(t)}function rR(t){return Sn(t)==="[object Date]"&&oi(t)}function rv(t){return Sn(t)==="[object RegExp]"&&oi(t)}function nR(t){return Sn(t)==="[object Error]"&&oi(t)}function iR(t){return Sn(t)==="[object String]"&&oi(t)}function sR(t){return Sn(t)==="[object Number]"&&oi(t)}function oR(t){return Sn(t)==="[object Boolean]"&&oi(t)}function hw(t){if(ss)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!zf)return!1;try{return zf.call(t),!0}catch{}return!1}function aR(t){if(!t||typeof t!="object"||!Gf)return!1;try{return Gf.call(t),!0}catch{}return!1}var lR=Object.prototype.hasOwnProperty||function(t){return t in this};function Cr(t,e){return lR.call(t,e)}function Sn(t){return KI.call(t)}function uR(t){if(t.name)return t.name;var e=ZI.call(qI.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function fw(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function cR(t){if(!Kl||!t||typeof t!="object")return!1;try{Kl.call(t);try{ql.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function hR(t){if(!io||!t||typeof t!="object")return!1;try{io.call(t,io);try{so.call(t,so)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function fR(t){if(!Yy||!t||typeof t!="object")return!1;try{return Yy.call(t),!0}catch{}return!1}function dR(t){if(!ql||!t||typeof t!="object")return!1;try{ql.call(t);try{Kl.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function pR(t){if(!so||!t||typeof t!="object")return!1;try{so.call(t,so);try{io.call(t,io)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function mR(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function dw(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return dw(qp.call(t,0,e.maxStringLength),e)+n}var i=eR[e.quoteStyle||"single"];i.lastIndex=0;var s=Jr.call(Jr.call(t,i,"\\$1"),/[\x00-\x1f]/g,gR);return cw(s,"single",e)}function gR(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+QI.call(e.toString(16))}function Ps(t){return"Object("+t+")"}function Fc(t){return t+" { ? }"}function nv(t,e,r,n){var i=n?$f(r,n):fr.call(r,", ");return t+" ("+e+") {"+i+"}"}function yR(t){for(var e=0;e<t.length;e++)if(fw(t[e],`
`)>=0)return!1;return!0}function vR(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=fr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:fr.call(Array(e+1),r)}}function $f(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+fr.call(t,","+r)+`
`+e.prev}function ba(t,e){var r=Hf(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Cr(t,i)?e(t[i],t):""}var s=typeof Bc=="function"?Bc(t):[],o;if(ss){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)Cr(t,l)&&(r&&String(Number(l))===l&&l<t.length||ss&&o["$"+l]instanceof Symbol||(aw.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof Bc=="function")for(var u=0;u<s.length;u++)lw.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var xR=Du,_R=gs,ku=function(t,e,r){for(var n=t,i;(i=n.next)!=null;n=i)if(i.key===e)return n.next=i.next,r||(i.next=t.next,t.next=i),i},wR=function(t,e){if(t){var r=ku(t,e);return r&&r.value}},TR=function(t,e,r){var n=ku(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},ER=function(t,e){return t?!!ku(t,e):!1},SR=function(t,e){if(t)return ku(t,e,!0)},AR=function(){var e,r={assert:function(n){if(!r.has(n))throw new _R("Side channel does not contain "+xR(n))},delete:function(n){var i=e&&e.next,s=SR(e,n);return s&&i&&i===s&&(e=void 0),!!s},get:function(n){return wR(e,n)},has:function(n){return ER(e,n)},set:function(n,i){e||(e={next:void 0}),TR(e,n,i)}};return r},pw=Object,bR=Error,CR=EvalError,PR=RangeError,IR=ReferenceError,RR=SyntaxError,MR=URIError,DR=Math.abs,kR=Math.floor,BR=Math.max,FR=Math.min,OR=Math.pow,LR=Math.round,NR=Number.isNaN||function(e){return e!==e},UR=NR,VR=function(e){return UR(e)||e===0?e:e<0?-1:1},GR=Object.getOwnPropertyDescriptor,al=GR;if(al)try{al([],"length")}catch{al=null}var mw=al,ll=Object.defineProperty||!1;if(ll)try{ll({},"a",{value:1})}catch{ll=!1}var zR=ll,Oc,iv;function jR(){return iv||(iv=1,Oc=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),Oc}var Lc,sv;function HR(){if(sv)return Lc;sv=1;var t=typeof Symbol<"u"&&Symbol,e=jR();return Lc=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Lc}var Nc,ov;function gw(){return ov||(ov=1,Nc=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Nc}var Uc,av;function yw(){if(av)return Uc;av=1;var t=pw;return Uc=t.getPrototypeOf||null,Uc}var Vc,lv;function $R(){if(lv)return Vc;lv=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var c=[],h=0;h<l.length;h+=1)c[h]=l[h];for(var f=0;f<u.length;f+=1)c[f+l.length]=u[f];return c},s=function(l,u){for(var c=[],h=u,f=0;h<l.length;h+=1,f+=1)c[f]=l[h];return c},o=function(a,l){for(var u="",c=0;c<a.length;c+=1)u+=a[c],c+1<a.length&&(u+=l);return u};return Vc=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var c=s(arguments,1),h,f=function(){if(this instanceof h){var g=u.apply(this,i(c,arguments));return Object(g)===g?g:this}return u.apply(l,i(c,arguments))},d=r(0,u.length-c.length),p=[],v=0;v<d;v++)p[v]="$"+v;if(h=Function("binder","return function ("+o(p,",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var x=function(){};x.prototype=u.prototype,h.prototype=new x,x.prototype=null}return h},Vc}var Gc,uv;function Bu(){if(uv)return Gc;uv=1;var t=$R();return Gc=Function.prototype.bind||t,Gc}var zc,cv;function Zp(){return cv||(cv=1,zc=Function.prototype.call),zc}var jc,hv;function vw(){return hv||(hv=1,jc=Function.prototype.apply),jc}var WR=typeof Reflect<"u"&&Reflect&&Reflect.apply,XR=Bu(),YR=vw(),KR=Zp(),qR=WR,ZR=qR||XR.call(KR,YR),QR=Bu(),JR=gs,e3=Zp(),t3=ZR,xw=function(e){if(e.length<1||typeof e[0]!="function")throw new JR("a function is required");return t3(QR,e3,e)},Hc,fv;function r3(){if(fv)return Hc;fv=1;var t=xw,e=mw,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Hc=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,Hc}var $c,dv;function n3(){if(dv)return $c;dv=1;var t=gw(),e=yw(),r=r3();return $c=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,$c}var Wc,pv;function i3(){if(pv)return Wc;pv=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Bu();return Wc=r.call(t,e),Wc}var J,s3=pw,o3=bR,a3=CR,l3=PR,u3=IR,os=RR,$i=gs,c3=MR,h3=DR,f3=kR,d3=BR,p3=FR,m3=OR,g3=LR,y3=VR,_w=Function,Xc=function(t){try{return _w('"use strict"; return ('+t+").constructor;")()}catch{}},Fo=mw,v3=zR,Yc=function(){throw new $i},x3=Fo?function(){try{return arguments.callee,Yc}catch{try{return Fo(arguments,"callee").get}catch{return Yc}}}():Yc,ui=HR()(),Ve=n3(),_3=yw(),w3=gw(),ww=vw(),qo=Zp(),di={},T3=typeof Uint8Array>"u"||!Ve?J:Ve(Uint8Array),Wn={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?J:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?J:ArrayBuffer,"%ArrayIteratorPrototype%":ui&&Ve?Ve([][Symbol.iterator]()):J,"%AsyncFromSyncIteratorPrototype%":J,"%AsyncFunction%":di,"%AsyncGenerator%":di,"%AsyncGeneratorFunction%":di,"%AsyncIteratorPrototype%":di,"%Atomics%":typeof Atomics>"u"?J:Atomics,"%BigInt%":typeof BigInt>"u"?J:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?J:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?J:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?J:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o3,"%eval%":eval,"%EvalError%":a3,"%Float16Array%":typeof Float16Array>"u"?J:Float16Array,"%Float32Array%":typeof Float32Array>"u"?J:Float32Array,"%Float64Array%":typeof Float64Array>"u"?J:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?J:FinalizationRegistry,"%Function%":_w,"%GeneratorFunction%":di,"%Int8Array%":typeof Int8Array>"u"?J:Int8Array,"%Int16Array%":typeof Int16Array>"u"?J:Int16Array,"%Int32Array%":typeof Int32Array>"u"?J:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ui&&Ve?Ve(Ve([][Symbol.iterator]())):J,"%JSON%":typeof JSON=="object"?JSON:J,"%Map%":typeof Map>"u"?J:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ui||!Ve?J:Ve(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":s3,"%Object.getOwnPropertyDescriptor%":Fo,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?J:Promise,"%Proxy%":typeof Proxy>"u"?J:Proxy,"%RangeError%":l3,"%ReferenceError%":u3,"%Reflect%":typeof Reflect>"u"?J:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?J:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ui||!Ve?J:Ve(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?J:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ui&&Ve?Ve(""[Symbol.iterator]()):J,"%Symbol%":ui?Symbol:J,"%SyntaxError%":os,"%ThrowTypeError%":x3,"%TypedArray%":T3,"%TypeError%":$i,"%Uint8Array%":typeof Uint8Array>"u"?J:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?J:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?J:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?J:Uint32Array,"%URIError%":c3,"%WeakMap%":typeof WeakMap>"u"?J:WeakMap,"%WeakRef%":typeof WeakRef>"u"?J:WeakRef,"%WeakSet%":typeof WeakSet>"u"?J:WeakSet,"%Function.prototype.call%":qo,"%Function.prototype.apply%":ww,"%Object.defineProperty%":v3,"%Object.getPrototypeOf%":_3,"%Math.abs%":h3,"%Math.floor%":f3,"%Math.max%":d3,"%Math.min%":p3,"%Math.pow%":m3,"%Math.round%":g3,"%Math.sign%":y3,"%Reflect.getPrototypeOf%":w3};if(Ve)try{null.error}catch(t){var E3=Ve(Ve(t));Wn["%Error.prototype%"]=E3}var S3=function t(e){var r;if(e==="%AsyncFunction%")r=Xc("async function () {}");else if(e==="%GeneratorFunction%")r=Xc("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Xc("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ve&&(r=Ve(i.prototype))}return Wn[e]=r,r},mv={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Zo=Bu(),Zl=i3(),A3=Zo.call(qo,Array.prototype.concat),b3=Zo.call(ww,Array.prototype.splice),gv=Zo.call(qo,String.prototype.replace),Ql=Zo.call(qo,String.prototype.slice),C3=Zo.call(qo,RegExp.prototype.exec),P3=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I3=/\\(\\)?/g,R3=function(e){var r=Ql(e,0,1),n=Ql(e,-1);if(r==="%"&&n!=="%")throw new os("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new os("invalid intrinsic syntax, expected opening `%`");var i=[];return gv(e,P3,function(s,o,a,l){i[i.length]=a?gv(l,I3,"$1"):o||s}),i},M3=function(e,r){var n=e,i;if(Zl(mv,n)&&(i=mv[n],n="%"+i[0]+"%"),Zl(Wn,n)){var s=Wn[n];if(s===di&&(s=S3(n)),typeof s>"u"&&!r)throw new $i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new os("intrinsic "+e+" does not exist!")},Qp=function(e,r){if(typeof e!="string"||e.length===0)throw new $i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $i('"allowMissing" argument must be a boolean');if(C3(/^%?[^%]*%?$/,e)===null)throw new os("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=R3(e),i=n.length>0?n[0]:"",s=M3("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],b3(n,A3([0,1],u)));for(var c=1,h=!0;c<n.length;c+=1){var f=n[c],d=Ql(f,0,1),p=Ql(f,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new os("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(l=!0),i+="."+f,o="%"+i+"%",Zl(Wn,o))a=Wn[o];else if(a!=null){if(!(f in a)){if(!r)throw new $i("base intrinsic for "+e+" exists, but the property is not available.");return}if(Fo&&c+1>=n.length){var v=Fo(a,f);h=!!v,h&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[f]}else h=Zl(a,f),a=a[f];h&&!l&&(Wn[o]=a)}}return a},Tw=Qp,Ew=xw,D3=Ew([Tw("%String.prototype.indexOf%")]),Sw=function(e,r){var n=Tw(e,!!r);return typeof n=="function"&&D3(e,".prototype.")>-1?Ew([n]):n},k3=Qp,Qo=Sw,B3=Du,F3=gs,yv=k3("%Map%",!0),O3=Qo("Map.prototype.get",!0),L3=Qo("Map.prototype.set",!0),N3=Qo("Map.prototype.has",!0),U3=Qo("Map.prototype.delete",!0),V3=Qo("Map.prototype.size",!0),Aw=!!yv&&function(){var e,r={assert:function(n){if(!r.has(n))throw new F3("Side channel does not contain "+B3(n))},delete:function(n){if(e){var i=U3(e,n);return V3(e)===0&&(e=void 0),i}return!1},get:function(n){if(e)return O3(e,n)},has:function(n){return e?N3(e,n):!1},set:function(n,i){e||(e=new yv),L3(e,n,i)}};return r},G3=Qp,Fu=Sw,z3=Du,Ca=Aw,j3=gs,ci=G3("%WeakMap%",!0),H3=Fu("WeakMap.prototype.get",!0),$3=Fu("WeakMap.prototype.set",!0),W3=Fu("WeakMap.prototype.has",!0),X3=Fu("WeakMap.prototype.delete",!0),Y3=ci?function(){var e,r,n={assert:function(i){if(!n.has(i))throw new j3("Side channel does not contain "+z3(i))},delete:function(i){if(ci&&i&&(typeof i=="object"||typeof i=="function")){if(e)return X3(e,i)}else if(Ca&&r)return r.delete(i);return!1},get:function(i){return ci&&i&&(typeof i=="object"||typeof i=="function")&&e?H3(e,i):r&&r.get(i)},has:function(i){return ci&&i&&(typeof i=="object"||typeof i=="function")&&e?W3(e,i):!!r&&r.has(i)},set:function(i,s){ci&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new ci),$3(e,i,s)):Ca&&(r||(r=Ca()),r.set(i,s))}};return n}:Ca,K3=gs,q3=Du,Z3=AR,Q3=Aw,J3=Y3,eM=J3||Q3||Z3,tM=function(){var e,r={assert:function(n){if(!r.has(n))throw new K3("Side channel does not contain "+q3(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,i){e||(e=eM()),e.set(n,i)}};return r},rM=String.prototype.replace,nM=/%20/g,Kc={RFC1738:"RFC1738",RFC3986:"RFC3986"},Jp={default:Kc.RFC3986,formatters:{RFC1738:function(t){return rM.call(t,nM,"+")},RFC3986:function(t){return String(t)}},RFC1738:Kc.RFC1738,RFC3986:Kc.RFC3986},iM=Jp,qc=Object.prototype.hasOwnProperty,Fn=Array.isArray,ar=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),sM=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Fn(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},bw=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},oM=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(Fn(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!qc.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Fn(e)&&!Fn(r)&&(i=bw(e,n)),Fn(e)&&Fn(r)?(r.forEach(function(s,o){if(qc.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return qc.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},aM=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},lM=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Zc=1024,uM=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=Zc){for(var u=o.length>=Zc?o.slice(l,l+Zc):o,c=[],h=0;h<u.length;++h){var f=u.charCodeAt(h);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===iM.RFC1738&&(f===40||f===41)){c[c.length]=u.charAt(h);continue}if(f<128){c[c.length]=ar[f];continue}if(f<2048){c[c.length]=ar[192|f>>6]+ar[128|f&63];continue}if(f<55296||f>=57344){c[c.length]=ar[224|f>>12]+ar[128|f>>6&63]+ar[128|f&63];continue}h+=1,f=65536+((f&1023)<<10|u.charCodeAt(h)&1023),c[c.length]=ar[240|f>>18]+ar[128|f>>12&63]+ar[128|f>>6&63]+ar[128|f&63]}a+=c.join("")}return a},cM=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:o,prop:u}),n.push(c))}return sM(r),e},hM=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},fM=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},dM=function(e,r){return[].concat(e,r)},pM=function(e,r){if(Fn(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Cw={arrayToObject:bw,assign:aM,combine:dM,compact:cM,decode:lM,encode:uM,isBuffer:fM,isRegExp:hM,maybeMap:pM,merge:oM},Pw=tM,ul=Cw,ao=Jp,mM=Object.prototype.hasOwnProperty,Iw={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},cr=Array.isArray,gM=Array.prototype.push,Rw=function(t,e){gM.apply(t,cr(e)?e:[e])},yM=Date.prototype.toISOString,vv=ao.default,Oe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ul.encode,encodeValuesOnly:!1,filter:void 0,format:vv,formatter:ao.formatters[vv],indices:!1,serializeDate:function(e){return yM.call(e)},skipNulls:!1,strictNullHandling:!1},vM=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Qc={},xM=function t(e,r,n,i,s,o,a,l,u,c,h,f,d,p,v,x,g,y){for(var m=e,_=y,w=0,S=!1;(_=_.get(Qc))!==void 0&&!S;){var E=_.get(e);if(w+=1,typeof E<"u"){if(E===w)throw new RangeError("Cyclic object value");S=!0}typeof _.get(Qc)>"u"&&(w=0)}if(typeof c=="function"?m=c(r,m):m instanceof Date?m=d(m):n==="comma"&&cr(m)&&(m=ul.maybeMap(m,function(A){return A instanceof Date?d(A):A})),m===null){if(o)return u&&!x?u(r,Oe.encoder,g,"key",p):r;m=""}if(vM(m)||ul.isBuffer(m)){if(u){var T=x?r:u(r,Oe.encoder,g,"key",p);return[v(T)+"="+v(u(m,Oe.encoder,g,"value",p))]}return[v(r)+"="+v(String(m))]}var R=[];if(typeof m>"u")return R;var P;if(n==="comma"&&cr(m))x&&u&&(m=ul.maybeMap(m,u)),P=[{value:m.length>0?m.join(",")||null:void 0}];else if(cr(c))P=c;else{var M=Object.keys(m);P=h?M.sort(h):M}var F=l?String(r).replace(/\./g,"%2E"):String(r),C=i&&cr(m)&&m.length===1?F+"[]":F;if(s&&cr(m)&&m.length===0)return C+"[]";for(var b=0;b<P.length;++b){var W=P[b],Z=typeof W=="object"&&W&&typeof W.value<"u"?W.value:m[W];if(!(a&&Z===null)){var k=f&&l?String(W).replace(/\./g,"%2E"):String(W),I=cr(m)?typeof n=="function"?n(C,k):C:C+(f?"."+k:"["+k+"]");y.set(e,w);var O=Pw();O.set(Qc,y),Rw(R,t(Z,I,n,i,s,o,a,l,n==="comma"&&x&&cr(m)?null:u,c,h,f,d,p,v,x,g,O))}}return R},_M=function(e){if(!e)return Oe;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Oe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ao.default;if(typeof e.format<"u"){if(!mM.call(ao.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ao.formatters[n],s=Oe.filter;(typeof e.filter=="function"||cr(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in Iw?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Oe.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Oe.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Oe.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Oe.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Oe.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Oe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Oe.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Oe.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Oe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Oe.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Oe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Oe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Oe.strictNullHandling}},wM=function(t,e){var r=t,n=_M(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):cr(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=Iw[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=Pw(),c=0;c<i.length;++c){var h=i[c],f=r[h];n.skipNulls&&f===null||Rw(o,xM(f,h,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var d=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},ei=Cw,Wf=Object.prototype.hasOwnProperty,xv=Array.isArray,Ae={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ei.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},TM=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Mw=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},EM="utf8=%26%2310003%3B",SM="utf8=%E2%9C%93",AM=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,r.throwOnLimitExceeded?s+1:s);if(r.throwOnLimitExceeded&&o.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var a=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===SM?u="utf-8":o[l]===EM&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var c=o[l],h=c.indexOf("]="),f=h===-1?c.indexOf("="):h+1,d,p;f===-1?(d=r.decoder(c,Ae.decoder,u,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(c.slice(0,f),Ae.decoder,u,"key"),p=ei.maybeMap(Mw(c.slice(f+1),r,xv(n[d])?n[d].length:0),function(x){return r.decoder(x,Ae.decoder,u,"value")})),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=TM(String(p))),c.indexOf("[]=")>-1&&(p=xv(p)?[p]:p);var v=Wf.call(n,d);v&&r.duplicates==="combine"?n[d]=ei.combine(n[d],p):(!v||r.duplicates==="last")&&(n[d]=p)}return n},bM=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var s=t.slice(0,-1).join("");i=Array.isArray(e)&&e[s]?e[s].length:0}for(var o=n?e:Mw(e,r,i),a=t.length-1;a>=0;--a){var l,u=t[a];if(u==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:ei.combine([],o);else{l=r.plainObjects?{__proto__:null}:{};var c=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,h=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,f=parseInt(h,10);!r.parseArrays&&h===""?l={0:o}:!isNaN(f)&&u!==h&&String(f)===h&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(l=[],l[f]=o):h!=="__proto__"&&(l[h]=o)}o=l}return o},CM=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,c=[];if(u){if(!n.plainObjects&&Wf.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var h=0;n.depth>0&&(l=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&Wf.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+s.slice(l.index)+"]")}return bM(c,r,n,i)}},PM=function(e){if(!e)return Ae;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?Ae.charset:e.charset,n=typeof e.duplicates>"u"?Ae.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ae.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ae.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ae.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ae.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ae.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ae.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ae.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ae.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ae.decoder,delimiter:typeof e.delimiter=="string"||ei.isRegExp(e.delimiter)?e.delimiter:Ae.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ae.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ae.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ae.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ae.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Ae.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ae.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},IM=function(t,e){var r=PM(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?AM(t,r):t,i=r.plainObjects?{__proto__:null}:{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=CM(a,n[a],r,typeof t=="string");i=ei.merge(i,l,r)}return r.allowSparse===!0?i:ei.compact(i)},RM=wM,MM=IM,DM=Jp,kM={formats:DM,parse:MM,stringify:RM},BM=GI;function Jt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var FM=/^([a-z0-9.+-]+:)/i,OM=/:[0-9]*$/,LM=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,NM=["<",">",'"',"`"," ","\r",`
`,"	"],UM=["{","}","|","\\","^","`"].concat(NM),Xf=["'"].concat(UM),_v=["%","/","?",";","#"].concat(Xf),wv=["/","?","#"],VM=255,Tv=/^[+a-z0-9A-Z_-]{0,63}$/,GM=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,zM={javascript:!0,"javascript:":!0},Yf={javascript:!0,"javascript:":!0},Wi={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Kf=kM;function Ou(t,e,r){if(t&&typeof t=="object"&&t instanceof Jt)return t;var n=new Jt;return n.parse(t,e,r),n}Jt.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=LM.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Kf.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=FM.exec(a);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var h=a.substr(0,2)==="//";h&&!(u&&Yf[u])&&(a=a.substr(2),this.slashes=!0)}if(!Yf[u]&&(h||u&&!Wi[u])){for(var f=-1,d=0;d<wv.length;d++){var p=a.indexOf(wv[d]);p!==-1&&(f===-1||p<f)&&(f=p)}var v,x;f===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",f),x!==-1&&(v=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(v)),f=-1;for(var d=0;d<_v.length;d++){var p=a.indexOf(_v[d]);p!==-1&&(f===-1||p<f)&&(f=p)}f===-1&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g)for(var y=this.hostname.split(/\./),d=0,m=y.length;d<m;d++){var _=y[d];if(_&&!_.match(Tv)){for(var w="",S=0,E=_.length;S<E;S++)_.charCodeAt(S)>127?w+="x":w+=_[S];if(!w.match(Tv)){var T=y.slice(0,d),R=y.slice(d+1),P=_.match(GM);P&&(T.push(P[1]),R.unshift(P[2])),R.length&&(a="/"+R.join(".")+a),this.hostname=T.join(".");break}}}this.hostname.length>VM?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=BM.toASCII(this.hostname));var M=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+M,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!zM[c])for(var d=0,m=Xf.length;d<m;d++){var C=Xf[d];if(a.indexOf(C)!==-1){var b=encodeURIComponent(C);b===C&&(b=escape(C)),a=a.split(C).join(b)}}var W=a.indexOf("#");W!==-1&&(this.hash=a.substr(W),a=a.slice(0,W));var Z=a.indexOf("?");if(Z!==-1?(this.search=a.substr(Z),this.query=a.substr(Z+1),e&&(this.query=Kf.parse(this.query)),a=a.slice(0,Z)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Wi[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",k=this.search||"";this.path=M+k}return this.href=this.format(),this};function jM(t){return typeof t=="string"&&(t=Ou(t)),t instanceof Jt?t.format():Jt.prototype.format.call(t)}Jt.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Kf.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Wi[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function HM(t,e){return Ou(t,!1,!0).resolve(e)}Jt.prototype.resolve=function(t){return this.resolveObject(Ou(t,!1,!0)).format()};Jt.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Jt;e.parse(t,!1,!0),t=e}for(var r=new Jt,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return Wi[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Wi[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Yf[t.protocol]){for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),m[0]!==""&&m.unshift(""),m.length<2&&m.unshift(""),r.pathname=m.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",d=r.search||"";r.path=f+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=v||p||r.host&&t.pathname,g=x,y=r.pathname&&r.pathname.split("/")||[],m=t.pathname&&t.pathname.split("/")||[],_=r.protocol&&!Wi[r.protocol];if(_&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(m[0]===""?m[0]=t.host:m.unshift(t.host)),t.host=null),x=x&&(m[0]===""||y[0]==="")),v)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,y=m;else if(m.length)y||(y=[]),y.pop(),y=y.concat(m),r.search=t.search,r.query=t.query;else if(t.search!=null){if(_){r.host=y.shift(),r.hostname=r.host;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=y.slice(-1)[0],E=(r.host||t.host||y.length>1)&&(S==="."||S==="..")||S==="",T=0,R=y.length;R>=0;R--)S=y[R],S==="."?y.splice(R,1):S===".."?(y.splice(R,1),T++):T&&(y.splice(R,1),T--);if(!x&&!g)for(;T--;T)y.unshift("..");x&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),E&&y.join("/").substr(-1)!=="/"&&y.push("");var P=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(_){r.hostname=P?"":y.length?y.shift():"",r.host=r.hostname;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return x=x||r.host&&y.length,x&&!P&&y.unshift(""),y.length>0?r.pathname=y.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Jt.prototype.parseHost=function(){var t=this.host,e=OM.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var $M=Ou,WM=HM,XM=jM;const YM={parse:$M,format:XM,resolve:WM};function Nt(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Is(t){return t.split("?")[0].split("#")[0]}function KM(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function qM(t,e,r){return t.replace(new RegExp(KM(e),"g"),r)}function ZM(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const qe={toPosix(t){return qM(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Nt(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=Is(this.toPosix(e??U.ADAPTER.getBaseUrl())),i=Is(this.toPosix(r??this.rootname(n)));return Nt(t),t=this.toPosix(t),t.startsWith("/")?qe.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),Nt(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=ZM(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Nt(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Nt(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Nt(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Nt(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Nt(t),e&&Nt(e),t=Is(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Nt(t),t=Is(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Nt(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Is(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},Ev={};function oe(t,e,r=3){if(Ev[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),Ev[e]=!0}let Jc;function QM(){return typeof Jc>"u"&&(Jc=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:U.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!U.ADAPTER.getWebGLRenderingContext())return!1;const n=U.ADAPTER.createCanvas();let i=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Jc}var JM="#f0f8ff",eD="#faebd7",tD="#00ffff",rD="#7fffd4",nD="#f0ffff",iD="#f5f5dc",sD="#ffe4c4",oD="#000000",aD="#ffebcd",lD="#0000ff",uD="#8a2be2",cD="#a52a2a",hD="#deb887",fD="#5f9ea0",dD="#7fff00",pD="#d2691e",mD="#ff7f50",gD="#6495ed",yD="#fff8dc",vD="#dc143c",xD="#00ffff",_D="#00008b",wD="#008b8b",TD="#b8860b",ED="#a9a9a9",SD="#006400",AD="#a9a9a9",bD="#bdb76b",CD="#8b008b",PD="#556b2f",ID="#ff8c00",RD="#9932cc",MD="#8b0000",DD="#e9967a",kD="#8fbc8f",BD="#483d8b",FD="#2f4f4f",OD="#2f4f4f",LD="#00ced1",ND="#9400d3",UD="#ff1493",VD="#00bfff",GD="#696969",zD="#696969",jD="#1e90ff",HD="#b22222",$D="#fffaf0",WD="#228b22",XD="#ff00ff",YD="#dcdcdc",KD="#f8f8ff",qD="#daa520",ZD="#ffd700",QD="#808080",JD="#008000",ek="#adff2f",tk="#808080",rk="#f0fff0",nk="#ff69b4",ik="#cd5c5c",sk="#4b0082",ok="#fffff0",ak="#f0e68c",lk="#fff0f5",uk="#e6e6fa",ck="#7cfc00",hk="#fffacd",fk="#add8e6",dk="#f08080",pk="#e0ffff",mk="#fafad2",gk="#d3d3d3",yk="#90ee90",vk="#d3d3d3",xk="#ffb6c1",_k="#ffa07a",wk="#20b2aa",Tk="#87cefa",Ek="#778899",Sk="#778899",Ak="#b0c4de",bk="#ffffe0",Ck="#00ff00",Pk="#32cd32",Ik="#faf0e6",Rk="#ff00ff",Mk="#800000",Dk="#66cdaa",kk="#0000cd",Bk="#ba55d3",Fk="#9370db",Ok="#3cb371",Lk="#7b68ee",Nk="#00fa9a",Uk="#48d1cc",Vk="#c71585",Gk="#191970",zk="#f5fffa",jk="#ffe4e1",Hk="#ffe4b5",$k="#ffdead",Wk="#000080",Xk="#fdf5e6",Yk="#808000",Kk="#6b8e23",qk="#ffa500",Zk="#ff4500",Qk="#da70d6",Jk="#eee8aa",e4="#98fb98",t4="#afeeee",r4="#db7093",n4="#ffefd5",i4="#ffdab9",s4="#cd853f",o4="#ffc0cb",a4="#dda0dd",l4="#b0e0e6",u4="#800080",c4="#663399",h4="#ff0000",f4="#bc8f8f",d4="#4169e1",p4="#8b4513",m4="#fa8072",g4="#f4a460",y4="#2e8b57",v4="#fff5ee",x4="#a0522d",_4="#c0c0c0",w4="#87ceeb",T4="#6a5acd",E4="#708090",S4="#708090",A4="#fffafa",b4="#00ff7f",C4="#4682b4",P4="#d2b48c",I4="#008080",R4="#d8bfd8",M4="#ff6347",D4="#40e0d0",k4="#ee82ee",B4="#f5deb3",F4="#ffffff",O4="#f5f5f5",L4="#ffff00",N4="#9acd32",U4={aliceblue:JM,antiquewhite:eD,aqua:tD,aquamarine:rD,azure:nD,beige:iD,bisque:sD,black:oD,blanchedalmond:aD,blue:lD,blueviolet:uD,brown:cD,burlywood:hD,cadetblue:fD,chartreuse:dD,chocolate:pD,coral:mD,cornflowerblue:gD,cornsilk:yD,crimson:vD,cyan:xD,darkblue:_D,darkcyan:wD,darkgoldenrod:TD,darkgray:ED,darkgreen:SD,darkgrey:AD,darkkhaki:bD,darkmagenta:CD,darkolivegreen:PD,darkorange:ID,darkorchid:RD,darkred:MD,darksalmon:DD,darkseagreen:kD,darkslateblue:BD,darkslategray:FD,darkslategrey:OD,darkturquoise:LD,darkviolet:ND,deeppink:UD,deepskyblue:VD,dimgray:GD,dimgrey:zD,dodgerblue:jD,firebrick:HD,floralwhite:$D,forestgreen:WD,fuchsia:XD,gainsboro:YD,ghostwhite:KD,goldenrod:qD,gold:ZD,gray:QD,green:JD,greenyellow:ek,grey:tk,honeydew:rk,hotpink:nk,indianred:ik,indigo:sk,ivory:ok,khaki:ak,lavenderblush:lk,lavender:uk,lawngreen:ck,lemonchiffon:hk,lightblue:fk,lightcoral:dk,lightcyan:pk,lightgoldenrodyellow:mk,lightgray:gk,lightgreen:yk,lightgrey:vk,lightpink:xk,lightsalmon:_k,lightseagreen:wk,lightskyblue:Tk,lightslategray:Ek,lightslategrey:Sk,lightsteelblue:Ak,lightyellow:bk,lime:Ck,limegreen:Pk,linen:Ik,magenta:Rk,maroon:Mk,mediumaquamarine:Dk,mediumblue:kk,mediumorchid:Bk,mediumpurple:Fk,mediumseagreen:Ok,mediumslateblue:Lk,mediumspringgreen:Nk,mediumturquoise:Uk,mediumvioletred:Vk,midnightblue:Gk,mintcream:zk,mistyrose:jk,moccasin:Hk,navajowhite:$k,navy:Wk,oldlace:Xk,olive:Yk,olivedrab:Kk,orange:qk,orangered:Zk,orchid:Qk,palegoldenrod:Jk,palegreen:e4,paleturquoise:t4,palevioletred:r4,papayawhip:n4,peachpuff:i4,peru:s4,pink:o4,plum:a4,powderblue:l4,purple:u4,rebeccapurple:c4,red:h4,rosybrown:f4,royalblue:d4,saddlebrown:p4,salmon:m4,sandybrown:g4,seagreen:y4,seashell:v4,sienna:x4,silver:_4,skyblue:w4,slateblue:T4,slategray:E4,slategrey:S4,snow:A4,springgreen:b4,steelblue:C4,tan:P4,teal:I4,thistle:R4,tomato:M4,turquoise:D4,violet:k4,wheat:B4,white:F4,whitesmoke:O4,yellow:L4,yellowgreen:N4};function Oo(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function Dw(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function em(t){if(typeof t=="string"&&(t=U4[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,r,n]=t;t=e+e+r+r+n+n}return parseInt(t,16)}function V4(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[K.NORMAL_NPM]=K.NORMAL,t[K.ADD_NPM]=K.ADD,t[K.SCREEN_NPM]=K.SCREEN,e[K.NORMAL]=K.NORMAL_NPM,e[K.ADD]=K.ADD_NPM,e[K.SCREEN]=K.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const kw=V4();function Bw(t,e){return kw[e?1:0][t]}function G4(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function tm(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function Fw(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function z4(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Ow(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Jl(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Sv(t){return!(t&t-1)&&!!t}function Av(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Xi(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Fi(t){return t===0?0:t<0?-1:1}let j4=0;function ti(){return++j4}const Lw=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let qf=Lw;qf.EMPTY=new Lw(0,0,0,0);const bv={},lr=Object.create(null),$r=Object.create(null);class Cv{constructor(e,r,n){this._canvas=U.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||U.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Pv(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function Iv(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function H4(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,a=0,l=e-1,u=r-1;for(;a<r&&Pv(s,e,a);)++a;if(a===r)return qf.EMPTY;for(;Pv(s,e,u);)--u;for(;Iv(s,e,o,a,u);)++o;for(;Iv(s,e,l,a,u);)--l;return++l,++u,new qf(o,a,l,u)}function $4(t){const e=H4(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let Pa;function W4(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Pa||(Pa=document.createElement("a")),Pa.href=t;const r=YM.parse(Pa.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function gn(t,e=1){var n;const r=(n=U.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var N=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(N||{});const Zf=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Rv=(t,e)=>Zf(t).priority??e,H={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Zf).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Zf).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>Rv(s,r)-Rv(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Qf{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const X4=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Y4(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function K4(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=X4.replace(/%forloop%/gi,Y4(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const eh=0,th=1,rh=2,nh=3,ih=4,sh=5;class jr{constructor(){this.data=0,this.blendMode=K.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<eh)}set blend(e){!!(this.data&1<<eh)!==e&&(this.data^=1<<eh)}get offsets(){return!!(this.data&1<<th)}set offsets(e){!!(this.data&1<<th)!==e&&(this.data^=1<<th)}get culling(){return!!(this.data&1<<rh)}set culling(e){!!(this.data&1<<rh)!==e&&(this.data^=1<<rh)}get depthTest(){return!!(this.data&1<<nh)}set depthTest(e){!!(this.data&1<<nh)!==e&&(this.data^=1<<nh)}get depthMask(){return!!(this.data&1<<sh)}set depthMask(e){!!(this.data&1<<sh)!==e&&(this.data^=1<<sh)}get clockwiseFrontFace(){return!!(this.data&1<<ih)}set clockwiseFrontFace(e){!!(this.data&1<<ih)!==e&&(this.data^=1<<ih)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==K.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixijs/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new jr;return e.depthTest=!1,e.blend=!0,e}}const Jf=[];function Nw(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Jf.length-1;n>=0;--n){const i=Jf[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class er{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let h=0,f=c.length;h<f;h++)c[h][u](e,r,n,i,s,o,a,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(er.prototype,{dispatch:{value:er.prototype.emit},run:{value:er.prototype.emit}});class Lo{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new er("setRealSize"),this.onUpdate=new er("update"),this.onError=new er("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Jo extends Lo{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===nr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const q4={scaleMode:Mr.NEAREST,format:B.RGBA,alphaMode:nr.NPM},pi=class extends Ko{constructor(t=null,e=null){super(),e=Object.assign({},pi.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:c,target:h,resolution:f,resourceOptions:d}=e;t&&!(t instanceof Lo)&&(t=Nw(t,d),t.internal=!0),this.resolution=f||U.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=c,this.target=h,this.alphaMode=r,this.uid=ti(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Sv(this.realWidth)&&Sv(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete $r[this.cacheId],delete lr[this.cacheId],this.cacheId=null),this.dispose(),pi.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=U.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${ti()}`}i=t._pixiId}let s=$r[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new pi(t,e),s.cacheId=i,pi.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new Jo(t,{width:e,height:r}),s=t instanceof Float32Array?Y.FLOAT:Y.UNSIGNED_BYTE;return new pi(i,Object.assign({},q4,n||{width:e,height:r,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),$r[e]&&$r[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),$r[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=$r[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete $r[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete $r[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let Q=pi;Q.defaultOptions={mipmap:Tr.POW2,anisotropicLevel:0,scaleMode:Mr.LINEAR,wrapMode:hn.CLAMP,alphaMode:nr.UNPACK,target:Hi.TEXTURE_2D,format:B.RGBA,type:Y.UNSIGNED_BYTE};Q._globalBatch=0;class ed{constructor(){this.texArray=null,this.blend=0,this.type=pr.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Z4=0;class Re{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Z4++,this.disposeRunner=new er("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?_r.ELEMENT_ARRAY_BUFFER:_r.ARRAY_BUFFER}get index(){return this.type===_r.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Re(e)}}class eu{constructor(e,r=0,n=!1,i=Y.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,n,i,s){return new eu(e,r,n,i,s)}}const Q4={Float32Array,Uint32Array,Int32Array,Uint8Array};function J4(t,e){let r=0,n=0;const i={};for(let l=0;l<t.length;l++)n+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=Ow(c);i[h]||(i[h]=new Q4[h](s)),o=i[h];for(let f=0;f<c.length;f++){const d=(f/u|0)*n+a,p=f%u;o[d+p]=c[f]}a+=u}return new Float32Array(s)}const Mv={5126:4,5123:2,5121:1};let eB=0;const tB={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class yn{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=eB++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new er("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Re||(r instanceof Array&&(r=new Float32Array(r)),r=new Re(r));const u=e.split("|");if(u.length>1){for(let h=0;h<u.length;h++)this.addAttribute(u[h],r,n,i,s);return this}let c=this.buffers.indexOf(r);return c===-1&&(this.buffers.push(r),c=this.buffers.length-1),this.attributes[e]=new eu(c,n,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Re||(e instanceof Array&&(e=new Uint16Array(e)),e=new Re(e)),e.type=_r.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Re;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*Mv[s.type]/4),s.buffer=0}for(n.data=J4(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new yn;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Re(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new eu(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=_r.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new yn,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new tB[Ow(o.buffers[a].data)](i[a]),r.buffers[a]=new Re(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=_r.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,c=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){c=h;break}for(const h in o.attributes){const f=o.attributes[h];(f.buffer|0)===c&&(l+=f.size*Mv[f.type]/4)}for(let h=0;h<e.length;h++){const f=e[h].indexBuffer.data;for(let d=0;d<f.length;d++)r.indexBuffer.data[d+u]+=a;a+=e[h].buffers[c].data.length/l,u+=f.length}}return r}}class Uw extends yn{constructor(e=!1){super(),this._buffer=new Re(null,e,!1),this._indexBuffer=new Re(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Y.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Y.FLOAT).addAttribute("aColor",this._buffer,4,!0,Y.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Y.FLOAT).addIndex(this._indexBuffer)}}const tu=Math.PI*2,rB=180/Math.PI,nB=Math.PI/180;var Xe=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Xe||{});class se{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new se(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[pixijs/math:Point x=${this.x} y=${this.y}]`}}const Ia=[new se,new se,new se,new se];class te{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Xe.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new te(0,0,0,0)}clone(){return new te(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const T=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=T)return!1;const P=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>P}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=Ia[0].set(e.left,e.top),l=Ia[1].set(e.left,e.bottom),u=Ia[2].set(e.right,e.top),c=Ia[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(r.a*r.d-r.b*r.c);if(h===0||(r.apply(a,a),r.apply(l,l),r.apply(u,u),r.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=n||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const f=h*(l.y-a.y),d=h*(a.x-l.x),p=f*n+d*s,v=f*i+d*s,x=f*n+d*o,g=f*i+d*o;if(Math.max(p,v,x,g)<=f*a.x+d*a.y||Math.min(p,v,x,g)>=f*c.x+d*c.y)return!1;const y=h*(a.y-u.y),m=h*(u.x-a.x),_=y*n+m*s,w=y*i+m*s,S=y*n+m*o,E=y*i+m*o;return!(Math.max(_,w,S,E)<=y*a.x+m*a.y||Math.min(_,w,S,E)>=y*c.x+m*c.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[pixijs/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class rm{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Xe.CIRC}clone(){return new rm(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new te(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[pixijs/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class nm{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Xe.ELIP}clone(){return new nm(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new te(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[pixijs/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Yi{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Xe.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Yi(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>r!=c>r&&e<(u-a)*((r-l)/(c-l))+a&&(n=!n)}return n}toString(){return`[pixijs/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class im{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Xe.RREC}clone(){return new im(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[pixijs/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class me{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new se;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new se;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),u=Math.abs(a+l);return u<1e-5||Math.abs(tu-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new me;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[pixijs/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new me}static get TEMP_MATRIX(){return new me}}const Mn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Dn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],kn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Bn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],td=[],Vw=[],Ra=Math.sign;function iB(){for(let t=0;t<16;t++){const e=[];td.push(e);for(let r=0;r<16;r++){const n=Ra(Mn[t]*Mn[r]+kn[t]*Dn[r]),i=Ra(Dn[t]*Mn[r]+Bn[t]*Dn[r]),s=Ra(Mn[t]*kn[r]+kn[t]*Bn[r]),o=Ra(Dn[t]*kn[r]+Bn[t]*Bn[r]);for(let a=0;a<16;a++)if(Mn[a]===n&&Dn[a]===i&&kn[a]===s&&Bn[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new me;e.set(Mn[t],Dn[t],kn[t],Bn[t],0,0),Vw.push(e)}}iB();const ye={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Mn[t],uY:t=>Dn[t],vX:t=>kn[t],vY:t=>Bn[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>td[t][e],sub:(t,e)=>td[t][ye.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ye.S:ye.N:Math.abs(e)*2<=Math.abs(t)?t>0?ye.E:ye.W:e>0?t>0?ye.SE:ye.SW:t>0?ye.NE:ye.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=Vw[ye.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class en{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new en(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixijs/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const Gw=class{constructor(){this.worldTransform=new me,this.localTransform=new me,this.position=new en(this.onChange,this,0,0),this.scale=new en(this.onChange,this,1,1),this.pivot=new en(this.onChange,this,0,0),this.skew=new en(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[pixijs/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let sm=Gw;sm.IDENTITY=new Gw;var sB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,oB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Dv(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function oh(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function zw(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return oh(2*e);case"bvec3":return oh(3*e);case"bvec4":return oh(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Ki=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],aB={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},lB={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function uB(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<Ki.length;l++)if(Ki[l].test(s,o)){r.push(Ki[l].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?aB:lB)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const jw={};let hi=jw;function cB(){if(hi===jw||hi!=null&&hi.isContextLost()){const t=U.ADAPTER.createCanvas();let e;U.PREFER_ENV>=si.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),hi=e}return hi}let Ma;function hB(){if(!Ma){Ma=Mt.MEDIUM;const t=cB();t&&t.getShaderPrecisionFormat&&(Ma=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Mt.HIGH:Mt.MEDIUM)}return Ma}function kv(t,e){const r=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function fB(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||kv(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||kv(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const dB={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Hw(t){return dB[t]}let Da=null;const Bv={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function $w(t,e){if(!Da){const r=Object.keys(Bv);Da={};for(let n=0;n<r.length;++n){const i=r[n];Da[t[i]]=Bv[i]}}return Da[e]}function Fv(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Mt.HIGH&&r!==Mt.HIGH&&(n=Mt.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Mt.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Rs;function pB(){if(typeof Rs=="boolean")return Rs;try{Rs=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Rs=!1}return Rs}let mB=0;const ka={},mi=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=mB++,this.vertexSrc=t||mi.defaultVertexSrc,this.fragmentSrc=e||mi.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),ka[r]?(ka[r]++,r+=`-${ka[r]}`):ka[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=Fv(this.vertexSrc,mi.defaultVertexPrecision,Mt.HIGH),this.fragmentSrc=Fv(this.fragmentSrc,mi.defaultFragmentPrecision,hB())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return oB}static get defaultFragmentSrc(){return sB}static from(t,e,r){const n=t+e;let i=bv[n];return i||(bv[n]=i=new mi(t,e,r)),i}};let qt=mi;qt.defaultVertexPrecision=Mt.HIGH;qt.defaultFragmentPrecision=Dr.apple.device?Mt.HIGH:Mt.MEDIUM;let gB=0;class tr{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=gB++,this.static=!!r,this.ubo=!!n,e instanceof Re?(this.buffer=e,this.buffer.type=_r.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Re(new Float32Array(1)),this.buffer.type=_r.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new tr(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new tr(e,r,n)}static uboFrom(e,r){return new tr(e,r??!0,!0)}}class wr{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof tr?this.uniformGroup=r:this.uniformGroup=new tr(r):this.uniformGroup=new tr({}),this.disposeRunner=new er("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=qt.from(e,r);return new wr(i,n)}}class yB{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=tr.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new qt(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new me,default:this.defaultGroupCache[e]};return new wr(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class rd{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function vB(){return!Dr.apple.device}function xB(t){let e=!0;const r=U.ADAPTER.getNavigator();if(Dr.tablet||Dr.phone){if(Dr.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Dr.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Lu{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var _B=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,wB=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Vt=class extends Lu{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=Uw,this.vertexSize=6,this.state=jr.for2d(),this.size=Vt.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??xB(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??vB(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return oe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return wB}static get defaultFragmentTemplate(){return _B}setShaderGenerator({vertex:t=Vt.defaultVertexSrc,fragment:e=Vt.defaultFragmentTemplate}={}){this.shaderGenerator=new yB(t,e)}contextChange(){const t=this.renderer.gl;U.PREFER_ENV===si.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Vt.defaultMaxTextures),this.maxTextures=K4(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Vt,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new ed);for(;e.length<n;)e.push(new rd);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=Vt._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++Q._globalBatch,a=0,l=r[0],u=0;n.copyBoundTextures(i,e);for(let c=0;c<this._bufferSize;++c){const h=t[c];t[c]=null,h._batchEnabled!==o&&(l.count>=e&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,c),u=c,l=r[++a],++o),h._batchEnabled=o,h.touched=s,l.elements[l.count++]=h)}l.count>0&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let c=0;c<i.length;c++)i[c]=null;Q._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Vt._drawCallPool;let l=this._dcIndex,u=this._aIndex,c=this._iIndex,h=a[l];h.start=this._iIndex,h.texArray=t;for(let f=e;f<r;++f){const d=n[f],p=d._texture.baseTexture,v=kw[p.alphaMode?1:0][d.blendMode];n[f]=null,e<f&&h.blend!==v&&(h.size=c-h.start,e=f,h=a[++l],h.texArray=t,h.start=c),this.packInterleavedGeometry(d,i,s,u,c),u+=d.vertexData.length/2*o,c+=d.indices.length,h.blend=v}e<r&&(h.size=c-h.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=c}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;Vt.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=Vt._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:c}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=c,r.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Vt.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Jl(Math.ceil(t/8)),r=Av(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new Qf(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=Jl(Math.ceil(t/12)),r=Av(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,a=n/this.vertexSize,l=t.uvs,u=t.indices,c=t.vertexData,h=t._texture.baseTexture._batchLocation,f=Math.min(t.worldAlpha,1),d=f<1&&t._texture.baseTexture.alphaMode?tm(t._tintRGB,f):t._tintRGB+(f*255<<24);for(let p=0;p<c.length;p+=2)o[n++]=c[p],o[n++]=c[p+1],o[n++]=l[p],o[n++]=l[p+1],s[n++]=d,o[n++]=h;for(let p=0;p<u.length;p++)r[i++]=a+u[p]}};let Yt=Vt;Yt.defaultBatchSize=4096;Yt.extension={name:"batch",type:N.RendererPlugin};Yt._drawCallPool=[];Yt._textureArrayPool=[];H.add(Yt);var TB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,EB=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Us=class extends wr{constructor(t,e,r){const n=qt.from(t||Us.defaultVertexSrc,e||Us.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=Us.defaultResolution,this.multisample=Us.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new jr}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return EB}static get defaultFragmentSrc(){return TB}};let Ye=Us;Ye.defaultResolution=1;Ye.defaultMultisample=Pe.NONE;class Ww{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?em(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=Dw(e),Oo(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}Ww.extension={type:[N.RendererSystem,N.CanvasRendererSystem],name:"background"};H.add(Ww);class Xw{constructor(e){this.renderer=e,this.emptyRenderer=new Lu(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const c=s[u],h=c._batchLocation;if(h>=0&&h<i&&r[h]===c){o[u]=h;continue}for(;l<i;){const f=r[l];if(f&&f._batchEnabled===n&&f._batchLocation===l){l++;continue}o[u]=l,c._batchLocation=l,r[l]=c;break}}}destroy(){this.renderer=null}}Xw.extension={type:N.RendererSystem,name:"batch"};H.add(Xw);let Ov=0;class Yw{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Ov++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Ov++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(U.PREFER_ENV>=si.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Yw.extension={type:N.RendererSystem,name:"context"};H.add(Yw);class SB extends Jo{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===nr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class nd{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new er("disposeFramebuffer"),this.multisample=Pe.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Q(null,{scaleMode:Mr.NEAREST,resolution:1,mipmap:Tr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Q(new SB(null,{width:this.width,height:this.height}),{scaleMode:Mr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Tr.OFF,format:B.DEPTH_COMPONENT,type:Y.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Kw extends Q{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Pe.NONE),super(null,e),this.mipmap=Tr.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new nd(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class vn extends Lo{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=W4(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===nr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class qw extends vn{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;vn.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??U.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===nr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Zw{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;n=ye.add(n,ye.NW),this.x0=l+o*ye.uX(n),this.y0=u+a*ye.uY(n),n=ye.add(n,2),this.x1=l+o*ye.uX(n),this.y1=u+a*ye.uY(n),n=ye.add(n,2),this.x2=l+o*ye.uX(n),this.y2=u+a*ye.uY(n),n=ye.add(n,2),this.x3=l+o*ye.uX(n),this.y3=u+a*ye.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[pixijs/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const Lv=new Zw;function Ba(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class j extends Ko{constructor(e,r,n,i,s,o){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new te(0,0,1,1)),e instanceof j&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=Lv,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new se(o.x,o.y):new se(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&lr[r.url]&&j.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,j.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new j(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===Lv&&(this._uvs=new Zw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=U.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Q){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${ti()}`,Q.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${ti()}`}s=e._pixiId}let o=lr[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Q)?(r.resolution||(r.resolution=gn(e)),o=new j(new Q(e,r)),o.baseTexture.cacheId=s,Q.addToCache(o.baseTexture,s),j.addToCache(o,s)):!o&&e instanceof Q&&(o=new j(e),j.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=j.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new j(Q.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Q(e,Object.assign({scaleMode:Q.defaultOptions.scaleMode,resolution:gn(r)},i)),{resource:o}=s;o instanceof qw&&(o.url=r);const a=new j(s);return n||(n=r),Q.addToCache(a.baseTexture,n),j.addToCache(a,n),n!==r&&(Q.addToCache(a.baseTexture,r),j.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),lr[r]&&lr[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),lr[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=lr[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete lr[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)lr[e.textureCacheIds[r]]===e&&delete lr[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,c=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return j._EMPTY||(j._EMPTY=new j(new Q),Ba(j._EMPTY),Ba(j._EMPTY.baseTexture)),j._EMPTY}static get WHITE(){if(!j._WHITE){const e=U.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),j._WHITE=new j(Q.from(e)),Ba(j._WHITE),Ba(j._WHITE.baseTexture)}return j._WHITE}}class xn extends j{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new xn(new Kw(e))}}class Qw{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Pe.NONE){const i=new Kw(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new xn(i)}getOptimalTexture(e,r,n=1,i=Pe.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Jl(e),r=Jl(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Pe.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}Qw.SCREEN_KEY=-1;class AB extends yn{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Jw extends yn{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Re(this.vertices),this.uvBuffer=new Re(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class bB{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Pe.NONE,this.sourceFrame=new te,this.destinationFrame=new te,this.bindingSourceFrame=new te,this.bindingDestinationFrame=new te,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Fa=[new se,new se,new se,new se],ah=new me;class eT{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Qw,this.statePool=[],this.quad=new AB,this.quadUv=new Jw,this.tempRect=new te,this.activeState={},this.globalUniforms=new tr({outputFrame:new te,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new bB,o=this.renderer.renderTexture;let a=r[0].resolution,l=r[0].multisample,u=r[0].padding,c=r[0].autoFit,h=r[0].legacy??!0;for(let p=1;p<r.length;p++){const v=r[p];a=Math.min(a,v.resolution),l=Math.min(l,v.multisample),u=this.useMaxPadding?Math.max(u,v.padding):u+v.padding,c=c&&v.autoFit,h=h||(v.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=h,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const f=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(ah.copyFrom(n.projection.transform).invert(),f),c?(s.sourceFrame.fit(f),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(f)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const d=this.tempRect;d.x=0,d.y=0,d.width=s.sourceFrame.width,d.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,d),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,hr.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,r.resolution);c.filterFrame=u.filterFrame;let h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,r.resolution),c.filterFrame=u.filterFrame),n[h].apply(this,u,c,hr.CLEAR,r);const f=u;u=c,c=f}n[h].apply(this,u,l.renderTexture,hr.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=hr.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===hr.CLEAR||r===hr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(pr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(pr.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(me.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Pe.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Pe.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Fa[0],i=Fa[1],s=Fa[2],o=Fa[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.x,i.x,s.x,o.x),c=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=c-l}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?ah.copyFrom(s):ah.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}eT.extension={type:N.RendererSystem,name:"filter"};H.add(eT);class CB{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Pe.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const PB=new te;class tT{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new nd(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new te,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;U.PREFER_ENV===si.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Of.COLOR|Of.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new CB(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+l))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Pe.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Pe.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=i.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new nd(i.width,i.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=PB,r.width=i.width,r.height=i.height),n||(n=r);const u=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new te}destroy(){this.renderer=null}}tT.extension={type:N.RendererSystem,name:"framebuffer"};H.add(tT);const lh={5126:4,5123:2,5121:1};class rT{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;U.PREFER_ENV===si.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>n.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[a.id]=c,c;const h=e.buffers,f=e.attributes,d={},p={};for(const v in h)d[v]=0,p[v]=0;for(const v in f)!f[v].size&&a.attributeData[v]?f[v].size=a.attributeData[v].size:f[v].size||console.warn(`PIXI Geometry attribute '${v}' size cannot be determined (likely the bound shader does not have the attribute)`),d[f[v].buffer]+=f[v].size*lh[f[v].type];for(const v in f){const x=f[v],g=x.size;x.stride===void 0&&(d[x.buffer]===g*lh[x.type]?x.stride=0:x.stride=d[x.buffer]),x.start===void 0&&(x.start=p[x.buffer],p[x.buffer]+=g*lh[x.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let v=0;v<h.length;v++){const x=h[v];o.bind(x),n&&x._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=c,u[l]=c,i.bindVertexArray(null),o.unbind(_r.ARRAY_BUFFER),c}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in n)if(l[0]==="g"){const u=n[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const c=a[u],h=o[c.buffer],f=h._glBuffers[i];if(r.attributeData[u]){l!==f&&(s.bind(h),l=f);const d=r.attributeData[u].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,c.size,c.type||n.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)n.vertexAttribDivisor(d,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}rT.extension={type:N.RendererSystem,name:"geometry"};H.add(rT);const Nv=new me;class nT{constructor(e,r){this._texture=e,this.mapCoord=new me,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(Nv.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Nv));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var IB=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,RB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class MB extends Ye{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||RB,r||IB,n),this.maskSprite=i,this.maskMatrix=new me}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new nT(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class DB{constructor(e=null){this.type=Le.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ye.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Le.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class iT{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new DB;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Le.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Le.SCISSOR:this.renderer.scissor.push(n);break;case Le.STENCIL:this.renderer.stencil.push(n);break;case Le.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Le.COLOR:this.pushColorMask(n);break}n.type===Le.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Le.SCISSOR:this.renderer.scissor.pop(r);break;case Le.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Le.SPRITE:this.popSpriteMask(r);break;case Le.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Le.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Le.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Le.SCISSOR:e.type=Le.STENCIL:e.type=Le.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new MB]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const c=o.current;a=e.resolution||c.resolution,l=e.multisample??c.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=r;const u=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}iT.extension={type:N.RendererSystem,name:"mask"};H.add(iT);class sT{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Uv=new me,Vv=[],cl=class extends sT{constructor(t){super(t),this.glConst=U.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,Vv.pop()??new te);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||cl.isMatrixRotated(e.worldTransform)||cl.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){cl.isMatrixRotated(i)||(i=i?Uv.copyFrom(i):Uv.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&Vv.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let oT=cl;oT.extension={type:N.RendererSystem,name:"scissor"};H.add(oT);class aT extends sT{constructor(e){super(e),this.glConst=U.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}aT.extension={type:N.RendererSystem,name:"stencil"};H.add(aT);class lT{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return oe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return oe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return oe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}lT.extension={type:[N.RendererSystem,N.CanvasRendererSystem],name:"_plugin"};H.add(lT);class uT{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new me,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}uT.extension={type:N.RendererSystem,name:"projection"};H.add(uT);const kB=new sm;class cT{constructor(e){this.renderer=e,this._tempMatrix=new me}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=xn.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=kB,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}cT.extension={type:[N.RendererSystem,N.CanvasRendererSystem],name:"textureGenerator"};H.add(cT);const bn=new te,Ms=new te;class hT{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new te,this.destinationFrame=new te,this.viewportFrame=new te}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(bn.width=e.frame.width,bn.height=e.frame.height,r=bn),n||(Ms.x=e.frame.x,Ms.y=e.frame.y,Ms.width=r.width,Ms.height=r.height,n=Ms),o=s.framebuffer):(a=i.resolution,r||(bn.width=i._view.screen.width,bn.height=i._view.screen.height,r=bn),n||(n=bn,n.width=r.width,n.height=r.height));const l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=n.width!==i.width||n.height!==i.height;if(s){let{x:o,y:a,width:l,height:u}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}hT.extension={type:N.RendererSystem,name:"renderTexture"};H.add(hT);class BB{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function FB(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=$w(e,s.type),a={type:o,name:s.name,size:Hw(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function OB(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=$w(e,s.type);r[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:zw(l,s.size)}}return r}function LB(t,e){var l;const r=Dv(t,t.VERTEX_SHADER,e.vertexSrc),n=Dv(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||fB(t,i,r,n),e.attributeData=FB(i,t),e.uniformData=OB(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((c,h)=>c>h?1:-1);for(let c=0;c<u.length;c++)e.attributeData[u[c]].location=c,t.bindAttribLocation(i,c,u[c]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const u in e.uniformData){const c=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:zw(c.type,c.size)}}return new BB(i,o)}function NB(t,e,r,n,i){r.buffer.update(i)}const UB={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},fT={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function VB(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=fT[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function GB(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function zB(t,e){if(!t.autoManage)return{size:0,syncFunc:NB};const r=GB(t.uniforms,e),{uboElements:n,size:i}=VB(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],l=t.uniforms[a.data.name],u=a.data.name;let c=!1;for(let h=0;h<Ki.length;h++){const f=Ki[h];if(f.codeUbo&&f.test(a.data,l)){s.push(`offset = ${a.offset/4};`,Ki[h].codeUbo(a.data.name,l)),c=!0;break}}if(!c)if(a.data.size>1){const h=Hw(a.data.type),f=Math.max(fT[a.data.type]/16,1),d=h/f,p=(4-d%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*f}; i++)
                {
                    for(var j = 0; j < ${d}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const h=UB[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let jB=0;const Oa={textureCount:0,uboCount:0};class dT{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=jB++}systemCheck(){if(!pB())throw new Error("Current environment does not allow unsafe-eval, please use pixijs/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Oa.textureCount=0,Oa.uboCount=0,this.syncUniformGroup(e.uniformGroup,Oa)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=uB(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Oa,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=zB(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=LB(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}dT.extension={type:N.RendererSystem,name:"shader"};H.add(dT);class pT{constructor(e){this.renderer=e}run(e){const r=this.renderer;r.emitWithCustomOptions(r.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}pT.extension={type:[N.RendererSystem,N.CanvasRendererSystem],name:"startup"};H.add(pT);function HB(t,e=[]){return e[K.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.ADD]=[t.ONE,t.ONE],e[K.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.NONE]=[0,0],e[K.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[K.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[K.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[K.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[K.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[K.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[K.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[K.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[K.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[K.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[K.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const $B=0,WB=1,XB=2,YB=3,KB=4,qB=5,id=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=K.NONE,this._blendEq=!1,this.map=[],this.map[$B]=this.setBlend,this.map[WB]=this.setOffset,this.map[XB]=this.setCullFace,this.map[YB]=this.setDepthTest,this.map[KB]=this.setFrontFace,this.map[qB]=this.setDepthMask,this.checks=[],this.defaultState=new jr,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=HB(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(id.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(id.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let mT=id;mT.extension={type:N.RendererSystem,name:"state"};H.add(mT);class ZB extends Ko{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new er(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const hl=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=hl.defaultMaxIdle,this.checkCountMax=hl.defaultCheckCountMax,this.mode=hl.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Wp.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let Kt=hl;Kt.defaultMode=Wp.AUTO;Kt.defaultMaxIdle=60*60;Kt.defaultCheckCountMax=60*10;Kt.extension={type:N.RendererSystem,name:"textureGC"};H.add(Kt);class uh{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Y.UNSIGNED_BYTE,this.internalFormat=B.RGBA,this.samplerType=0}}function QB(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Y.UNSIGNED_BYTE]:{[B.RGBA]:t.RGBA8,[B.RGB]:t.RGB8,[B.RG]:t.RG8,[B.RED]:t.R8,[B.RGBA_INTEGER]:t.RGBA8UI,[B.RGB_INTEGER]:t.RGB8UI,[B.RG_INTEGER]:t.RG8UI,[B.RED_INTEGER]:t.R8UI,[B.ALPHA]:t.ALPHA,[B.LUMINANCE]:t.LUMINANCE,[B.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Y.BYTE]:{[B.RGBA]:t.RGBA8_SNORM,[B.RGB]:t.RGB8_SNORM,[B.RG]:t.RG8_SNORM,[B.RED]:t.R8_SNORM,[B.RGBA_INTEGER]:t.RGBA8I,[B.RGB_INTEGER]:t.RGB8I,[B.RG_INTEGER]:t.RG8I,[B.RED_INTEGER]:t.R8I},[Y.UNSIGNED_SHORT]:{[B.RGBA_INTEGER]:t.RGBA16UI,[B.RGB_INTEGER]:t.RGB16UI,[B.RG_INTEGER]:t.RG16UI,[B.RED_INTEGER]:t.R16UI,[B.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Y.SHORT]:{[B.RGBA_INTEGER]:t.RGBA16I,[B.RGB_INTEGER]:t.RGB16I,[B.RG_INTEGER]:t.RG16I,[B.RED_INTEGER]:t.R16I},[Y.UNSIGNED_INT]:{[B.RGBA_INTEGER]:t.RGBA32UI,[B.RGB_INTEGER]:t.RGB32UI,[B.RG_INTEGER]:t.RG32UI,[B.RED_INTEGER]:t.R32UI,[B.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Y.INT]:{[B.RGBA_INTEGER]:t.RGBA32I,[B.RGB_INTEGER]:t.RGB32I,[B.RG_INTEGER]:t.RG32I,[B.RED_INTEGER]:t.R32I},[Y.FLOAT]:{[B.RGBA]:t.RGBA32F,[B.RGB]:t.RGB32F,[B.RG]:t.RG32F,[B.RED]:t.R32F,[B.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Y.HALF_FLOAT]:{[B.RGBA]:t.RGBA16F,[B.RGB]:t.RGB16F,[B.RG]:t.RG16F,[B.RED]:t.R16F},[Y.UNSIGNED_SHORT_5_6_5]:{[B.RGB]:t.RGB565},[Y.UNSIGNED_SHORT_4_4_4_4]:{[B.RGBA]:t.RGBA4},[Y.UNSIGNED_SHORT_5_5_5_1]:{[B.RGBA]:t.RGB5_A1},[Y.UNSIGNED_INT_2_10_10_10_REV]:{[B.RGBA]:t.RGB10_A2,[B.RGBA_INTEGER]:t.RGB10_A2UI},[Y.UNSIGNED_INT_10F_11F_11F_REV]:{[B.RGB]:t.R11F_G11F_B10F},[Y.UNSIGNED_INT_5_9_9_9_REV]:{[B.RGB]:t.RGB9_E5},[Y.UNSIGNED_INT_24_8]:{[B.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Y.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[B.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Y.UNSIGNED_BYTE]:{[B.RGBA]:t.RGBA,[B.RGB]:t.RGB,[B.ALPHA]:t.ALPHA,[B.LUMINANCE]:t.LUMINANCE,[B.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Y.UNSIGNED_SHORT_5_6_5]:{[B.RGB]:t.RGB},[Y.UNSIGNED_SHORT_4_4_4_4]:{[B.RGBA]:t.RGBA},[Y.UNSIGNED_SHORT_5_5_5_1]:{[B.RGBA]:t.RGBA}},e}class gT{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Q,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=QB(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new uh(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new uh(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Lf.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new uh(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===Y.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==Lf.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Xi(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Tr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=hn.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Tr.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Mr.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Mr.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Mr.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Mr.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}gT.extension={type:N.RendererSystem,name:"texture"};H.add(gT);class yT{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}yT.extension={type:N.RendererSystem,name:"transformFeedback"};H.add(yT);class vT{constructor(e){this.renderer=e}init(e){this.screen=new te(0,0,e.width,e.height),this.element=e.view||U.ADAPTER.createCanvas(),this.resolution=e.resolution||U.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}vT.extension={type:[N.RendererSystem,N.CanvasRendererSystem],name:"_view"};H.add(vT);U.PREFER_ENV=si.WEBGL2;U.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(U,{WRAP_MODE:{get(){return Q.defaultOptions.wrapMode},set(t){oe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Q.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Q.defaultOptions.scaleMode},set(t){oe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Q.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Q.defaultOptions.mipmap},set(t){oe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Q.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Q.defaultOptions.anisotropicLevel},set(t){oe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Q.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return oe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Ye.defaultResolution},set(t){Ye.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return oe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Ye.defaultMultisample},set(t){Ye.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Yt.defaultMaxTextures},set(t){oe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Yt.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Yt.defaultBatchSize},set(t){oe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Yt.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Yt.canUploadSameBuffer},set(t){oe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Yt.canUploadSameBuffer=t}},GC_MODE:{get(){return Kt.defaultMode},set(t){oe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Kt.defaultMode=t}},GC_MAX_IDLE:{get(){return Kt.defaultMaxIdle},set(t){oe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Kt.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Kt.defaultCheckCountMax},set(t){oe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Kt.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return qt.defaultVertexPrecision},set(t){oe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),qt.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return qt.defaultFragmentPrecision},set(t){oe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),qt.defaultFragmentPrecision=t}}});var as=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(as||{});class ch{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const vt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ch(null,null,1/0),this.deltaMS=1/vt.targetFPMS,this.elapsedMS=1/vt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=as.NORMAL){return this._addListener(new ch(t,e,r))}addOnce(t,e,r=as.NORMAL){return this._addListener(new ch(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*vt.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,vt.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!vt._shared){const t=vt._shared=new vt;t.autoStart=!0,t._protected=!0}return vt._shared}static get system(){if(!vt._system){const t=vt._system=new vt;t.autoStart=!0,t._protected=!0}return vt._system}};let ht=vt;ht.targetFPMS=.06;Object.defineProperties(U,{TARGET_FPMS:{get(){return ht.targetFPMS},set(t){oe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),ht.targetFPMS=t}}});class xT{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,as.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?ht.shared:new ht,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}xT.extension=N.Application;H.add(xT);const _T=[];H.handleByList(N.Renderer,_T);function JB(t){for(const e of _T)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var eF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,tF=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const rF=eF,wT=tF;class TT{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Pe.HIGH?this.multisample=Pe.HIGH:r>=Pe.MEDIUM?this.multisample=Pe.MEDIUM:r>=Pe.LOW?this.multisample=Pe.LOW:this.multisample=Pe.NONE}destroy(){}}TT.extension={type:N.RendererSystem,name:"_multisample"};H.add(TT);class nF{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class ET{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new nF(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}ET.extension={type:N.RendererSystem,name:"buffer"};H.add(ET);class ST{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ST.extension={type:N.RendererSystem,name:"objectRenderer"};H.add(ST);const sd=class extends ZB{constructor(t){super(),this.type=rw.WEBGL,t=Object.assign({},U.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new tr({projectionMatrix:new me},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:sd.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(oe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const r={hello:t.hello,_plugin:sd.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(r)}static test(t){return t!=null&&t.forceCanvas?!1:QM()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return oe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return oe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return oe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return oe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){oe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return oe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){oe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return oe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let ys=sd;ys.extension={type:N.Renderer,priority:1};ys.__plugins={};ys.__systems={};H.handleByMap(N.RendererPlugin,ys.__plugins);H.handleByMap(N.RendererSystem,ys.__systems);H.add(ys);class AT extends Lo{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Q;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Lo?this.addResourceAt(e[n],n):this.addResourceAt(Nw(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class iF extends AT{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Hi.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,n.type,u.resource.source))}return!0}}class sF extends vn{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Vs=class extends AT{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Vs.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<Vs.SIDES;o++)this.items[o].target=Hi.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Hi.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Hi.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<Vs.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Vs.SIDES}};let bT=Vs;bT.SIDES=6;class Oi extends vn{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=Oi.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await U.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===nr.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Oi._EMPTY=Oi._EMPTY??U.ADAPTER.createCanvas(0,0),Oi._EMPTY}}const fl=class extends vn{constructor(t,e){e=e||{},super(U.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},fl.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;vn.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${ti()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=fl.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&fl.SVG_XML.test(t)}};let No=fl;No.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;No.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const od=class extends vn{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];vn.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||od.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=ht.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(ht.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(ht.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(ht.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(ht.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(ht.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||od.TYPES.includes(e)}};let om=od;om.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];om.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Jf.push(Oi,qw,sF,om,No,Jo,bT,iF);class ru{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?te.EMPTY:(e=e||new te(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:l}=e,u=n*r.x+s*r.y+a,c=i*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty;let f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,x=o*r+l*n+c,g=a*r+u*n+h;f=x<f?x:f,d=g<d?g:d,p=x>p?x:p,v=g>v?g:v,x=o*i+l*n+c,g=a*i+u*n+h,f=x<f?x:f,d=g<d?g:d,p=x>p?x:p,v=g>v?g:v,x=o*r+l*s+c,g=a*r+u*s+h,f=x<f?x:f,d=g<d?g:d,p=x>p?x:p,v=g>v?g:v,x=o*i+l*s+c,g=a*i+u*s+h,f=x<f?x:f,d=g<d?g:d,p=x>p?x:p,v=g>v?g:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<n;l+=2){const u=e[l],c=e[l+1];i=u<i?u:i,s=c<s?c:s,o=u>o?u:o,a=c>a?c:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,c=e.d,h=e.tx,f=e.ty;let d=this.minX,p=this.minY,v=this.maxX,x=this.maxY;for(let g=n;g<i;g+=2){const y=r[g],m=r[g+1],_=a*y+u*m+h,w=c*m+l*y+f;d=Math.min(d,_-s),v=Math.max(v,_+s),p=Math.min(p,w-o),x=Math.max(x,w+o)}this.minX=d,this.minY=p,this.maxX=v,this.maxY=x}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Ee extends Ko{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new sm,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new ru,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Ee.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new te),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new te),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ru);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new oF),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*rB}set angle(e){this.transform.rotation=e*nB}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class oF extends Ee{constructor(){super(...arguments),this.sortDirty=null}}Ee.prototype.displayObjectUpdateTransform=Ee.prototype.updateTransform;const aF=new me;function lF(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const ad=class extends Ee{constructor(){super(),this.children=[],this.sortableChildren=ad.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);Xi(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,Xi(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Xi(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(lF),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==ad.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=aF.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Le.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Ot=ad;Ot.defaultSortableChildren=!1;Ot.prototype.containerUpdateTransform=Ot.prototype.updateTransform;Object.defineProperties(U,{SORTABLE_CHILDREN:{get(){return Ot.defaultSortableChildren},set(t){oe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Ot.defaultSortableChildren=t}}});const Ds=new se,uF=new Uint16Array([0,1,2,0,2,3]);class ea extends Ot{constructor(e){super(),this._anchor=new en(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=K.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||j.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=uF,this.pluginName="batch",this.isSprite=!0,this._roundPixels=U.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Fi(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Fi(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this.vertexData,c=e.trim,h=e.orig,f=this._anchor;let d=0,p=0,v=0,x=0;if(c?(p=c.x-f._x*h.width,d=p+c.width,x=c.y-f._y*h.height,v=x+c.height):(p=-f._x*h.width,d=p+h.width,x=-f._y*h.height,v=x+h.height),u[0]=n*p+s*x+a,u[1]=o*x+i*p+l,u[2]=n*d+s*x+a,u[3]=o*x+i*d+l,u[4]=n*d+s*v+a,u[5]=o*v+i*d+l,u[6]=n*p+s*v+a,u[7]=o*v+i*p+l,this._roundPixels){const g=U.RESOLUTION;for(let y=0;y<u.length;++y)u[y]=Math.round(u[y]*g)/g}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,h=s.ty,f=-i._x*n.width,d=f+n.width,p=-i._y*n.height,v=p+n.height;r[0]=o*f+l*p+c,r[1]=u*p+a*f+h,r[2]=o*d+l*p+c,r[3]=u*p+a*d+h,r[4]=o*d+l*v+c,r[5]=u*v+a*d+h,r[6]=o*f+l*v+c,r[7]=u*v+a*f+h}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new ru),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new te),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ds);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Ds.x>=i&&Ds.x<i+r&&(s=-n*this.anchor.y,Ds.y>=s&&Ds.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,r){const n=e instanceof j?e:j.from(e,r);return new ea(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Fi(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Fi(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||j.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const CT=new me;Ee.prototype._cacheAsBitmap=!1;Ee.prototype._cacheData=null;Ee.prototype._cacheAsBitmapResolution=null;Ee.prototype._cacheAsBitmapMultisample=null;class cF{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Ee.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new cF),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Ee.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Ee.prototype._initCachedDisplayObject=function(e){var f,d;if((f=this._cacheData)!=null&&f.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const n=this.getLocalBounds(null,!0).clone();if((d=this.filters)!=null&&d.length){const p=this.filters[0].padding;n.pad(p)}n.ceil(U.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=xn.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${ti()}`;this._cacheData.textureCacheId=u,Q.addToCache(l.baseTexture,u),j.addToCache(l,u);const c=this.transform.localTransform.copyTo(CT).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const h=new ea(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(n.x/n.width),h.anchor.y=-(n.y/n.height),h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};Ee.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Ee.prototype._initCachedDisplayObjectCanvas=function(e){var c;if((c=this._cacheData)!=null&&c.sprite)return;const r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;r.ceil(U.RESOLUTION);const o=xn.create({width:r.width,height:r.height}),a=`cacheAsBitmap_${ti()}`;this._cacheData.textureCacheId=a,Q.addToCache(o.baseTexture,a),j.addToCache(o,a);const l=CT;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const u=new ea(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(r.x/r.width),u.anchor.y=-(r.y/r.height),u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Ee.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Ee.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ee.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Q.removeFromCache(this._cacheData.textureCacheId),j.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ee.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Ee.prototype.name=null;Ot.prototype.getChildByName=function(e,r){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Ee.prototype.getGlobalPosition=function(e=new se,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var hF=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class fF extends Ye{constructor(e=1){super(rF,hF,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const dF={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},pF=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function mF(t){const e=dF[t],r=e.length;let n=pF,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const gF=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function yF(t,e){const r=Math.ceil(t/2);let n=gF,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class ld extends Ye{constructor(e,r=8,n=4,i=Ye.defaultResolution,s=5){const o=yF(s,e),a=mF(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,hr.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,hr.BLIT),this.uniforms.uSampler=l;const c=l;l=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class vF extends Ye{constructor(e=8,r=4,n=Ye.defaultResolution,i=5){super(),this.blurXFilter=new ld(!0,e,r,n,i),this.blurYFilter=new ld(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,hr.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var xF=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class ud extends Ye{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(wT,xF,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const n=e>>16&255,i=e>>8&255,s=e&255,o=[n/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=n+(1-n)*o,u=o*(1-n)-a*i,c=o*(1-n)+a*i,h=o*(1-n)+a*i,f=n+o*(1-n),d=o*(1-n)-a*i,p=o*(1-n)-a*i,v=o*(1-n)+a*i,x=n+o*(1-n),g=[l,u,c,0,0,h,f,d,0,0,p,v,x,0,0,0,0,0,1,0];this._loadMatrix(g,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=(n>>16&255)/255,a=(n>>8&255)/255,l=(n&255)/255,u=(i>>16&255)/255,c=(i>>8&255)/255,h=(i&255)/255,f=[.3,.59,.11,0,0,o,a,l,e,0,u,c,h,r,0,o-u,a-c,l-h,0,0];this._loadMatrix(f,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}ud.prototype.grayscale=ud.prototype.greyscale;var _F=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,wF=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class TF extends Ye{constructor(e,r){const n=new me;e.renderable=!1,super(wF,_F,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new se(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var EF=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,SF=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class AF extends Ye{constructor(){super(SF,EF)}}var bF=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class CF extends Ye{constructor(e=.5,r=Math.random()){super(wT,bF,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const Gv={AlphaFilter:fF,BlurFilter:vF,BlurFilterPass:ld,ColorMatrixFilter:ud,DisplacementFilter:TF,FXAAFilter:AF,NoiseFilter:CF};Object.entries(Gv).forEach(([t,e])=>{Object.defineProperty(Gv,t,{get(){return oe("7.1.0",`filters.${t} has moved to ${t}`),e}})});class ta{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=ta.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new se,this.page=new se,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class nu extends ta{constructor(){super(...arguments),this.client=new se,this.movement=new se,this.offset=new se,this.global=new se,this.screen=new se}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,l,u,c,h,f,d,p,v){throw new Error("Method not implemented.")}}class Gt extends nu{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class ls extends nu{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}ls.DOM_DELTA_PIXEL=0;ls.DOM_DELTA_LINE=1;ls.DOM_DELTA_PAGE=2;const PF=2048,IF=new se,hh=new se;class RF{constructor(e){this.dispatch=new Ko,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){const n=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,IF.set(e,r),this.hitTestFn,this.hitPruneFn);return n&&n[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=n.children;if(i)for(let s=0;s<i.length;s++)this.all(e,r,i[s]);e.currentTarget=n,this.notifyTarget(e,r)}propagationPath(e){const r=[e];for(let n=0;n<PF&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestRecursive(e,r,n,i,s){if(!e||!e.visible||s(e,n))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],u=this.hitTestRecursive(l,r||l.interactive,n,i,s);if(u){if(u.length>0&&!u[u.length-1].parent)continue;return(u.length>0||e.interactive)&&u.push(e),u}}}return r&&i(e,n)?e.interactive?[e]:[]:null}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,hh),!e.hitArea.contains(hh.x,hh.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Gt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var a,l;if(!(e instanceof Gt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e),n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==r.target){const u=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,u,s);if(this.dispatchEvent(c,"pointerout"),n&&this.dispatchEvent(c,"mouseout"),!r.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!r.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),n&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(c)}if(s!==r.target){const u=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(r,u);this.dispatchEvent(c,"pointerover"),n&&this.dispatchEvent(c,"mouseover");let h=s==null?void 0:s.parent;for(;h&&h!==this.rootTarget.parent&&h!==r.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const d=this.clonePointerEvent(r,"pointerenter");for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==s&&d.target!==this.rootTarget.parent;)d.currentTarget=d.target,this.notifyTarget(d),n&&this.notifyTarget(d,"mouseenter"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(c)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](r,"pointermove"),this.all(r,"globalpointermove"),r.pointerType==="touch"&&(this[o](r,"touchmove"),this.all(r,"globaltouchmove")),n&&(this[o](r,"mousemove"),this.all(r,"globalmousemove"),this.cursor=(l=r.target)==null?void 0:l.cursor),i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Gt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Gt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Gt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.notifyTarget(n,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=i.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Gt)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof ls)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Gt);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y),typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(ls);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Gt);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Gt&&r instanceof Gt&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof nu&&r instanceof nu&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n)if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const MF=1,DF={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class PT{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new RF(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Gt(null),this.rootWheelEvent=new ls(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=MF),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=DF[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}}PT.extension={name:"events",type:[N.RendererSystem,N.CanvasRendererSystem]};H.add(PT);const kF={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof ta))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Ee.mixin(kF);const BF={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ee.mixin(BF);const FF=9,La=100,OF=0,LF=0,zv=2,jv=1,NF=-1e3,UF=-1e3,VF=2;class IT{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Dr.tablet||Dr.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${La}px`,r.style.height=`${La}px`,r.style.position="absolute",r.style.top=`${OF}px`,r.style.left=`${LF}px`,r.style.zIndex=zv.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${jv}px`,e.style.height=`${jv}px`,e.style.position="absolute",e.style.top=`${NF}px`,e.style.left=`${UF}px`,e.style.zIndex=VF.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Dr.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,c=s/a*l;let h=this.div;h.style.left=`${r}px`,h.style.top=`${n}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let f=0;f<this.children.length;f++){const d=this.children[f];if(d.renderId!==this.renderId)d._accessibleActive=!1,Xi(this.children,f,1),this.div.removeChild(d._accessibleDiv),this.pool.push(d._accessibleDiv),d._accessibleDiv=null,f--;else{h=d._accessibleDiv;let p=d.hitArea;const v=d.worldTransform;d.hitArea?(h.style.left=`${(v.tx+p.x*v.a)*u}px`,h.style.top=`${(v.ty+p.y*v.d)*c}px`,h.style.width=`${p.width*v.a*u}px`,h.style.height=`${p.height*v.d*c}px`):(p=d.getBounds(),this.capHitArea(p),h.style.left=`${p.x*u}px`,h.style.top=`${p.y*c}px`,h.style.width=`${p.width*u}px`,h.style.height=`${p.height*c}px`,h.title!==d.accessibleTitle&&d.accessibleTitle!==null&&(h.title=d.accessibleTitle),h.getAttribute("aria-label")!==d.accessibleHint&&d.accessibleHint!==null&&h.setAttribute("aria-label",d.accessibleHint)),(d.accessibleTitle!==h.title||d.tabIndex!==h.tabIndex)&&(h.title=d.accessibleTitle,h.tabIndex=d.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${La}px`,r.style.height=`${La}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=zv.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new ta(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===FF&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}IT.extension={name:"accessibility",type:[N.RendererPlugin,N.CanvasRendererPlugin]};H.add(IT);const cd=class{constructor(t){this.stage=new Ot,t=Object.assign({forceCanvas:!1},t),this.renderer=JB(t),cd._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=cd._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let am=cd;am._plugins=[];H.handleByList(N.Application,am._plugins);class RT{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}RT.extension=N.Application;H.add(RT);const Hv={loader:N.LoadParser,resolver:N.ResolveParser,cache:N.CacheParser,detection:N.DetectionParser};H.handle(N.Asset,t=>{const e=t.ref;Object.entries(Hv).filter(([r])=>!!e[r]).forEach(([r,n])=>H.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(Hv).filter(r=>!!e[r]).forEach(r=>H.remove(e[r]))});class GF{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function MT(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Nu(t,e){const r=t.split("?")[0],n=qe.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Br=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),hd=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function DT(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?DT(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function zF(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),DT(t,i,0,r,n)}else n.push(t);return n}const iu=t=>!Array.isArray(t);class jF{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Br(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof j){const a=r;n.forEach(l=>{a.baseTexture!==j.EMPTY.baseTexture&&Q.addToCache(a.baseTexture,l),j.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const ks=new jF;class HF{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,r,this))){i=await l.load(e,r,this),n.parser=l;break}}if(!n.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,i,r,this))&&(i=await l.parse(i,r,this)||i,n.parser=l)}return i})(),n}async load(e,r){let n=0;const i={},s=iu(e),o=Br(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const c=qe.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),i[u.src]=await this.promiseCache[c].promise,r&&r(++n/a)}catch(h){throw delete this.promiseCache[c],delete i[u.src],new Error(`[Loader.load] Failed to load ${c}.
${h}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const n=Br(e,i=>({src:i})).map(async i=>{var a,l;const s=qe.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this),delete this.promiseCache[s]}});await Promise.all(n)}get parsers(){return this._parsers}}var Er=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Er||{});const $F={extension:{type:N.LoadParser,priority:Er.Low},test(t){return qe.extname(t).toLowerCase()===".json"},async load(t){return await(await U.ADAPTER.fetch(t)).json()}};H.add($F);const WF={extension:{type:N.LoadParser,priority:Er.Low},test(t){return qe.extname(t).toLowerCase()===".txt"},async load(t){return await(await U.ADAPTER.fetch(t)).text()}};H.add(WF);const XF=["normal","bold","100","200","300","400","500","600","700","800","900"],YF=[".ttf",".otf",".woff",".woff2"],KF=["font/ttf","font/otf","font/woff","font/woff2"];function qF(t){const e=qe.extname(t);return qe.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const ZF={extension:{type:N.LoadParser,priority:Er.Low},test(t){return MT(t,KF)||Nu(t,YF)},async load(t,e){var n,i,s;const r=U.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??qF(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>XF.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const h=l[c],f=new FontFace(a,`url(${encodeURI(t)})`,{...u,weight:h});await f.load(),r.add(f),o.push(f)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>U.ADAPTER.getFontFaceSet().delete(e))}};H.add(ZF);let $v=0,fh;const QF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",JF={code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${QF}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},eO={code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let dh;class tO{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([JF.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){fh===void 0&&(fh=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<fh&&(dh||(dh=URL.createObjectURL(new Blob([eO.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(dh),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[$v]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:$v++,id:n})}}const Wv=new tO;function Uu(t,e,r){const n=new j(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const rO=[".jpeg",".jpg",".png",".webp",".avif"],nO=["image/jpeg","image/png","image/webp","image/avif"];async function iO(t){const e=await U.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Uo={extension:{type:N.LoadParser,priority:Er.High},config:{preferWorkers:!0},test(t){return MT(t,nO)||Nu(t,rO)},async load(t,e,r){let n=null;globalThis.createImageBitmap?this.config.preferWorkers&&await Wv.isImageBitmapSupported()?n=await Wv.loadImageBitmap(t):n=await iO(t):n=await new Promise(s=>{n=new Image,n.crossOrigin="anonymous",n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new Q(n,{resolution:gn(t),...e.data});return i.resource.src=t,Uu(i,r,t)},unload(t){t.destroy(!0)}};H.add(Uo);const sO={extension:{type:N.LoadParser,priority:Er.High},test(t){return qe.extname(t).toLowerCase()===".svg"},async testParse(t){return No.test(t)},async parse(t,e,r){var o,a,l;const n=new No(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new Q(n,{resolution:gn(t),...e==null?void 0:e.data});i.resource.src=t;const s=Uu(i,r,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await n.load(),s},async load(t,e){return(await U.ADAPTER.fetch(t)).text()},unload:Uo.unload};H.add(sO);class oO{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=Br(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=zF(r):r=[r]);const s=r.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const c=this._parsers[u];if(c.test(o)){a=c.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=qe.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??n,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=iu(e);e=Br(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=iu(e);e=Br(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const c=s.filter(h=>h[l]?h[l]===u:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=qe.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class aO{constructor(){this._detections=[],this._initialized=!1,this.resolver=new oO,this.loader=new HF,this.cache=ks,this._backgroundLoader=new GF(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const u of this._detections)await u.test()||(i=await u.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:n}})}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=iu(e),i=Br(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{r==null||r(++a/l)},c=o.map(h=>{const f=i[h];return l+=Object.keys(f).length,this._mapLoadToResolve(f,u).then(d=>{s[h]=d})});return await Promise.all(c),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return ks.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=ks.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,l)=>{const u=s[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[i[l]]=u,ks.set(c,u)}),o}async unload(e){this._initialized||await this.init();const r=Br(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Br(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{ks.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return Uo.config.preferWorkers}set preferWorkers(e){Uo.config.preferWorkers=e}}const Na=new aO;H.handleByList(N.LoadParser,Na.loader.parsers).handleByList(N.ResolveParser,Na.resolver.parsers).handleByList(N.CacheParser,Na.cache.parsers).handleByList(N.DetectionParser,Na.detections);const lO={extension:N.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof j),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};H.add(lO);const uO={extension:{type:N.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e=await U.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};H.add(uO);const cO={extension:{type:N.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e=await U.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};H.add(cO);const Xv=["png","jpg","jpeg"],hO={extension:{type:N.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Xv],remove:async t=>t.filter(e=>!Xv.includes(e))};H.add(hO);const fO={extension:N.ResolveParser,test:Uo.test,parse:t=>{var e;return{resolution:parseFloat(((e=U.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};H.add(fO);var xt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(xt||{});const su={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Ar,gi;function Yv(){gi={s3tc:Ar.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ar.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Ar.getExtension("WEBGL_compressed_texture_etc"),etc1:Ar.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Ar.getExtension("WEBGL_compressed_texture_pvrtc")||Ar.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Ar.getExtension("WEBGL_compressed_texture_atc"),astc:Ar.getExtension("WEBGL_compressed_texture_astc")}}const dO={extension:{type:N.DetectionParser,priority:2},test:async()=>{const e=U.ADAPTER.createCanvas().getContext("webgl");return e?(Ar=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{gi||Yv();const e=[];for(const r in gi)gi[r]&&e.push(r);return[...e,...t]},remove:async t=>(gi||Yv(),t.filter(e=>!(e in gi)))};H.add(dO);class pO extends Jo{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Qf(i):null,this.origin&&r.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const n=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(n),this.buffer=new Qf(n),this.loaded=!0,this.onBlobLoaded(n),this.update(),this}}class Xn extends pO{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Xn._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Xn._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:c,levelBuffer:h}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,c,0,h)}return!0}onBlobLoaded(){this._levelBuffers=Xn._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const l=new Array(n);let u=e.byteOffset,c=o,h=a,f=c+i-1&~(i-1),d=h+s-1&~(s-1),p=f*d*su[r];for(let v=0;v<n;v++)l[v]={levelID:v,levelWidth:n>1?c:f,levelHeight:n>1?h:d,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,c=c>>1||1,h=h>>1||1,f=c+i-1&~(i-1),d=h+s-1&~(s-1),p=f*d*su[r];return l}}const ph=4,Ua=124,mO=32,Kv=20,gO=542327876,Va={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},yO={FOURCC:2},Ga={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},vO=1,xO=2,_O=4,wO=64,TO=512,EO=131072,SO=827611204,AO=861165636,bO=894720068,CO=808540228,PO=4,IO={[SO]:xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[AO]:xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[bO]:xt.COMPRESSED_RGBA_S3TC_DXT5_EXT},RO={70:xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:xt.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:xt.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function MO(t){const e=new Uint32Array(t);if(e[0]!==gO)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(t,0,Ua/Uint32Array.BYTES_PER_ELEMENT),i=n[Va.HEIGHT],s=n[Va.WIDTH],o=n[Va.MIPMAP_COUNT],a=new Uint32Array(t,Va.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,mO/Uint32Array.BYTES_PER_ELEMENT),l=a[vO];if(l&_O){const u=a[yO.FOURCC];if(u!==CO){const m=IO[u],_=ph+Ua,w=new Uint8Array(t,_);return[new Xn(w,{format:m,width:s,height:i,levels:o})]}const c=ph+Ua,h=new Uint32Array(e.buffer,c,Kv/Uint32Array.BYTES_PER_ELEMENT),f=h[Ga.DXGI_FORMAT],d=h[Ga.RESOURCE_DIMENSION],p=h[Ga.MISC_FLAG],v=h[Ga.ARRAY_SIZE],x=RO[f];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(p===PO)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const g=new Array,y=ph+Ua+Kv;if(v===1)g.push(new Uint8Array(t,y));else{const m=su[x];let _=0,w=s,S=i;for(let T=0;T<o;T++){const R=Math.max(1,w+3&-4),P=Math.max(1,S+3&-4),M=R*P*m;_+=M,w=w>>>1,S=S>>>1}let E=y;for(let T=0;T<v;T++)g.push(new Uint8Array(t,E,_)),E+=_}return g.map(m=>new Xn(m,{format:x,width:s,height:i,levels:o}))}throw l&wO?new Error("DDSParser does not support uncompressed texture data."):l&TO?new Error("DDSParser does not supported YUV uncompressed texture data."):l&EO?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&xO?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const qv=[171,75,84,88,32,49,49,187,13,10,26,10],DO=67305985,Ut={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},fd=64,Zv={[Y.UNSIGNED_BYTE]:1,[Y.UNSIGNED_SHORT]:2,[Y.INT]:4,[Y.UNSIGNED_INT]:4,[Y.FLOAT]:4,[Y.HALF_FLOAT]:8},kO={[B.RGBA]:4,[B.RGB]:3,[B.RG]:2,[B.RED]:1,[B.LUMINANCE]:1,[B.LUMINANCE_ALPHA]:2,[B.ALPHA]:1},BO={[Y.UNSIGNED_SHORT_4_4_4_4]:2,[Y.UNSIGNED_SHORT_5_5_5_1]:2,[Y.UNSIGNED_SHORT_5_6_5]:2};function FO(t,e,r=!1){const n=new DataView(e);if(!OO(t,n))return null;const i=n.getUint32(Ut.ENDIANNESS,!0)===DO,s=n.getUint32(Ut.GL_TYPE,i),o=n.getUint32(Ut.GL_FORMAT,i),a=n.getUint32(Ut.GL_INTERNAL_FORMAT,i),l=n.getUint32(Ut.PIXEL_WIDTH,i),u=n.getUint32(Ut.PIXEL_HEIGHT,i)||1,c=n.getUint32(Ut.PIXEL_DEPTH,i)||1,h=n.getUint32(Ut.NUMBER_OF_ARRAY_ELEMENTS,i)||1,f=n.getUint32(Ut.NUMBER_OF_FACES,i),d=n.getUint32(Ut.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(Ut.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||c!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const v=4,x=4,g=l+3&-4,y=u+3&-4,m=new Array(h);let _=l*u;s===0&&(_=g*y);let w;if(s!==0?Zv[s]?w=Zv[s]*kO[o]:w=BO[s]:w=su[a],w===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const S=r?NO(n,p,i):null;let T=_*w,R=l,P=u,M=g,F=y,C=fd+p;for(let b=0;b<d;b++){const W=n.getUint32(C,i);let Z=C+4;for(let k=0;k<h;k++){let I=m[k];I||(I=m[k]=new Array(d)),I[b]={levelID:b,levelWidth:d>1||s!==0?R:M,levelHeight:d>1||s!==0?P:F,levelBuffer:new Uint8Array(e,Z,T)},Z+=T}C+=W+4,C=C%4!==0?C+4-C%4:C,R=R>>1||1,P=P>>1||1,M=R+v-1&-4,F=P+x-1&-4,T=M*F*w}return s!==0?{uncompressed:m.map(b=>{let W=b[0].levelBuffer,Z=!1;return s===Y.FLOAT?W=new Float32Array(b[0].levelBuffer.buffer,b[0].levelBuffer.byteOffset,b[0].levelBuffer.byteLength/4):s===Y.UNSIGNED_INT?(Z=!0,W=new Uint32Array(b[0].levelBuffer.buffer,b[0].levelBuffer.byteOffset,b[0].levelBuffer.byteLength/4)):s===Y.INT&&(Z=!0,W=new Int32Array(b[0].levelBuffer.buffer,b[0].levelBuffer.byteOffset,b[0].levelBuffer.byteLength/4)),{resource:new Jo(W,{width:b[0].levelWidth,height:b[0].levelHeight}),type:s,format:Z?LO(o):o}}),kvData:S}:{compressed:m.map(b=>new Xn(null,{format:a,width:l,height:u,levels:d,levelBuffers:b})),kvData:S}}function OO(t,e){for(let r=0;r<qv.length;r++)if(e.getUint8(r)!==qv[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function LO(t){switch(t){case B.RGBA:return B.RGBA_INTEGER;case B.RGB:return B.RGB_INTEGER;case B.RG:return B.RG_INTEGER;case B.RED:return B.RED_INTEGER;default:return t}}function NO(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(fd+i,r),o=fd+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),c=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,c),i+=4+s+a}return n}const UO={extension:{type:N.LoadParser,priority:Er.High},test(t){return Nu(t,".dds")},async load(t,e,r){const i=await(await U.ADAPTER.fetch(t)).arrayBuffer(),o=MO(i).map(a=>{const l=new Q(a,{mipmap:Tr.OFF,alphaMode:nr.NO_PREMULTIPLIED_ALPHA,resolution:gn(t),...e.data});return Uu(l,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};H.add(UO);const VO={extension:{type:N.LoadParser,priority:Er.High},test(t){return Nu(t,".ktx")},async load(t,e,r){const i=await(await U.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=FO(t,i),l=s??o,u={mipmap:Tr.OFF,alphaMode:nr.NO_PREMULTIPLIED_ALPHA,resolution:gn(t),...e.data},c=l.map(h=>{l===o&&Object.assign(u,{type:h.type,format:h.format});const f=new Q(h,u);return f.ktxKeyValueData=a,Uu(f,r,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};H.add(VO);const GO={extension:N.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var n,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((n=U.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=U.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};H.add(GO);const zO=new te,jO=4,dd=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);let o=new Cv(n,i,1);const a=o.context.getImageData(0,0,n,i);if(dd.arrayPostDivide(r,a.data),o.context.putImageData(a,0,0),s){const l=new Cv(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-i),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:r}=this._rawPixels(t,e);return dd.arrayPostDivide(r,r),r}_rawPixels(t,e){const r=this.renderer;let n,i=!1,s,o=!1;if(t)if(t instanceof xn)s=t;else{const h=r.context.webGLVersion>=2?r.multisample:Pe.NONE;if(s=this.renderer.generateTexture(t,{multisample:h}),h!==Pe.NONE){const f=xn.create({width:s.width,height:s.height});r.framebuffer.bind(s.framebuffer),r.framebuffer.blit(f.framebuffer),r.framebuffer.bind(null),s.destroy(!0),s=f}o=!0}s?(n=s.baseTexture.resolution,e=e??s.frame,i=!1,r.renderTexture.bind(s)):(n=r.resolution,e||(e=zO,e.width=r.width,e.height=r.height),i=!0,r.renderTexture.bind(null));const a=Math.round(e.width*n),l=Math.round(e.height*n),u=new Uint8Array(jO*a*l),c=r.gl;return c.readPixels(Math.round(e.x*n),Math.round(e.y*n),a,l,c.RGBA,c.UNSIGNED_BYTE,u),o&&s.destroy(!0),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let r=0;r<t.length;r+=4){const n=e[r+3]=t[r+3];n!==0?(e[r]=Math.round(Math.min(t[r]*255/n,255)),e[r+1]=Math.round(Math.min(t[r+1]*255/n,255)),e[r+2]=Math.round(Math.min(t[r+2]*255/n,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}}};let kT=dd;kT.extension={name:"extract",type:N.RendererSystem};H.add(kT);const ou={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===Xe.CIRC){const p=t.shape;r=p.x,n=p.y,o=a=p.radius,i=s=0}else if(t.type===Xe.ELIP){const p=t.shape;r=p.x,n=p.y,o=p.width,a=p.height,i=s=0}else{const p=t.shape,v=p.width/2,x=p.height/2;r=p.x+v,n=p.y+x,o=a=Math.max(0,Math.min(p.radius,Math.min(v,x))),i=v-o,s=x-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let c=0,h=l*4+(i?2:0)+2,f=h,d=u;{const p=i+o,v=s,x=r+p,g=r-p,y=n+v;if(e[c++]=x,e[c++]=y,e[--h]=y,e[--h]=g,s){const m=n-v;e[f++]=g,e[f++]=m,e[--d]=m,e[--d]=x}}for(let p=1;p<l;p++){const v=Math.PI/2*(p/l),x=i+Math.cos(v)*o,g=s+Math.sin(v)*a,y=r+x,m=r-x,_=n+g,w=n-g;e[c++]=y,e[c++]=_,e[--h]=_,e[--h]=m,e[f++]=m,e[f++]=w,e[--d]=w,e[--d]=y}{const p=i,v=s+a,x=r+p,g=r-p,y=n+v,m=n-v;e[c++]=x,e[c++]=y,e[--d]=m,e[--d]=x,i&&(e[c++]=g,e[c++]=y,e[--d]=m,e[--d]=g)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,l;if(t.type!==Xe.RREC){const c=t.shape;a=c.x,l=c.y}else{const c=t.shape;a=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;n.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,n.push(r[0],r[1]);for(let c=2;c<r.length;c+=2)n.push(r[c],r[c+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function Qv(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],l=t[i+1];n+=(a-s)*(l+o),s=a,o=l}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const BT={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){Qv(r,!1);const o=[];for(let u=0;u<n.length;u++){const c=n[u];Qv(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}const a=VI(r,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<r.length;u++)i.push(r[u])}}},HO={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},$O={build(t){ou.build(t)},triangulate(t,e){ou.triangulate(t,e)}};var $t=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))($t||{}),Gn=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Gn||{});const us={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Jv{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,c=a-e,h=i-r,f=n-e,d=Math.abs(u*f-c*h);if(d<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const p=u*u+c*c,v=h*h+f*f,x=u*h+c*f,g=s*Math.sqrt(p)/d,y=s*Math.sqrt(v)/d,m=g*x/p,_=y*x/v,w=g*f+y*c,S=g*h+y*u,E=c*(y+m),T=u*(y+m),R=f*(g+_),P=h*(g+_),M=Math.atan2(T-S,E-w),F=Math.atan2(P-S,R-w);return{cx:w+e,cy:S+r,radius:s,startAngle:M,endAngle:F,anticlockwise:c*h>f*u}}static arc(e,r,n,i,s,o,a,l,u){const c=a-o,h=us._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/tu)*40),f=c/(h*2),d=f*2,p=Math.cos(f),v=Math.sin(f),x=h-1,g=x%1/x;for(let y=0;y<=x;++y){const m=y+g*y,_=f+o+d*m,w=Math.cos(_),S=-Math.sin(_);u.push((p*w+v*S)*s+n,(p*-S+v*w)*s+i)}}}class WO{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class lm{static curveLength(e,r,n,i,s,o,a,l){let c=0,h=0,f=0,d=0,p=0,v=0,x=0,g=0,y=0,m=0,_=0,w=e,S=r;for(let E=1;E<=10;++E)h=E/10,f=h*h,d=f*h,p=1-h,v=p*p,x=v*p,g=x*e+3*v*h*n+3*p*f*s+d*a,y=x*r+3*v*h*i+3*p*f*o+d*l,m=w-g,_=S-y,w=g,S=y,c+=Math.sqrt(m*m+_*_);return c}static curveTo(e,r,n,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const c=us._segmentsCount(lm.curveLength(l,u,e,r,n,i,s,o));let h=0,f=0,d=0,p=0,v=0;a.push(l,u);for(let x=1,g=0;x<=c;++x)g=x/c,h=1-g,f=h*h,d=f*h,p=g*g,v=p*g,a.push(d*l+3*f*g*e+3*h*p*n+v*s,d*u+3*f*g*r+3*h*p*i+v*o)}}function e0(t,e,r,n,i,s,o,a){const l=t-r*i,u=e-n*i,c=t+r*s,h=e+n*s;let f,d;o?(f=n,d=-r):(f=-n,d=r);const p=l+f,v=u+d,x=c+f,g=h+d;return a.push(p,v,x,g),2}function Cn(t,e,r,n,i,s,o,a){const l=r-t,u=n-e;let c=Math.atan2(l,u),h=Math.atan2(i-t,s-e);a&&c<h?c+=Math.PI*2:!a&&c>h&&(h+=Math.PI*2);let f=c;const d=h-c,p=Math.abs(d),v=Math.sqrt(l*l+u*u),x=(15*p*Math.sqrt(v)/Math.PI>>0)+1,g=d/x;if(f+=g,a){o.push(t,e,r,n);for(let y=1,m=f;y<x;y++,m+=g)o.push(t,e,t+Math.sin(m)*v,e+Math.cos(m)*v);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let y=1,m=f;y<x;y++,m+=g)o.push(t+Math.sin(m)*v,e+Math.cos(m)*v,t,e);o.push(i,s,t,e)}return x*2}function XO(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new se(n[0],n[1]),a=new se(n[n.length-2],n[n.length-1]),l=r.type!==Xe.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const k=(o.x+a.x)*.5,I=(a.y+o.y)*.5;n.unshift(k,I),n.push(k,I)}const c=e.points,h=n.length/2;let f=n.length;const d=c.length/2,p=s.width/2,v=p*p,x=s.miterLimit*s.miterLimit;let g=n[0],y=n[1],m=n[2],_=n[3],w=0,S=0,E=-(y-_),T=g-m,R=0,P=0,M=Math.sqrt(E*E+T*T);E/=M,T/=M,E*=p,T*=p;const F=s.alignment,C=(1-F)*2,b=F*2;l||(s.cap===Gn.ROUND?f+=Cn(g-E*(C-b)*.5,y-T*(C-b)*.5,g-E*C,y-T*C,g+E*b,y+T*b,c,!0)+2:s.cap===Gn.SQUARE&&(f+=e0(g,y,E,T,C,b,!0,c))),c.push(g-E*C,y-T*C,g+E*b,y+T*b);for(let k=1;k<h-1;++k){g=n[(k-1)*2],y=n[(k-1)*2+1],m=n[k*2],_=n[k*2+1],w=n[(k+1)*2],S=n[(k+1)*2+1],E=-(y-_),T=g-m,M=Math.sqrt(E*E+T*T),E/=M,T/=M,E*=p,T*=p,R=-(_-S),P=m-w,M=Math.sqrt(R*R+P*P),R/=M,P/=M,R*=p,P*=p;const I=m-g,O=y-_,A=m-w,L=S-_,X=I*A+O*L,ne=O*A-L*I,re=ne<0;if(Math.abs(ne)<.001*Math.abs(X)){c.push(m-E*C,_-T*C,m+E*b,_+T*b),X>=0&&(s.join===$t.ROUND?f+=Cn(m,_,m-E*C,_-T*C,m-R*C,_-P*C,c,!1)+4:f+=2,c.push(m-R*b,_-P*b,m+R*C,_+P*C));continue}const Se=(-E+g)*(-T+_)-(-E+m)*(-T+y),le=(-R+w)*(-P+_)-(-R+m)*(-P+S),ge=(I*le-A*Se)/ne,Qe=(L*Se-O*le)/ne,yt=(ge-m)*(ge-m)+(Qe-_)*(Qe-_),je=m+(ge-m)*C,fe=_+(Qe-_)*C,De=m-(ge-m)*b,Fe=_-(Qe-_)*b,ir=Math.min(I*I+O*O,A*A+L*L),sr=re?C:b,vs=ir+sr*sr*v,WT=yt<=vs;let ra=s.join;if(ra===$t.MITER&&yt/v>x&&(ra=$t.BEVEL),WT)switch(ra){case $t.MITER:{c.push(je,fe,De,Fe);break}case $t.BEVEL:{re?c.push(je,fe,m+E*b,_+T*b,je,fe,m+R*b,_+P*b):c.push(m-E*C,_-T*C,De,Fe,m-R*C,_-P*C,De,Fe),f+=2;break}case $t.ROUND:{re?(c.push(je,fe,m+E*b,_+T*b),f+=Cn(m,_,m+E*b,_+T*b,m+R*b,_+P*b,c,!0)+4,c.push(je,fe,m+R*b,_+P*b)):(c.push(m-E*C,_-T*C,De,Fe),f+=Cn(m,_,m-E*C,_-T*C,m-R*C,_-P*C,c,!1)+4,c.push(m-R*C,_-P*C,De,Fe));break}}else{switch(c.push(m-E*C,_-T*C,m+E*b,_+T*b),ra){case $t.MITER:{re?c.push(De,Fe,De,Fe):c.push(je,fe,je,fe),f+=2;break}case $t.ROUND:{re?f+=Cn(m,_,m+E*b,_+T*b,m+R*b,_+P*b,c,!0)+2:f+=Cn(m,_,m-E*C,_-T*C,m-R*C,_-P*C,c,!1)+2;break}}c.push(m-R*C,_-P*C,m+R*b,_+P*b),f+=2}}g=n[(h-2)*2],y=n[(h-2)*2+1],m=n[(h-1)*2],_=n[(h-1)*2+1],E=-(y-_),T=g-m,M=Math.sqrt(E*E+T*T),E/=M,T/=M,E*=p,T*=p,c.push(m-E*C,_-T*C,m+E*b,_+T*b),l||(s.cap===Gn.ROUND?f+=Cn(m-E*(C-b)*.5,_-T*(C-b)*.5,m-E*C,_-T*C,m+E*b,_+T*b,c,!1)+2:s.cap===Gn.SQUARE&&(f+=e0(m,_,E,T,C,b,!1,c)));const W=e.indices,Z=us.epsilon*us.epsilon;for(let k=d;k<f+d-2;++k)g=c[k*2],y=c[k*2+1],m=c[(k+1)*2],_=c[(k+1)*2+1],w=c[(k+2)*2],S=c[(k+2)*2+1],!(Math.abs(g*(_-S)+m*(S-y)+w*(y-_))<Z)&&W.push(k,k+1,k+2)}function YO(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Xe.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let c=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[r*2],i[r*2+1]),a.push(c,c+1),c++;s&&a.push(c,u)}function t0(t,e){t.lineStyle.native?YO(t,e):XO(t,e)}class um{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,l=r-2*i+o,u=2*n-2*e,c=2*i-2*r,h=4*(a*a+l*l),f=4*(a*u+l*c),d=u*u+c*c,p=2*Math.sqrt(h+f+d),v=Math.sqrt(h),x=2*h*v,g=2*Math.sqrt(d),y=f/v;return(x*p+v*f*(p-g)+(4*d*h-f*f)*Math.log((2*v+y+p)/(y+g)))/(4*x)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],l=us._segmentsCount(um.curveLength(o,a,e,r,n,i));let u=0,c=0;for(let h=1;h<=l;++h){const f=h/l;u=o+(e-o)*f,c=a+(r-a)*f,s.push(u+(e+(n-e)*f-u)*f,c+(r+(i-r)*f-c)*f)}}}const mh={[Xe.POLY]:BT,[Xe.CIRC]:ou,[Xe.ELIP]:ou,[Xe.RECT]:HO,[Xe.RREC]:$O},r0=[],za=[];class au{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new au(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const fi=new se,FT=class extends Uw{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new ru,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),za.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),r0.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new au(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new au(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,fi):fi.copyFrom(t),n.shape.contains(fi.x,fi.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(fi.x,fi.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,c=l.lineStyle;mh[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||c.visible)&&this.processHoles(l.holes);for(let f=0;f<2;f++){const d=f===0?u:c;if(!d.visible)continue;const p=d.texture.baseTexture,v=this.indices.length,x=this.points.length/2;p.wrapMode=hn.REPEAT,f===0?this.processFill(l):this.processLine(l);const g=this.points.length/2-x;g!==0&&(r&&!this._compareStyles(n,d)&&(r.end(v,x),r=null),r||(r=r0.pop()||new WO,r.begin(d,v,x),this.batches.push(r),n=d),this.addUvs(this.points,t,d.texture,x,g,d.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<FT.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Q._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),za.push(this.drawCalls[c]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=za.pop();n||(n=new ed,n.texArray=new rd),n.texArray.count=0,n.start=0,n.size=0,n.type=pr.TRIANGLES;let i=0,s=null,o=0,a=!1,l=pr.TRIANGLES,u=0;this.drawCalls.push(n);for(let c=0;c<this.batches.length;c++){const h=this.batches[c],f=8,d=h.style,p=d.texture.baseTexture;a!==!!d.native&&(a=!!d.native,l=a?pr.LINES:pr.TRIANGLES,s=null,i=f,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===f&&(t++,i=0,n.size>0&&(n=za.pop(),n||(n=new ed,n.texArray=new rd),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=hn.REPEAT,n.texArray.elements[n.texArray.count++]=p,i++)),n.size+=h.size,u+=h.size,o=p._batchLocation,this.addColors(e,d.color,d.alpha,h.attribSize,h.attribStart),this.addTextureIds(r,o,h.attribSize,h.attribStart)}Q._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=r[l],s[a++]=n[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?BT.triangulate(t,this):mh[t.type].triangulate(t,this)}processLine(t){t0(t,this);for(let e=0;e<t.holes.length;e++)t0(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];mh[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=tm(s,r);t.length=Math.max(t.length,i+n);for(let a=0;a<n;a++)t[i+a]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const a=e.length,l=r.frame;for(;o<i;){let c=t[(n+o)*2],h=t[(n+o)*2+1];if(s){const f=s.a*c+s.c*h+s.tx;h=s.b*c+s.d*h+s.ty,c=f}o++,e.push(c/l.width,h/l.height)}const u=r.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,r,a,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let c=a.x/a.width,h=a.y/a.height,f=Math.floor(t[r]+s),d=Math.floor(t[r+1]+s);for(let p=r+2;p<o;p+=2)f=Math.min(f,Math.floor(t[p]+s)),d=Math.min(d,Math.floor(t[p+1]+s));c-=f,h-=d;for(let p=r;p<o;p+=2)t[p]=(t[p]+c)*l,t[p+1]=(t[p+1]+h)*u}};let OT=FT;OT.BATCHABLE_SIZE=100;class Vu{constructor(){this.color=16777215,this.alpha=1,this.texture=j.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Vu;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=j.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class cm extends Vu{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Gn.BUTT,this.join=$t.MITER,this.miterLimit=10}clone(){const e=new cm;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const KO=new Float32Array(3),gh={},dl=class extends Ot{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Vu,this._lineStyle=new cm,this._matrix=null,this._holeMode=!1,this.state=jr.for2d(),this._geometry=t||new OT,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=K.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new dl(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r=1,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:j.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Gn.BUTT,join:$t.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Yi,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Yi,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),um.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),lm.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=Jv.curveTo(t,e,r,n,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:c,endAngle:h,anticlockwise:f}=o;this.arc(a,l,u,c,h,f)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=tu:s&&n<=i&&(n+=tu),i-n===0)return this;const a=t+Math.cos(n)*r,l=e+Math.sin(n)*r,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const h=Math.abs(c[c.length-2]-a),f=Math.abs(c[c.length-1]-l);h<u&&f<u||c.push(a,l)}else this.moveTo(a,l),c=this.currentPath.points;return Jv.arc(a,l,t,e,r,n,i,s,c),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:j.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:j.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new te(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new im(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new rm(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new nm(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Yi(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Xe.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:Oo(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.tint,i=this.worldAlpha,s=e.uniforms,o=r.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(n>>16&255)/255*i,s.tint[1]=(n>>8&255)/255*i,s.tint[2]=(n&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,r.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!gh[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let a=0;a<n;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new me,default:tr.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;gh[r]=new wr(o,s)}e=gh[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,dl._TEMP_POINT),this._geometry.containsPoint(dl._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=Oo(this.tint,KO);for(let e=0;e<this.batches.length;e++){const r=this.batches[e],n=r._batchRGB,i=t[0]*n[0]*255,s=t[1]*n[1]*255,o=t[2]*n[2]*255,a=(i<<16)+(s<<8)+(o|0);r._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let h=0;h<l.length;h+=2){const f=l[h],d=l[h+1];u[c++]=r*f+i*d+o,u[c++]=s*d+n*f+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Gu=dl;Gu.curves=us;Gu._TEMP_POINT=new se;class qO{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const yh=new se,n0=new Yi,LT=class extends Ot{constructor(t,e,r,n=pr.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||jr.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=U.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===pr.TRIANGLES&&e.length<LT.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,c=i.ty,h=this.vertexData;for(let f=0;f<h.length/2;f++){const d=r[f*2],p=r[f*2+1];h[f*2]=s*d+a*p+u,h[f*2+1]=o*d+l*p+c}if(this._roundPixels){const f=U.RESOLUTION;for(let d=0;d<h.length;++d)h[d]=Math.round(h[d]*f)/f}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new qO(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,yh);const e=this.geometry.getBuffer("aVertexPosition").data,r=n0.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=n[o]*2,l=n[o+1]*2,u=n[o+2]*2;if(r[0]=e[a],r[1]=e[a+1],r[2]=e[l],r[3]=e[l+1],r[4]=e[u],r[5]=e[u+1],n0.contains(yh.x,yh.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let pd=LT;pd.BATCHABLE_SIZE=100;class ZO extends yn{constructor(e,r,n){super();const i=new Re(e),s=new Re(r,!0),o=new Re(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Y.FLOAT).addAttribute("aTextureCoord",s,2,!1,Y.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var QO=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,JO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class i0 extends wr{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:me.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||qt.from(JO,QO),n),this._colorDirty=!1,this.uvMatrix=new nT(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this.tint=r.tint,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;Fw(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class s0{constructor(e,r,n){this.geometry=new yn,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Y.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Re(z4(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Re(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Re(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Y.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Y.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===Y.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===Y.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var eL=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,tL=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class NT extends Lu{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new me,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Y.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=wr.from(tL,eL,{}),this.state=jr.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=Bw(e.blendMode,u),s.state.set(this.state);const c=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=G4(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,u),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let f=!1;for(let d=0,p=0;d<o;d+=i,p+=1){let v=o-d;v>i&&(v=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const x=a[p];x.uploadDynamic(r,d,v);const g=e._bufferUpdateIDs[p]||0;f=f||x._updateID<g,f&&(x._updateID=e._updateID,x.uploadStatic(r,d,v)),s.geometry.bind(x.geometry),c.drawElements(c.TRIANGLES,v*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new s0(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new s0(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,l=0,u=0,c=0;for(let h=0;h<n;++h){const f=e[r+h],d=f._texture,p=f.scale.x,v=f.scale.y,x=d.trim,g=d.orig;x?(l=x.x-f.anchor.x*g.width,a=l+x.width,c=x.y-f.anchor.y*g.height,u=c+x.height):(a=g.width*(1-f.anchor.x),l=g.width*-f.anchor.x,u=g.height*(1-f.anchor.y),c=g.height*-f.anchor.y),i[o]=l*p,i[o+1]=c*v,i[o+s]=a*p,i[o+s+1]=c*v,i[o+s*2]=a*p,i[o+s*2+1]=u*v,i[o+s*3]=l*p,i[o+s*3+1]=u*v,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a],u=l._texture.baseTexture.alphaMode>0,c=l.alpha,h=c<1&&u?tm(l._tintRGB,c):l._tintRGB+(c*255<<24);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}NT.extension={name:"particle",type:N.RendererPlugin};H.add(NT);var zu=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(zu||{});const ja={willReadFrequently:!0},G=class{static get experimentalLetterSpacingSupported(){let t=G._experimentalLetterSpacingSupported;if(t!==void 0){const e=U.ADAPTER.getCanvasRenderingContext2D().prototype;t=G._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,a,l){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,r,n=G._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=G.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",ja);o.font=i;const l=(r?G.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const v=G._measureText(l[p],e.letterSpacing,o);u[p]=v,c=Math.max(c,v)}let h=c+e.strokeThickness;e.dropShadow&&(h+=e.dropShadowDistance);const f=e.lineHeight||s.fontSize+e.strokeThickness;let d=Math.max(f,s.fontSize+e.strokeThickness*2)+(l.length-1)*(f+e.leading);return e.dropShadow&&(d+=e.dropShadowDistance),new G(t,e,h,d,l,u,f+e.leading,c,s)}static _measureText(t,e,r){let n=!1;G.experimentalLetterSpacingSupported&&(G.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(G.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=G._canvas){const n=r.getContext("2d",ja);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,c=G.collapseSpaces(u),h=G.collapseNewlines(u);let f=!c;const d=e.wordWrapWidth+l,p=G.tokenize(t);for(let v=0;v<p.length;v++){let x=p[v];if(G.isNewline(x)){if(!h){o+=G.addLine(s),f=!c,s="",i=0;continue}x=" "}if(c){const y=G.isBreakingSpace(x),m=G.isBreakingSpace(s[s.length-1]);if(y&&m)continue}const g=G.getFromCache(x,l,a,n);if(g>d)if(s!==""&&(o+=G.addLine(s),s="",i=0),G.canBreakWords(x,e.breakWords)){const y=G.wordWrapSplit(x);for(let m=0;m<y.length;m++){let _=y[m],w=_,S=1;for(;y[m+S];){const T=y[m+S];if(!G.canBreakChars(w,T,x,m,e.breakWords))_+=T;else break;w=T,S++}m+=S-1;const E=G.getFromCache(_,l,a,n);E+i>d&&(o+=G.addLine(s),f=!1,s="",i=0),s+=_,i+=E}}else{s.length>0&&(o+=G.addLine(s),s="",i=0);const y=v===p.length-1;o+=G.addLine(x,!y),f=!1,s="",i=0}else g+i>d&&(f=!1,o+=G.addLine(s),s="",i=0),(s.length>0||!G.isBreakingSpace(x)||f)&&(s+=x,i+=g)}return o+=G.addLine(s,!1),o}static addLine(t,e=!0){return t=G.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=G._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!G.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:G._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:G._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(G.isBreakingSpace(i,s)||G.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return G.graphemeSegmenter(t)}static measureFont(t){if(G._fonts[t])return G._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=G._canvas,n=G._context;n.font=t;const i=G.METRICS_STRING+G.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(G.BASELINE_SYMBOL).width);const a=Math.ceil(G.HEIGHT_MULTIPLIER*o);if(o=o*G.BASELINE_MULTIPLIER|0,s===0||a===0)return G._fonts[t]=e,e;r.width=s,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const l=n.getImageData(0,0,s,a).data,u=l.length,c=s*4;let h=0,f=0,d=!1;for(h=0;h<o;++h){for(let p=0;p<c;p+=4)if(l[f+p]!==255){d=!0;break}if(!d)f+=c;else break}for(e.ascent=o-h,f=u-c,d=!1,h=a;h>o;--h){for(let p=0;p<c;p+=4)if(l[f+p]!==255){d=!0;break}if(!d)f-=c;else break}return e.descent=h-o,e.fontSize=e.ascent+e.descent,G._fonts[t]=e,e}static clearMetrics(t=""){t?delete G._fonts[t]:G._fonts={}}static get _canvas(){if(!G.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",ja);if(r!=null&&r.measureText)return G.__canvas=e,e;t=U.ADAPTER.createCanvas()}catch{t=U.ADAPTER.createCanvas()}t.width=t.height=10,G.__canvas=t}return G.__canvas}static get _context(){return G.__context||(G.__context=G._canvas.getContext("2d",ja)),G.__context}};let We=G;We.METRICS_STRING="|q";We.BASELINE_SYMBOL="M";We.BASELINE_MULTIPLIER=1.4;We.HEIGHT_MULTIPLIER=2;We.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();We.experimentalLetterSpacing=!1;We._fonts={};We._newlines=[10,13];We._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const rL=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Gs=class{constructor(t){this.styleID=0,this.reset(),xh(this,t,t)}clone(){const t={};return xh(t,this,Gs.defaultStyle),new Gs(t)}reset(){xh(this,Gs.defaultStyle,Gs.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=vh(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=vh(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){nL(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=vh(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!rL.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let ri=Gs;ri.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:zu.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function o0(t){return typeof t=="number"?Dw(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function vh(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=o0(t[e]);return t}else return o0(t)}function nL(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function xh(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const iL={texture:!0,children:!1,baseTexture:!0},md=class extends ea{constructor(t,e,r){let n=!1;r||(r=U.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=j.from(r);i.orig=new te,i.trim=new te,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=md.defaultResolution??U.RESOLUTION,this._autoResolution=md.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return We.experimentalLetterSpacing}static set experimentalLetterSpacing(t){oe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),We.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=We.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,a=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,c=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let h,f;const d=e.dropShadow?2:1;for(let p=0;p<d;++p){const v=e.dropShadow&&p===0,x=v?Math.ceil(Math.max(1,s)+e.padding*2):0,g=x*this._resolution;if(v){r.fillStyle="black",r.strokeStyle="black";const m=e.dropShadowColor,_=Oo(typeof m=="number"?m:em(m)),w=e.dropShadowBlur*this._resolution,S=e.dropShadowDistance*this._resolution;r.shadowColor=`rgba(${_[0]*255},${_[1]*255},${_[2]*255},${e.dropShadowAlpha})`,r.shadowBlur=w,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*S,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*S+g}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let y=(a-c.fontSize)/2;a-c.fontSize<0&&(y=0);for(let m=0;m<o.length;m++)h=e.strokeThickness/2,f=e.strokeThickness/2+m*a+c.ascent+y,e.align==="right"?h+=u-l[m]:e.align==="center"&&(h+=(u-l[m])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[m],h+e.padding,f+e.padding-x,!0),e.fill&&this.drawLetterSpacing(o[m],h+e.padding,f+e.padding-x)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const s=this._style.letterSpacing;let o=!1;if(We.experimentalLetterSpacingSupported&&(We.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let a=e;const l=We.graphemeSegmenter(t);let u=this.context.measureText(t).width,c=0;for(let h=0;h<l.length;++h){const f=l[h];n?this.context.strokeText(f,a,r):this.context.fillText(f,a,r);let d="";for(let p=h+1;p<l.length;++p)d+=l[p];c=this.context.measureText(d).width,a+=u-c+s,u=c}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=$4(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=n.slice(),c=t.fillGradientStops.slice();if(!c.length){const h=u.length+1;for(let f=1;f<h;++f)c.push(f/h)}if(u.unshift(n[0]),c.unshift(0),u.push(n[n.length-1]),c.push(1),t.fillGradientType===zu.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const h=r.fontProperties.fontSize+t.strokeThickness;for(let f=0;f<e.length;f++){const d=r.lineHeight*(f-1)+h,p=r.lineHeight*f;let v=p;f>0&&d>p&&(v=(p+d)/2);const x=p+h,g=r.lineHeight*(f+1);let y=x;f+1<e.length&&g<x&&(y=(x+g)/2);const m=(y-v)/l;for(let _=0;_<u.length;_++){let w=0;typeof c[_]=="number"?w=c[_]:w=_/u.length;let S=Math.min(1,Math.max(0,v/l+w*m));S=Number(S.toFixed(5)),i.addColorStop(S,u[_])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const h=u.length+1;let f=1;for(let d=0;d<u.length;d++){let p;typeof c[d]=="number"?p=c[d]:p=f/h,i.addColorStop(p,u[d]),f++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},iL,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Fi(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Fi(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof ri?this._style=t:this._style=new ri(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let hm=md;hm.defaultAutoResolution=!0;class sL{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function oL(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof j){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function aL(t,e){if(t.baseTexture instanceof Q){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function lL(t,e){if(t._texture&&t._texture instanceof j){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function uL(t,e){return e instanceof hm?(e.updateText(!0),!0):!1}function cL(t,e){if(e instanceof ri){const r=e.toFontString();return We.measureFont(r),!0}return!1}function hL(t,e){if(t instanceof hm){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function fL(t,e){return t instanceof ri?(e.includes(t)||e.push(t),!0):!1}const UT=class{constructor(t){this.limiter=new sL(UT.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(hL),this.registerFindHook(fL),this.registerFindHook(oL),this.registerFindHook(aL),this.registerFindHook(lL),this.registerUploadHook(uL),this.registerUploadHook(cL)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,ht.system.addOnce(this.tick,this,as.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)ht.system.addOnce(this.tick,this,as.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ot)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&ht.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let lu=UT;lu.uploadsPerFrame=4;Object.defineProperties(U,{UPLOADS_PER_FRAME:{get(){return lu.uploadsPerFrame},set(t){oe("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),lu.uploadsPerFrame=t}}});function VT(t,e){return e instanceof Q?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function dL(t,e){if(!(e instanceof Gu))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&VT(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function pL(t,e){return t instanceof Gu?(e.push(t),!0):!1}class GT extends lu{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(pL),this.registerUploadHook(VT),this.registerUploadHook(dL)}}GT.extension={name:"prepare",type:N.RendererSystem};H.add(GT);var mL=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,gL=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,yL=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,a0=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,vL=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Ha=new me;class zT extends Lu{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new Jw,this.state=jr.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=wr.from(a0,vL,r),this.shader=e.context.webGLVersion>1?wr.from(gL,mL,r):wr.from(a0,yL,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,h=e.uvMatrix;let f=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;f&&(l._glTextures[r.CONTEXT_UID]?f=l.wrapMode!==hn.CLAMP:l.wrapMode===hn.CLAMP&&(l.wrapMode=hn.REPEAT));const d=f?this.simpleShader:this.shader,p=a.width,v=a.height,x=e._width,g=e._height;Ha.set(c.a*p/x,c.b*p/g,c.c*v/x,c.d*v/g,c.tx/x,c.ty/g),Ha.invert(),f?Ha.prepend(h.mapCoord):(d.uniforms.uMapCoord=h.mapCoord.toArray(!0),d.uniforms.uClampFrame=h.uClampFrame,d.uniforms.uClampOffset=h.uClampOffset),d.uniforms.uTransform=Ha.toArray(!0),d.uniforms.uColor=Fw(e.tint,e.worldAlpha,d.uniforms.uColor,u),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=a,r.shader.bind(d),r.geometry.bind(n),this.state.blendMode=Bw(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}zT.extension={name:"tilingSprite",type:N.RendererPlugin};H.add(zT);const zs=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof j?t:null,this.baseTexture=t instanceof Q?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=gn(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=zs.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=zs.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new te(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new te(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new te(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new te(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new j(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor),j.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*zs.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*zs.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let gd=zs;gd.BATCH_SIZE=1e3;const xL=["jpg","png","jpeg","avif","webp"];function jT(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=qe.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=jT([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const _L={extension:N.Asset,cache:{test:t=>t instanceof gd,getCacheableAssets:(t,e)=>jT(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&xL.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=U.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:N.LoadParser,priority:Er.Normal},async testParse(t,e){return qe.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var u,c;let n=qe.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=hd(i,e.src);const o=(await r.load([i]))[i],a=new gd(o.baseTexture,t,e.src);await a.parse();const l=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const h=[];for(const d of l){if(typeof d!="string")continue;let p=n+d;(c=e.data)!=null&&c.ignoreMultiPack||(p=hd(p,e.src),h.push(r.load({src:p,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(h);a.linkedSheets=f,f.forEach(d=>{d.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==d))})}return a},unload(t){t.destroy(!0)}}};H.add(_L);class uu{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class pl{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const c=a[u].split("="),h=c[0],f=c[1].replace(/"/gm,""),d=parseFloat(f),p=isNaN(d)?f:d;l[h]=p}n[o].push(l)}const i=new uu;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class yd{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new uu,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const c=o[u];r.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class vd{static test(e){return typeof e=="string"&&e.includes("<font>")?yd.test(U.ADAPTER.parseXML(e)):!1}static parse(e){return yd.parse(U.ADAPTER.parseXML(e))}}const _h=[pl,yd,vd];function wL(t){for(let e=0;e<_h.length;e++)if(_h[e].test(t))return _h[e];return null}function TL(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,c=t.width/n-l-u*2,h=t.height/n-l-u*2,f=o.slice(),d=r.fillGradientStops.slice();if(!d.length){const p=f.length+1;for(let v=1;v<p;++v)d.push(v/p)}if(f.unshift(o[0]),d.unshift(0),f.push(o[o.length-1]),d.push(1),r.fillGradientType===zu.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,u,c/2,h+u);let p=0;const x=(s.fontProperties.fontSize+r.strokeThickness)/h;for(let g=0;g<i.length;g++){const y=s.lineHeight*g;for(let m=0;m<f.length;m++){let _=0;typeof d[m]=="number"?_=d[m]:_=m/f.length;const w=y/h+_*x;let S=Math.max(p,w);S=Math.min(S,1),a.addColorStop(S,f[m]),p=S}}}else{a=e.createLinearGradient(u,h/2,c+u,h/2);const p=f.length+1;let v=1;for(let x=0;x<f.length;x++){let g;typeof d[x]=="number"?g=d[x]:g=v/p,a.addColorStop(g,f[x]),v++}}return a}function EL(t,e,r,n,i,s,o){const a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);const u=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=TL(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,f=Oo(typeof h=="number"?h:em(h)),d=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor=`rgba(${f[0]*255},${f[1]*255},${f[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,c+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,c+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function ml(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function HT(t){return Array.from?Array.from(t):t.split("")}function SL(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...HT(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const jt=class{constructor(t,e,r){var u;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=gn(s.file),l={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let c=0;c<t.page.length;c++){const{id:h,file:f}=t.page[c];l[h]=e instanceof Array?e[c]:e[f],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[h].baseTexture.alphaMode=nr.NO_PREMULTIPLIED_ALPHA,l[h].baseTexture.mipmap=Tr.OFF)}for(let c=0;c<t.char.length;c++){const{id:h,page:f}=t.char[c];let{x:d,y:p,width:v,height:x,xoffset:g,yoffset:y,xadvance:m}=t.char[c];d/=a,p/=a,v/=a,x/=a,g/=a,y/=a,m/=a;const _=new te(d+l[f].frame.x/a,p+l[f].frame.y/a,v,x);this.chars[h]={xOffset:g,yOffset:y,xAdvance:m,kerning:{},texture:new j(l[f].baseTexture,_),page:f}}for(let c=0;c<t.kerning.length;c++){let{first:h,second:f,amount:d}=t.kerning[c];h/=a,f/=a,d/=a,this.chars[f]&&(this.chars[f].kerning[h]=d)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((u=o==null?void 0:o.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof uu)n=t;else{const s=wL(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof j&&(e=[e]);const i=new jt(n,e,r);return jt.available[i.font]=i,i}static uninstall(t){const e=jt.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete jt.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},jt.defaultOptions,r),u=SL(n),c=e instanceof ri?e:new ri(e),h=o,f=new uu;f.info[0]={face:c.fontFamily,size:c.fontSize},f.common[0]={lineHeight:c.fontSize};let d=0,p=0,v,x,g,y=0;const m=[];for(let w=0;w<u.length;w++){v||(v=U.ADAPTER.createCanvas(),v.width=o,v.height=a,x=v.getContext("2d"),g=new Q(v,{resolution:s,...l}),m.push(new j(g)),f.page.push({id:m.length-1,file:""}));const S=u[w],E=We.measureText(S,c,!1,v),T=E.width,R=Math.ceil(E.height),P=Math.ceil((c.fontStyle==="italic"?2:1)*T);if(p>=a-R*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${S}')`);--w,v=null,x=null,g=null,p=0,d=0,y=0;continue}if(y=Math.max(R+E.fontProperties.descent,y),P*s+d>=h){if(d===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${S}')`);--w,p+=y*s,p=Math.ceil(p),d=0,y=0;continue}EL(v,x,E,d,p,s,c);const M=ml(E.text);f.char.push({id:M,page:m.length-1,x:d/s,y:p/s,width:P,height:R,xoffset:0,yoffset:0,xadvance:T-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0)}),d+=(P+2*i)*s,d=Math.ceil(d)}for(let w=0,S=u.length;w<S;w++){const E=u[w];for(let T=0;T<S;T++){const R=u[T],P=x.measureText(E).width,M=x.measureText(R).width,C=x.measureText(E+R).width-(P+M);C&&f.kerning.push({first:ml(E),second:ml(R),amount:C})}}const _=new jt(f,m,!0);return jt.available[t]!==void 0&&jt.uninstall(t),jt.available[t]=_,_}};let ut=jt;ut.ALPHA=[["a","z"],["A","Z"]," "];ut.NUMERIC=[["0","9"]];ut.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];ut.ASCII=[[" ","~"]];ut.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:jt.ALPHANUMERIC};ut.available={};var AL=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,bL=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const l0=[],u0=[],c0=[],$T=class extends Ot{constructor(t,e={}){super(),this._tint=16777215;const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},$T.styleDefaults,e);if(!ut.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tint=n,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new en(()=>{this.dirty=!0},this,0,0),this._roundPixels=U.ROUND_PIXELS,this.dirty=!0,this._resolution=U.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var P;const t=ut.available[this._fontName],e=this.fontSize,r=e/t.size,n=new se,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=HT(a),u=this._maxWidth*t.size/e,c=t.distanceFieldType==="none"?l0:u0;let h=null,f=0,d=0,p=0,v=-1,x=0,g=0,y=0,m=0;for(let M=0;M<l.length;M++){const F=l[M],C=ml(F);if(/(?:\s)/.test(F)&&(v=M,x=f,m++),F==="\r"||F===`
`){s.push(f),o.push(-1),d=Math.max(d,f),++p,++g,n.x=0,n.y+=t.lineHeight,h=null,m=0;continue}const b=t.chars[C];if(!b)continue;h&&b.kerning[h]&&(n.x+=b.kerning[h]);const W=c0.pop()||{texture:j.EMPTY,line:0,charCode:0,prevSpaces:0,position:new se};W.texture=b.texture,W.line=p,W.charCode=C,W.position.x=Math.round(n.x+b.xOffset+this._letterSpacing/2),W.position.y=Math.round(n.y+b.yOffset),W.prevSpaces=m,i.push(W),f=W.position.x+Math.max(b.xAdvance-b.xOffset,b.texture.orig.width),n.x+=b.xAdvance+this._letterSpacing,y=Math.max(y,b.yOffset+b.texture.height),h=C,v!==-1&&u>0&&n.x>u&&(++g,Xi(i,1+v-g,1+M-v),M=v,v=-1,s.push(x),o.push(i.length>0?i[i.length-1].prevSpaces:0),d=Math.max(d,x),p++,n.x=0,n.y+=t.lineHeight,h=null,m=0)}const _=l[l.length-1];_!=="\r"&&_!==`
`&&(/(?:\s)/.test(_)&&(f=x),s.push(f),d=Math.max(d,f),o.push(-1));const w=[];for(let M=0;M<=p;M++){let F=0;this._align==="right"?F=d-s[M]:this._align==="center"?F=(d-s[M])/2:this._align==="justify"&&(F=o[M]<0?0:(d-s[M])/o[M]),w.push(F)}const S=i.length,E={},T=[],R=this._activePagesMeshData;c.push(...R);for(let M=0;M<S;M++){const F=i[M].texture,C=F.baseTexture.uid;if(!E[C]){let b=c.pop();if(!b){const Z=new ZO;let k,I;t.distanceFieldType==="none"?(k=new i0(j.EMPTY),I=K.NORMAL):(k=new i0(j.EMPTY,{program:qt.from(bL,AL),uniforms:{uFWidth:0}}),I=K.NORMAL_NPM);const O=new pd(Z,k);O.blendMode=I,b={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:O,vertices:null,uvs:null,indices:null}}b.index=0,b.indexCount=0,b.vertexCount=0,b.uvsCount=0,b.total=0;const{_textureCache:W}=this;W[C]=W[C]||new j(F.baseTexture),b.mesh.texture=W[C],b.mesh.tint=this._tint,T.push(b),E[C]=b}E[C].total++}for(let M=0;M<R.length;M++)T.includes(R[M])||this.removeChild(R[M].mesh);for(let M=0;M<T.length;M++)T[M].mesh.parent!==this&&this.addChild(T[M].mesh);this._activePagesMeshData=T;for(const M in E){const F=E[M],C=F.total;if(!(((P=F.indices)==null?void 0:P.length)>6*C)||F.vertices.length<pd.BATCHABLE_SIZE*2)F.vertices=new Float32Array(4*2*C),F.uvs=new Float32Array(4*2*C),F.indices=new Uint16Array(6*C);else{const b=F.total,W=F.vertices;for(let Z=b*4*2;Z<W.length;Z++)W[Z]=0}F.mesh.size=6*C}for(let M=0;M<S;M++){const F=i[M];let C=F.position.x+w[F.line]*(this._align==="justify"?F.prevSpaces:1);this._roundPixels&&(C=Math.round(C));const b=C*r,W=F.position.y*r,Z=F.texture,k=E[Z.baseTexture.uid],I=Z.frame,O=Z._uvs,A=k.index++;k.indices[A*6+0]=0+A*4,k.indices[A*6+1]=1+A*4,k.indices[A*6+2]=2+A*4,k.indices[A*6+3]=0+A*4,k.indices[A*6+4]=2+A*4,k.indices[A*6+5]=3+A*4,k.vertices[A*8+0]=b,k.vertices[A*8+1]=W,k.vertices[A*8+2]=b+I.width*r,k.vertices[A*8+3]=W,k.vertices[A*8+4]=b+I.width*r,k.vertices[A*8+5]=W+I.height*r,k.vertices[A*8+6]=b,k.vertices[A*8+7]=W+I.height*r,k.uvs[A*8+0]=O.x0,k.uvs[A*8+1]=O.y0,k.uvs[A*8+2]=O.x1,k.uvs[A*8+3]=O.y1,k.uvs[A*8+4]=O.x2,k.uvs[A*8+5]=O.y2,k.uvs[A*8+6]=O.x3,k.uvs[A*8+7]=O.y3}this._textWidth=d*r,this._textHeight=(n.y+t.lineHeight)*r;for(const M in E){const F=E[M];if(this.anchor.x!==0||this.anchor.y!==0){let Z=0;const k=this._textWidth*this.anchor.x,I=this._textHeight*this.anchor.y;for(let O=0;O<F.total;O++)F.vertices[Z++]-=k,F.vertices[Z++]-=I,F.vertices[Z++]-=k,F.vertices[Z++]-=I,F.vertices[Z++]-=k,F.vertices[Z++]-=I,F.vertices[Z++]-=k,F.vertices[Z++]-=I}this._maxLineHeight=y*r;const C=F.mesh.geometry.getBuffer("aVertexPosition"),b=F.mesh.geometry.getBuffer("aTextureCoord"),W=F.mesh.geometry.getIndex();C.data=F.vertices,b.data=F.uvs,W.data=F.indices,C.update(),b.update(),W.update()}for(let M=0;M<i.length;M++)c0.push(i[M]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=ut.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),c=(Math.abs(l)+Math.abs(u))/2,h=this.fontSize/n,f=t._view.resolution;for(const d of this._activePagesMeshData)d.mesh.shader.uniforms.uFWidth=c*e*h*f}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=ut.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!ut.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??ut.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=ut.available[this._fontName].distanceFieldType==="none"?l0:u0;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=j.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let CL=$T;CL.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const PL=[".xml",".fnt"],IL={extension:{type:N.LoadParser,priority:Er.Normal},test(t){return PL.includes(qe.extname(t).toLowerCase())},async testParse(t){return pl.test(t)||vd.test(t)},async parse(t,e,r){const n=pl.test(t)?pl.parse(t):vd.parse(t),{src:i}=e,{page:s}=n,o=[];for(let u=0;u<s.length;++u){const c=s[u].file;let h=qe.join(qe.dirname(i),c);h=hd(h,i),o.push(h)}const a=await r.load(o),l=o.map(u=>a[u]);return ut.install(n,l,!0)},async load(t,e){return(await U.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};H.add(IL);function RL({onFinish:t}){const e=$.useRef(null),r=$.useRef(null);return $.useEffect(()=>{const n=new am({width:window.innerWidth,height:window.innerHeight,backgroundColor:0,antialias:!0});e.current.appendChild(n.view),r.current&&r.current.play().catch(()=>{});const i=setTimeout(()=>{t()},1e3);return()=>{clearTimeout(i),n.destroy(!0,{children:!0})}},[t]),z.jsxs($l.div,{className:"flex h-screen w-screen items-center justify-center bg-black text-white",initial:{opacity:1},animate:{opacity:1},children:[z.jsx("div",{ref:e,className:"absolute top-0 left-0 w-full h-full"}),z.jsx("audio",{ref:r,src:"/fixed-d.mp3",preload:"auto",loop:!0}),z.jsx($l.h1,{initial:{scale:.8,opacity:0},animate:{scale:1.2,opacity:1},transition:{duration:1,yoyo:1/0},className:"text-3xl font-bold mix-blend-difference ",children:"its me"})]})}function ML(){const[t,e]=$.useState(!0);return t?z.jsx(RL,{onFinish:()=>e(!1)}):z.jsx(xI,{})}wh.createRoot(document.getElementById("root")).render(z.jsx(tn.StrictMode,{children:z.jsx(ML,{})}));
